(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t,n){e.exports=n(922)},682:function(e,t,n){},922:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"App",function(){return ka}),n.d(a,"Contacts",function(){return wa}),n.d(a,"ContactsLocalStorage",function(){return xa}),n.d(a,"ContactsFirebase",function(){return Da}),n.d(a,"EditContact",function(){return Na}),n.d(a,"FieldsScreen",function(){return La}),n.d(a,"Fields",function(){return Aa}),n.d(a,"FormEditor",function(){return Pa}),n.d(a,"Home",function(){return Ia}),n.d(a,"Tasks",function(){return Va}),n.d(a,"TasksLocalStorage",function(){return Ba}),n.d(a,"TasksFirebase",function(){return Wa});var o=n(38),l=n.n(o),r=n(55),i=n(0),c=n.n(i),s=n(30),u=n.n(s),p=n(11),d=n(10),m=n(13),h=n(12),f=n(14),b=n(37),v=n(6),g=n.n(v),y=n(363),C=n.n(y),O=n(160),E=n.n(O),k=n(230),F=n.n(k),j=n(22),S=n.n(j),w=n(36),x=n.n(w),D=n(114),N=n.n(D),L=n(342),T=n.n(L),A=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){n.props.onClick&&n.props.onClick(e)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"toFontIconName",value:function(e){return T()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,a=n?this.toFontIconName(n):null;return c.a.createElement(N.a,{className:t,onClick:this.handleClick},a)}}]),t}(c.a.PureComponent),P=n(49),I=n(231),V=n.n(I),B=n(232),W=n.n(B),M=n(345),U=n.n(M),R=n(224),q=n.n(R),H=n(159),z=n.n(H),K=n(125),G=n.n(K),$=n(344),X=n.n($),J=n(33),Z=n.n(J),_=n(29),Y=n.n(_),Q=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=function(e){e.items?n.setState({open:!n.state.open}):(n.props.onNavigate&&n.props.onNavigate(e),n.props.onDrawerToggle&&n.props.onDrawerToggle())},n.state={open:n.childSelected()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"childSelected",value:function(){var e=this.props,t=e.item,n=e.path,a=!1;return Z()(t.items,function(e){if(n===e.path)return a=!0,!1}),a}},{key:"items",value:function(){var e=this,t=this.props,n=t.classes,a=t.item,o=t.path,l=[];return a.items.forEach(function(t,a){var r=o===t.path,i=[n.secondary];r&&i.push(n.selected),(!t.roles||Y.a.client&&Y.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(c.a.createElement(z.a,{button:!0,className:n.nested,key:a,onClick:function(){return e.handleClick(t)}},c.a.createElement(G.a,{disableTypography:!0,primary:c.a.createElement(S.a,{variant:"body2",className:i.join(" ")},t.label)})))}),l}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.classes,o=t.path,l=n.items?this.items():null,r=o===n.path,i=[a.primary];r&&i.push(a.selected);var s=null;return l&&(s=c.a.createElement(X.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},c.a.createElement(q.a,{disablePadding:!0},this.items()))),c.a.createElement("div",null,c.a.createElement(z.a,{button:!0,onClick:function(){return e.handleClick(n)}},c.a.createElement(G.a,{disableTypography:!0,primary:c.a.createElement(S.a,{variant:"subtitle1",className:i.join(" ")},n.label)}),l?this.state.open?c.a.createElement(A,{icon:"ExpandLess"}):c.a.createElement(A,{icon:"ExpandMore"}):null),s)}}]),t}(c.a.PureComponent),ee=g()(function(e){return{nested:{paddingLeft:4*e.spacing.unit},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}})(Q),te=n(225),ne=n.n(te),ae=function(e,t){return function(n){return function(a){function o(n){var a;return Object(p.a)(this,o),(a=Object(m.a)(this,Object(h.a)(o).call(this,n))).wasMounted=!1,a.getComponent=function(e){return e||(e=a.props),t?"string"===typeof t?e[t]:t:e.component},a.handleFieldChange=function(e,t){-1!==a.watchProps.indexOf(e)&&a.wasMounted&&a.setState(Object(b.a)({},e,t))},a.watchProps=ne()(e,Object.keys(a.props)),a.state=a.getComponent().get(a.watchProps),a}return Object(f.a)(o,a),Object(d.a)(o,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){var e=this.getComponent().get(this.watchProps);this.setState(e)}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return c.a.createElement(n,Object.assign({},this.state,this.props))}}]),o}(c.a.PureComponent)}},oe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleDrawerToggle=function(){n.props.onDrawerToggle&&n.props.onDrawerToggle()},n.handleNavigate=function(e){n.props.onNavigate&&n.props.onNavigate(e)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"items",value:function(){var e=this,t=this.props,n=t.component,a=t.path,o=n.get("items"),l=[];return o.forEach(function(t,n){(!t.roles||Y.a.client&&Y.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(c.a.createElement(ee,{item:t,key:n,onNavigate:e.handleNavigate,path:a,onDrawerToggle:e.handleDrawerToggle}))}),l}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.theme,o=t.mobileOpen,l=t.responsive;e=this.items();var r=c.a.createElement("div",null,c.a.createElement("div",{className:n.drawerHeader},c.a.createElement(S.a,{variant:"h4"},"Logo")),c.a.createElement(U.a,null),e),i=c.a.createElement(V.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:o,classes:{paper:n.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},r),s=c.a.createElement(V.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper+(l?" ".concat(n.drawPaperResponsive):"")}},r);return l?c.a.createElement("div",null,c.a.createElement(W.a,{mdUp:!0},i),c.a.createElement(W.a,{smDown:!0,implementation:"css"},s)):i}}]),t}(c.a.PureComponent);oe=g()(function(e){return{drawerHeader:Object(P.a)({},e.mixins.toolbar,{paddingLeft:3*e.spacing.unit,paddingTop:e.spacing.unit}),drawerPaper:{width:250},drawPaperResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:240,position:"fixed",height:"100vh"})}},{withTheme:!0})(oe);var le=oe=ae(["items"])(oe),re=n(118),ie=n.n(re),ce=n(26),se=n.n(ce),ue=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleKeyUp=function(e){13===e.keyCode&&se.a.set({searchString:n.props.searchString})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.searchString,o=e.onChange;return c.a.createElement("div",{className:n},c.a.createElement(ie.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:a,onKeyUp:this.handleKeyUp,onChange:o}),c.a.createElement(A,{icon:"Search",className:t.searchIcon}))}}]),t}(c.a.PureComponent),pe=g()(function(e){return{textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 10px 10px 42px",width:"calc(100%)",color:e.palette.common.white},searchIcon:{position:"relative",top:"7px",left:"-210px"}}})(ue),de=n(364),me=n.n(de),he=n(365),fe=n.n(he),be=n(66),ve=n(77),ge=n.n(ve),ye=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){n.props.onClick&&n.props.onClick()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.type,a=e.disabled,o=e.label,l=e.icon,r=e.fullWidth,i=e.variant,s=!1!==e.marginTop?t.marginTop:null;return c.a.createElement(ge.a,{className:s,type:n,color:"primary",disabled:a,onClick:this.handleClick,fullWidth:r,variant:i},l?c.a.createElement(A,{className:t.leftIcon,icon:l}):null,o)}}]),t}(c.a.PureComponent),Ce=g()(function(e){return{leftIcon:{marginRight:e.spacing.unit},marginTop:{marginTop:3*e.spacing.unit}}})(ye),Oe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){"submit"!==n.props.type&&n.props.component.emitClick()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,a=e.disabled,o=e.icon,l=e.fullWidth,r=e.variant;return c.a.createElement(Ce,{type:n,label:t,disabled:a,onClick:this.handleClick,icon:o,fullWidth:l,variant:r})}}]),t}(c.a.PureComponent),Ee=ae(["label","type","disabled","icon","fullWidth","variant"])(Oe),ke=n(161),Fe=n.n(ke),je=n(227),Se=n.n(je),we=n(229),xe=n.n(we),De=n(119),Ne=n.n(De),Le=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,n=e.children,a=e.classes,o=e.marginBottom,l=t?a.fullWidth:"",r=!1===o?a.noMarginBottom:"";return c.a.createElement(Ne.a,{fullWidth:t,className:"".concat(a.formControl," ").concat(l," ").concat(r)},n)}}]),t}(c.a.PureComponent),Te=g()(function(e){return{formControl:{margin:e.spacing.unit},fullWidth:{width:"calc(100% - ".concat(2*e.spacing.unit,"px)")},noMarginBottom:{marginBottom:0}}})(Le),Ae=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.help;return c.a.createElement(E.a,{disableTouchListener:!0,title:e},c.a.createElement(x.a,{"aria-label":"Help"},c.a.createElement(A,{icon:"HelpOutline"})))}}]),t}(c.a.PureComponent),Pe=n(228),Ie=n.n(Pe),Ve=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.shrink,o=Object.assign({},this.props,{shrink:void 0,classes:void 0}),l=a?n.shrink:n.noShrink;return c.a.createElement(Ie.a,Object.assign({},o,{className:l}),t)}}]),t}(c.a.PureComponent),Be=g()(function(e){return{shrink:Object(P.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(P.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}})(Ve),We=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.component,a=t.children,o=t.label,l=t.required,r=t.fullWidth,i=t.err,s=t.editable,u=t.touched,p=t.help,d=t.hideLabelUI,m=t.hideLabel,h=t.useDisplayValue,f=t.shrinkLabel,b=t.inlineLabel,v=t.marginBottom,g=t.autoHideLabel,y=null,C=n.isBlank(),O=n.getUniqueId();if(!d&&!m&&(!g||o))if(!s||h||b){var E=o||"\xa0";y=c.a.createElement(Be,{htmlFor:O,error:!(!u||!i),required:l&&!h&&s,shrink:h||!s||f},E),b||(y=c.a.createElement("div",null,y))}else y=c.a.createElement(Se.a,{htmlFor:O,error:!(!u||!i),required:o&&l,shrink:f},o);var k=n.getFirstErr();return e=c.a.createElement("span",null,y,a,p&&s?c.a.createElement(Ae,{help:p}):"",u&&i?c.a.createElement(xe.a,{error:!0},k):null),s||!C?c.a.createElement(Te,{fullWidth:r,marginBottom:v},e):null}}]),t}(c.a.PureComponent),Me=We=ae(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(We),Ue=n(346),Re=n.n(Ue),qe=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return c.a.createElement(S.a,{variant:"subtitle1",component:"span",className:n.root},t)}}]),t}(c.a.PureComponent),He=g()(function(e){return{root:{display:"inline-block"}}})(qe),ze=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){n.props.component.setValue(e.target.checked)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,a=e.component,o=e.editable,l=e.useDisplayValue,r=e.label,i=null,s=null;return o&&!l?(i=!0,s=c.a.createElement(Re.a,{control:c.a.createElement(Fe.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:n}),label:r})):s=c.a.createElement(He,null,a.getDisplayValue()),c.a.createElement(Me,{component:a,hideLabelUI:i},s)}}]),t}(c.a.PureComponent),Ke=ae(["value","err","disabled","editable","useDisplayValue","label"])(ze),Ge=n(40),$e=n.n(Ge),Xe=n(46),Je=n.n(Xe),Ze=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=n.get("content"),o=n.get("title");return c.a.createElement($e.a,{container:!0,spacing:0,justify:"center"},c.a.createElement($e.a,{item:!0,xs:12,sm:9,md:6,lg:6},c.a.createElement(Je.a,{className:t.paper},c.a.createElement($e.a,{container:!0,wrap:"nowrap"},c.a.createElement($e.a,{item:!0,className:t.content},c.a.createElement(S.a,{variant:"h5",component:"h2"},o),c.a.createElement(Rn,{component:a}))))))}}]),t}(c.a.PureComponent),_e=g()(function(e){return{paper:{margin:e.spacing.unit,padding:2*e.spacing.unit},content:{flex:1}}})(Ze),Ye=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes;return c.a.createElement("div",{className:n.root},c.a.createElement(Rn,{component:t}))}}]),t}(c.a.PureComponent);Ye=g()(function(e){return{root:{marginLeft:e.spacing.unit}}})(Ye);var Qe=Ye=ae(["content"])(Ye),et=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.break})}}]),t}(c.a.PureComponent),tt=g()(function(e){return{break:{width:"100%"}}})(et),nt=new(function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,[{key:"getIfDefined",value:function(e){var t={};return Z()(e,function(e,n){void 0!==e&&(t[n]=e)}),t}}]),e}()),at=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hidden,a=e.block,o=e.accessEditable,l=e.didCreate,r=e.noBlock,i=e.disabled;if(n||!l)return null;if("Field"===t.getClassName())return null;var s=Mn.getUIComponent(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement(s,Object.assign({component:t,accessEditable:o,block:a},nt.getIfDefined({disabled:i}))),!r&&a?c.a.createElement(tt,null):null)}}]),t}(c.a.PureComponent),ot=ae(["hidden","block","didCreate"])(at),lt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.help,a=e.editable,o=e.useDisplayValue,l=e.block,r=e.disabled,i=[],s=!1,u=!0;return t.eachField(function(e,t,n){!u&&o&&e.isBlank()||(n&&e.get("block")&&(s=!0),i.push(c.a.createElement(ot,{component:e,key:t,noBlock:n,disabled:r}))),u&&(u=!1)}),n&&a&&i.push(c.a.createElement(Ae,{help:n,key:"help"})),s&&!1!==l&&i.push(c.a.createElement(tt,{key:"break"})),i}}]),t}(c.a.PureComponent),rt=ae(["change","help","editable","useDisplayValue"])(lt),it=n(121),ct=n.n(it),st=n(163),ut=n(347),pt=n.n(ut),dt=n(348),mt=n.n(dt),ht=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleDateChange=function(e){n.props.component.setValue(e)},n.handleBlur=function(){n.props.component.setTouched(!0)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.includeTime,l=e.editable,r=e.useDisplayValue,i=e.minDate,s=e.maxDate,u=e.fullWidth,p=e.disabled,d=!1===e.accessEditable||p,m=!1,h=o?pt.a:mt.a,f=null;return l&&!r?(m=!!a,f=c.a.createElement(ct.a,{utils:st.a},c.a.createElement("span",null,c.a.createElement(h,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,minDate:i,maxDate:s,onClose:this.handleBlur,fullWidth:u,disabled:d})))):f=c.a.createElement(He,null,t.getDisplayValue()),c.a.createElement(Me,{component:t,shrinkLabel:m},f)}}]),t}(c.a.PureComponent);ht=g()(function(e){return{root:{marginTop:2*e.spacing.unit}}})(ht);var ft=ae(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled"])(ht),bt=n(52),vt=n.n(bt),gt=function(e){function t(e){var n;if(Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={fieldsCanAccess:null},n.handleSave=function(e){e.preventDefault();var t=n.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},n.turnOnAutoValidate(),e.access){var a=n.calcFieldsCanAccess();n.state.fieldsCanAccess=a}return n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e=this.props,t=e.component,n=e.mode,a=vt.a.fieldsCanAccess(n||"update",t,null,!0),o=!0,l=!1,r=void 0;try{for(var i,c=t.getFields()[Symbol.iterator]();!(o=(i=c.next()).done);o=!0){var s=i.value,u=void 0===a[s.get("name")];s.set({ignoreErrs:u})}}catch(p){l=!0,r=p}finally{try{o||null==c.return||c.return()}finally{if(l)throw r}}return a}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.component,o=n.access,l=n.mode;e.component!==a&&this.turnOnAutoValidate(),e.access===o&&e.mode===l&&e.component===a||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.formTag,a=e.isLoading,o=e.disabled,l=this.state.fieldsCanAccess,r=t.get("fields");if(a)return null;var i=t.getKey(),s=r.map(function(e,t){if(null===l||void 0!==l[e.get("name")]){var n=null;return null!==l&&"read"===l[e.get("name")]&&(n=!1),c.a.createElement(ot,{key:i+"_"+t,component:e,accessEditable:n,disabled:o})}return null});return!1!==n?c.a.createElement("form",{onSubmit:this.handleSave},s):s}}]),t}(c.a.PureComponent),yt=ae(["access","mode","isLoading","change"])(gt),Ct=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=e.disabled,l=t.isBlank(),r=t.get("form");return c.a.createElement("span",null,!n&&c.a.createElement(Me,{component:t,inlineLabel:"true",shrinkLabel:!l,marginBottom:!1}),c.a.createElement(tt,null),c.a.createElement("span",{className:a.root},c.a.createElement(yt,{component:r,formTag:!1,disabled:o})))}}]),t}(c.a.PureComponent);Ct=g()(function(e){return{root:{marginLeft:2*e.spacing.unit,display:"flex",flexFlow:"wrap"}}})(Ct);var Ot=ae(["hideLabel","value"])(Ct),Et=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.editable,o=e.disabled,l=e.archivedAt,r=e.onEdit,i=e.onDelete,s=null;t||(s=c.a.createElement(x.a,{onClick:r},c.a.createElement(A,{icon:"Edit"})));var u=null;return n||(u=c.a.createElement(x.a,{onClick:i},c.a.createElement(A,{icon:l?"Restore":"Delete"}))),!a||o||t&&n?null:c.a.createElement($e.a,{item:!0},s,u)}}]),t}(c.a.PureComponent),kt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){n.props.onClick&&n.props.onClick(e,n.props.component)},n.handleEdit=function(e,t){n.props.onEdit&&n.props.onEdit(e,n.props.component)},n.handleDelete=function(e){n.props.onDelete&&n.props.onDelete(n.props.component)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.component,o=t.forbidUpdate,l=t.forbidDelete,r=t.editable,i=t.disabled,s=t.value;return c.a.createElement("div",null,c.a.createElement(Je.a,{className:n.paper},c.a.createElement($e.a,{container:!0,wrap:"nowrap"},c.a.createElement($e.a,{item:!0,className:n.content,onClick:function(t){return e.handleClick(t)}},c.a.createElement(Rn,{component:a,formTag:!1,mode:"read"})),c.a.createElement(Et,{forbidUpdate:o,forbidDelete:l,editable:r,disabled:i,archivedAt:s.archivedAt,onEdit:function(t){return e.handleEdit(t)},onDelete:function(t){return e.handleDelete(t)}}))))}}]),t}(c.a.PureComponent);kt=g()(function(e){return{paper:{margin:e.spacing.unit,padding:2*e.spacing.unit},content:{flex:1,cursor:"pointer"}}})(kt);var Ft=ae(["value"])(kt),jt=n(122),St=n.n(jt),wt=n(123),xt=n.n(wt),Dt=n(349),Nt=n.n(Dt),Lt=n(124),Tt=n.n(Lt),At=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={saveClicked:!1,previousMode:null},n.handleClose=function(e){var t=n.props,a=t.mode,o=t.onClose,l=t.onCancel,r=t.currentForm;(e||"update"!==a)&&("update"===a?l&&l(r):o&&o(r))},n.handleEdit=function(){n.props.onEdit&&n.props.onEdit(n.props.currentForm)},n.handleSave=function(e){e.preventDefault(),n.props.disableSubmit||(n.props.onSave&&n.props.onSave(),n.setState({saveClicked:!0}))},n.handleDelete=function(){n.props.onDelete&&n.props.onDelete(n.props.currentForm)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mode,a=t.component,o=t.forbidUpdate,l=t.forbidDelete,r=t.value,i=this.state,s=i.saveClicked,u=i.previousMode,p=a.hasErrorForTouchedField()||!a.get("dirty")||s,d=this.isOpen(),m=null;return"update"===n||"create"===n||null===n&&("update"===u||"create"===u)?m=c.a.createElement("div",null,c.a.createElement(Ce,{type:"submit",label:"Save",icon:"Save",disabled:p}),c.a.createElement(Ce,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})):o&&l||(m=c.a.createElement("div",null,o?"":c.a.createElement(Ce,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),l?"":c.a.createElement(Ce,{label:r.archivedAt?"Restore":"Delete",icon:r.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),c.a.createElement(Ce,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}}))),c.a.createElement(St.a,{open:d,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title"},c.a.createElement("form",{onSubmit:this.handleSave},c.a.createElement(Tt.a,null,c.a.createElement(Rn,{component:a,formTag:!1,mode:n})),m?c.a.createElement(xt.a,null,m):""))}}]),t}(c.a.PureComponent);At=Nt()()(At);var Pt=At=ae(["err","dirty","value","mode","disableSubmit"])(At),It=n(351),Vt=n.n(It),Bt=n(350),Wt=n.n(Bt),Mt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(e){n.props.onClose&&n.props.onClose(e)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.text,o=t.open,l=t.alert;return c.a.createElement("div",null,c.a.createElement(St.a,{open:o,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(Wt.a,{id:"alert-dialog-title"},n),c.a.createElement(Tt.a,null,c.a.createElement(Vt.a,{id:"alert-dialog-description"},a)),c.a.createElement(xt.a,null,l?null:c.a.createElement(ge.a,{onClick:function(){return e.handleClose(!1)},color:"primary"},"No"),c.a.createElement(ge.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0},l?"OK":"Yes"))))}}]),t}(c.a.PureComponent),Ut=(n(682),n(62)),Rt=n.n(Ut),qt=n(120),Ht=n.n(qt),zt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){var e="ASC"===n.props.sortOrder?"DESC":"ASC";n.props.onChange({sortOrder:e})},n.handleChange=function(e){n.props.onChange({sortBy:e.target.value})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sortBy,a="DESC"!==e.sortOrder,o=e.options.map(function(e){return c.a.createElement(Rt.a,{value:e.value,key:e.value},e.label)});return c.a.createElement("div",null,c.a.createElement(Ne.a,{className:t.formControl},c.a.createElement(Ht.a,{value:n,onChange:this.handleChange},c.a.createElement(Rt.a,{value:""},c.a.createElement("em",null,"None")),o)),c.a.createElement(x.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick},c.a.createElement(A,{icon:"Sort",className:a?t.flip:null})))}}]),t}(c.a.PureComponent),Kt=g()(function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}})(zt),Gt=n(116),$t=n.n(Gt),Xt=n(165),Jt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={confirmationOpen:!1,sortBy:"",sortOrder:"ASC"},n.handleClose=function(){n.props.component.set({mode:null})},n.handleCancel=function(e){var t=n.props.component;t.get("skipRead")?t.set({mode:null}):t.set({currentForm:e,mode:"read"})},n.handleClick=function(e){var t=n.props.component;t.get("skipRead")?t.set({currentForm:e,mode:"update"}):t.set({currentForm:e,mode:"read"})},n.handleEdit=function(e){n.props.component.set({currentForm:e,mode:"update"})},n.handleNew=function(){n.props.component.set({currentForm:null,mode:"create"})},n.handleSave=Object(r.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.component.save();case 2:case"end":return e.stop()}},e,this)})),n.handleDelete=function(){var e=Object(r.a)(l.a.mark(function e(t){var a,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.component,o=n.isOpen(),t?a.set({currentForm:t}):t=a.get("form"),!t.getValue("archivedAt")){e.next=10;break}return e.next=7,a.restore(t);case 7:o&&a.set({mode:null}),e.next=12;break;case 10:n.setState({confirmationOpen:!0,confirmationTitle:"Delete this?"}),a.set({mode:null});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleConfirmationClose=function(){var e=Object(r.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return a=n.props.component,e.next=4,a.archive(a.get("form"));case 4:n.setState({confirmationOpen:!1});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleOrdering=function(e){n.setState(e,function(){n.props.component.set({order:n.state.sortBy?[[n.state.sortBy,n.state.sortOrder]]:null})})},n.onDragEnd=function(e){e.destination&&e.destination.index!==e.source.index&&n.props.component.moveAndSaveForm({sourceIndex:e.source.index,destinationIndex:e.destination.index})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"canCreate",value:function(){return vt.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return vt.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return vt.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,n=e.showArchived,a=e.searchString,o=e.order;return!t&&!n&&!a&&!o}},{key:"cards",value:function(e,t){var n=this,a=this.props,o=a.component,l=a.forbidUpdate,r=a.forbidDelete,i=a.forbidOrder,s=a.editable,u=a.disabled,p=a.useDisplayValue,d=a.theme,m=12/(!1===i?1:this.props.maxColumns),h=[],f=0,b=!0,v=!1,g=void 0;try{for(var y,C=function(){var a=y.value;a.setEditable(!1);var i=a.getUniqueId(),b=o.getUniqueItemId(a.getValue("id")),v=c.a.createElement($e.a,{item:!0,xs:12,sm:m,lg:m,key:i,id:b},c.a.createElement(Ft,{onClick:function(){return n.handleClick(a)},onEdit:function(){return n.handleEdit(a)},onDelete:n.handleDelete,component:a,forbidUpdate:l||!e||p,forbidDelete:r||!t||p,editable:s,disabled:u}));n.canDrag()?h.push(c.a.createElement(Xt.b,{key:b,draggableId:b,index:f++},function(e,t){return c.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:function(e,t,n){return Object(P.a)({userSelect:"none",padding:n.spacing.unit/8,margin:"0 0 ".concat(n.spacing.unit/8,"px 0"),background:e?n.palette.secondary[400]:void 0},t)}(t.isDragging,e.draggableProps.style,d)}),v)})):h.push(v)},O=o.getForms()[Symbol.iterator]();!(b=(y=O.next()).done);b=!0)C()}catch(E){v=!0,g=E}finally{try{b||null==O.return||O.return()}finally{if(v)throw g}}return h}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),n=vt.a.fieldsCanAccess("read",t),a=[];return t.eachField(function(e){var o=e.get("name");void 0===n[o]||e.get("forbidSort")||e.get("hidden")||e instanceof $t.a||a.push({value:(t.isDefaultField(o)?"":"fieldValues.")+o,label:e.get("label")})}),a}}},{key:"header",value:function(e){var t=this.props,n=t.forbidCreate,a=t.editable,o=t.disabled,l=t.component,r=t.forbidSort,i=t.store,s=t.useDisplayValue,u=this.state,p=u.sortBy,d=u.sortOrder,m=l.getSingularLabel(),h=l.reachedMax(),f=this.canCreate(),b=a&&!o&&!s&&!n&&!h&&f,v=!r,g=this.sortOptions(),y=e>0&&!!i;return c.a.createElement($e.a,{container:!0,spacing:0},c.a.createElement($e.a,{item:!0,xs:12,sm:6,lg:6},b?c.a.createElement(Ce,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+m,marginTop:!1}):null),c.a.createElement($e.a,{item:!0,xs:12,sm:6,lg:6,align:"right"},y&&v?c.a.createElement(Kt,{onChange:this.handleOrdering,sortBy:p,sortOrder:d,options:g}):null))}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.component,o=e.spacerHeight,l=e.classes,r=e.isLoading,i=e.form,s=e.currentForm,u=e.noResults,p=e.disabled,d=e.accessEditable,m=e.useDisplayValue,h=e.theme,f=!1===d||p,b=this.state,v=b.confirmationOpen,g=b.confirmationTitle,y=a.get("label").toLowerCase(),C=this.canUpdate(),O=this.canArchive(),E={height:o},k=a.get("spacerId"),F=this.cards(C,O),j=F;this.canDrag()&&(j=c.a.createElement(Xt.a,{onDragEnd:this.onDragEnd},c.a.createElement(Xt.c,{droppableId:"droppable"},function(e,t){return c.a.createElement("div",{ref:e.innerRef,style:function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}}(t.isDraggingOver,h)},F,e.placeholder)})));var w=a.get("searchString")&&u,x=this.header(F.length);return c.a.createElement("div",null,x,w?c.a.createElement(S.a,{variant:"h4"},c.a.createElement(A,{icon:"Info"})," No ",y," found"):null,c.a.createElement("div",{id:k,className:l.spacer,style:E}),c.a.createElement($e.a,{container:!0,spacing:0},j),r?c.a.createElement("div",{className:l.footer}):null,c.a.createElement(Pt,{component:i,currentForm:s,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!C||f||m,forbidDelete:n||!O||f||m}),c.a.createElement(Mt,{open:v,onClose:this.handleConfirmationClose,title:g}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=t.isBlank();return c.a.createElement("span",null,!n&&c.a.createElement(Me,{component:t,inlineLabel:"true",shrinkLabel:!a}),this.field())}}]),t}(c.a.PureComponent);Jt=g()(function(e){return{spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing.unit,marginRight:e.spacing.unit,animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing.unit,animation:"fadeIn 1s infinite alternate"}}},{withTheme:!0})(Jt);var Zt=Jt=ae(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order"])(Jt),_t=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleDelete=function(){n.props.component.emit("delete")},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.help,o=e.disabled,l=e.editable;if(t){var r=t.get("block");return c.a.createElement("span",null,c.a.createElement(ot,{component:t,block:!1,disabled:o}),n&&!o&&l?c.a.createElement(x.a,{"aria-label":"Delete",onClick:this.handleDelete},c.a.createElement(A,{icon:"DeleteIcon"})):null,a&&l?c.a.createElement(Ae,{help:a}):"",r?c.a.createElement(tt,null):null)}return null}}]),t}(c.a.PureComponent),Yt=ae(["value","disabled","editable"])(_t),Qt=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleNew=function(){n.props.component.createField(),n.props.component.set({touched:!1})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.useDisplayValue,o=e.autoCreateFields,l=e.hideLabel,r=e.editable,i=e.canDeleteEmpty,s=e.accessEditable,u=e.disabled,p=e.hideDeleteButton,d=t.getSingularLabel(),m=!1===s||u,h=[],f=!0,b=t.isBlank();return t.eachField(function(e,t){var o=e.isBlank();!f&&a&&o||h.push(c.a.createElement(Yt,{component:e,key:t,allowDelete:n&&!a&&(i||!o)&&!p,disabled:u})),f&&(f=!1)}),o||a||!r||m||h.push(c.a.createElement(Ce,{key:"button","aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(d||""),marginTop:!1})),c.a.createElement("span",null,!l&&c.a.createElement(Me,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!b}),c.a.createElement("div",null,h))}}]),t}(c.a.PureComponent),en=ae(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Qt),tn=n(376),nn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){n.props.component.setValue(e)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.editable,a=e.accessEditable,o=e.classes,l=e.useDisplayValue,r=!1!==a&&n&&!t,i=se.a.get("reCAPTCHASiteKey");return r&&!l?c.a.createElement("div",{className:o.captcha},c.a.createElement(tn.a,{ref:"recaptcha",sitekey:i,onChange:this.handleChange})):null}}]),t}(c.a.PureComponent);nn=g()(function(e){return{captcha:{margin:e.spacing.unit}}})(nn);var an=ae(["disabled","editable","useDisplayValue"])(nn),on=n(358),ln=n.n(on),rn=n(76),cn=n.n(rn),sn=n(127),un=n.n(sn),pn=n(20),dn=n.n(pn),mn=n(355),hn=n(156),fn=n(65);function bn(e){var t=e.inputRef,n=Object(be.a)(e,["inputRef"]);return c.a.createElement("div",Object.assign({ref:t},n))}var vn={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),c.a.createElement(ie.a,Object.assign({},t,{InputProps:{inputComponent:bn,inputProps:Object(P.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return c.a.createElement(Je.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){var t;return c.a.createElement(un.a,{tabIndex:-1,label:e.children,className:dn()(e.selectProps.classes.chip,(t={},Object(b.a)(t,e.selectProps.classes.chipFocused,e.isFocused),Object(b.a)(t,e.selectProps.classes.disabled,e.selectProps.isDisabled),t)),onDelete:e.removeProps.onClick,deleteIcon:c.a.createElement(A,{icon:"Cancel"})})},NoOptionsMessage:function(e){return c.a.createElement(S.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.a.createElement(Rt.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return c.a.createElement(S.a,Object.assign({className:dn()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),e.children)},ValueContainer:function(e){return c.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},gn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.isClearable,o=e.placeholder,l=e.onChange,r=e.onBlur,i=e.onFocus,s=e.onInputChange,u=e.value,p=e.isDisabled,d=e.fullWidth,m=e.isMulti,h={dropdownIndicator:function(e){return Object(P.a)({},e,{cursor:"pointer"})},clearIndicator:function(e){return Object(P.a)({},e,{cursor:"pointer"})},menuPortal:function(e){return Object(P.a)({},e,{zIndex:2e3})}};return c.a.createElement(mn.a,{className:dn()(t.root,d&&t.fullWidth),classes:t,styles:h,options:n,components:vn,value:u,onChange:l,onBlur:r,onFocus:i,onInputChange:s,placeholder:o,isClearable:a,isDisabled:p,fullWidth:d,isMulti:m,menuPortalTarget:document.body})}}]),t}(c.a.Component),yn=Object(hn.withStyles)(function(e){return{input:{display:"flex",padding:0,minWidth:240},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:2*e.spacing.unit+5},chip:{margin:"".concat(e.spacing.unit/1,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(fn.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:1*e.spacing.unit},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}})(gn),Cn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={focus:!1},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e.map(function(e){return e.value})):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.blankString,a=e.value,o=e.multiple;if(t){var l=[];return!o&&n&&l.push(c.a.createElement(Rt.a,{value:"",key:""},c.a.createElement("em",null,n))),t.forEach(function(e){if(o){var t=!!a&&-1!==a.indexOf(e.value);l.push(c.a.createElement(Rt.a,{value:e.value,key:e.value},c.a.createElement(ln.a,{checked:t}),c.a.createElement(G.a,{primary:e.label})))}else l.push(c.a.createElement(Rt.a,{value:e.value,key:e.value},e.label))}),l}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.err,o=t.touched,l=t.disabled,r=t.component,i=t.fullWidth,s=t.classes,u=t.editable,p=t.multiple,d=t.accessEditable,m=t.useDisplayValue,h=t.options,f=t.autocomplete,b=this.state.focus,v=!1===d||l,g=p?[]:"";n&&(g=n);var y=void 0,C=void 0;p&&(y=c.a.createElement(cn.a,null),C=function(e){return c.a.createElement("div",{className:s.chips},e.map(function(e){return c.a.createElement(un.a,{key:e,label:r.getOptionLabel(e),className:s.chip})}))});var O={},E=null;if(u&&!m)if(f){var k=null;k=p?g.map(function(e){return{value:e,label:r.getOptionLabel(e)}}):{value:g,label:r.getOptionLabel(g)},!b&&r.isValueBlank(g)||(O.shrinkLabel=!0),E=c.a.createElement(yn,{options:h,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:k,isDisabled:v,fullWidth:i,isMulti:p})}else E=c.a.createElement(Ht.a,{multiple:p,error:!(!o||!a),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:y,renderValue:C,value:g,disabled:v,fullWidth:i,className:s.formControl},this.renderOptions());else{var F=null;F=p&&n?n.map(function(e){return c.a.createElement(un.a,{key:e,label:r.getOptionLabel(e),className:s.chip})}):r.getDisplayValue(),E=c.a.createElement(He,null,F)}return c.a.createElement(Me,Object.assign({component:r},O),E)}}]),t}(c.a.PureComponent);Cn=g()(function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing.unit/4}}})(Cn);var On=ae(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Cn),En=n(359),kn=n.n(En),Fn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleDateChange=function(e){n.props.component.setValue(e)},n.handleBlur=function(){n.props.component.setTouched(!0)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.editable,l=e.useDisplayValue,r=e.showSeconds,i=e.fullWidth,s=e.disabled,u=!1===e.accessEditable||s,p=!1,d=null;return o&&!l?(p=!!a,d=c.a.createElement(ct.a,{utils:st.a},c.a.createElement("span",null,c.a.createElement(kn.a,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,seconds:r,onClose:this.handleBlur,fullWidth:i,disabled:u,invalidDateMessage:""})))):d=c.a.createElement(He,null,t.getDisplayValue()),c.a.createElement(Me,{component:t,shrinkLabel:p},d)}}]),t}(c.a.PureComponent);Fn=g()(function(e){return{root:{marginTop:2*e.spacing.unit}}})(Fn);var jn=ae(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Fn),Sn=n(360),wn=n.n(Sn),xn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.text;return c.a.createElement(S.a,{component:"div"},c.a.createElement(wn.a,{source:e}))}}]),t}(c.a.PureComponent),Dn=xn=ae(["text"])(xn),Nn=n(361),Ln=n.n(Nn),Tn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=n.props.component,a=t.fromUIValue(e.target.value);t.setValue(a)},n.handleBlur=function(){n.props.component.setTouched(!0)},n.handleKeyUp=function(e){13===e.keyCode&&n.props.component.setTouched(!0)},n.TextMaskCustom=function(e){var t=e.inputRef,a=Object(be.a)(e,["inputRef"]),o=n.props.mask;return c.a.createElement(Ln.a,Object.assign({},a,{ref:t,mask:o}))},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.err,n=e.maxLength,a=e.touched,o=e.disabled,l=e.component,r=e.fullWidth,i=e.type,s=e.editable,u=e.accessEditable,p=e.multiline,d=e.rows,m=e.rowsMax,h=e.useDisplayValue,f=e.mask,b=e.displayValue,v=!1===u||o,g=null;if(s&&!h){var y={};f&&(y.inputComponent=this.TextMaskCustom);var C=l.getUIValue();g=c.a.createElement(cn.a,Object.assign({id:l.getUniqueId(),error:!(!a||!t),inputProps:{maxLength:n},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:C||"",disabled:v,fullWidth:r,type:i,multiline:p,rows:d,rowsMax:m},y))}else g=c.a.createElement(He,null,b||l.getDisplayValue());return c.a.createElement(Me,{component:l},g)}}]),t}(c.a.PureComponent),An=ae(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(Tn),Pn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.value,a=e.editable,o=e.useDisplayValue,l=e.newWindow,r=null;if((!a||o)&&n){var i=n;0!==i.indexOf("http")&&(i="http://"+i),r=c.a.createElement("a",{href:i,target:l?"_blank":"_self"},n)}return c.a.createElement(An,{component:t,displayValue:r})}}]),t}(c.a.PureComponent),In=ae(["value","editable","useDisplayValue","newWindow"])(Pn),Vn={ButtonField:Ee,BooleanField:Ke,Card:_e,ChainedSelectField:rt,ChainedSelectListField:en,ComponentField:Qe,CompositeField:rt,DateField:ft,Field:ot,Form:yt,FormField:Ot,CollectionField:Zt,IdField:An,IntegerField:An,ListField:en,MoneyField:An,NumberField:An,PhoneField:An,ReCAPTCHAField:an,SelectField:On,SelectListField:en,TimeField:jn,Text:Dn,TextField:An,TextListField:en,URLField:In,User:yt},Bn=n(34),Wn=n.n(Bn),Mn=new(function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),n=Vn[t];if(void 0!==n)return n;if(Wn.a.isCompiled(Wn.a.getComponent(t))){var a=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new a)}var o=Wn.a.getOldestCompiledAncestor(t),l=Wn.a.getComponent(o);return this.getUIComponent(new l)}}]),e}()),Un=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e,t){var a=n.props,o=a.on,l=a.component;o&&o({name:e,value:t,component:l});var r="on"+e.charAt(0).toUpperCase()+e.slice(1);n.props[r]&&n.props[r]({value:t,component:l})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(be.a)(e,["component"]);if(t){var a=Mn.getUIComponent(t);return c.a.createElement(a,Object.assign({component:t},n))}return null}}]),t}(c.a.PureComponent),Rn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={component:null},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:Wn.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),n=Object(be.a)(e,["definition","component"]),a=t;return t||(a=this.state.component),c.a.createElement(Un,Object.assign({component:a},n))}}]),t}(c.a.PureComponent),qn=n(366),Hn=n.n(qn),zn=n(362),Kn=n.n(zn),Gn=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(e,t){"clickaway"!==t&&n.props.onClose&&n.props.onClose()},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.open;return c.a.createElement(Kn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:c.a.createElement("span",{id:"message-id"},n),action:[c.a.createElement(x.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},c.a.createElement(A,{icon:"Close"}))]})}}]),t}(c.a.PureComponent),$n=g()(function(e){return{close:{padding:e.spacing.unit/2}}})(Gn),Xn=n(32),Jn=n.n(Xn),Zn=n(157),_n=n.n(Zn),Yn=n(97),Qn=n.n(Yn),ea=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchString:"",showSearch:!1},n.form=null,n.path=null,n.onNavigate=function(e){var t=n.state.menuItem;t&&t.content.has("dirty")&&t.content.get("dirty")&&!t.fullScreen?se.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},n.handleDrawerToggle=function(){n.setState({mobileOpen:!n.state.mobileOpen})},n.handleNavigate=function(){var e=Object(r.a)(l.a.mark(function e(t,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.content instanceof Jn.a)){e.next=5;break}return e.next=3,t.content.run();case 3:e.next=6;break;case 5:n.props.history.push(t.path);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleConfirmationClose=function(){var e=Object(r.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.props.confirmation).callback&&t&&a.callback(t),n.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.switchContent=function(){var e=Object(r.a)(l.a.mark(function e(t,a){var o,r,i,c,s,u,p,d,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===n.state.menuItem){e.next=22;break}if(n.component&&n.component.emitUnload(),o=t&&t.content instanceof Jn.a,!t||!t.content){e.next=21;break}if(r=n.props,i=r.location,c=r.component,s=c.get("menu"),se.a.set({route:s.toRoute({parameters:a,queryString:i.search.substr(1),hash:i.hash.substr(1)})}),u=s.getParent(t.path),!n.requireAccess(t.roles)||u&&!n.requireAccess(u.roles)){e.next=19;break}if(!o){e.next=14;break}return e.next=12,t.content.run();case 12:e.next=19;break;case 14:n.component=t.content,n.component.emitLoad(),p=n.canArchive(),d=p.canArchive,m=p.canSearch,se.a.set({searchString:null}),n.setState({menuItem:t,showArchived:!1,showArchivedToggle:d,searchString:"",showSearch:m});case 19:e.next=22;break;case 21:n.component=null;case 22:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.onLocation=function(e){se.a.set({path:e.pathname})},n.handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.handleArchivedChange=function(e){n.setState({showArchived:e.target.checked});var t=n.state.menuItem;t&&(t.content.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},n.handleSearchStringChange=function(e){n.setState({searchString:e.target.value})},n.setGlobalOnNavigate(),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setGlobalOnNavigate",value:function(){se.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;se.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.state.menuItem,n=this.props.component.get("menu");if(!t||e!==t.path){var a=n.getItemAndParsePath(e);return this.switchContent(a.item,a.params)}}},{key:"canArchive",value:function(){var e=!1,t=!1;if(this.component&&this.component instanceof Qn.a){var n=!0,a=!1,o=void 0;try{for(var l,r=this.component.getFields()[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var i=l.value;i instanceof _n.a&&(e=!i.get("forbidViewArchived")&&vt.a.canArchive(i.get("form")),t=!i.get("forbidSearch"))}}catch(c){a=!0,o=c}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}}return{canArchive:e,canSearch:t}}},{key:"emitLoggedOut",value:function(){se.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||Y.a.client&&Y.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentWillUpdate",value:function(e){var t=se.a.get("snackbarMessage");t&&(this.displaySnackbar(t),se.a.set({snackbarMessage:null}))}},{key:"componentDidUpdate",value:function(e){if(this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path!==e.path&&this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var t=this.state.menuItem;t&&t.content.has("searchString")&&t.content.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(t){e.state.menuItem&&e.state.menuItem.content.emit("scroll",t)}),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),Promise.resolve().then(function(){Y.a.client&&Y.a.client.user.awaitSession()}).then(function(){e.onLocation(e.props.location)})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=e.confirmation,o=e.menuAlwaysTemporary,l=this.state,r=l.mobileOpen,i=l.menuItem,s=l.snackbarOpen,u=l.snackbarMessage,p=l.confirmationOpen,d=l.showArchived,m=l.showArchivedToggle,h=l.searchString,f=l.showSearch,b=!o,v=n.get("menu"),g=this.props.location.pathname,y=this.component?c.a.createElement(Rn,{component:this.component}):null,O=!!d,k=null;m&&(k=c.a.createElement(E.a,{title:d?"Show Active":"Show Deleted"},c.a.createElement(Fe.a,{onChange:this.handleArchivedChange,checked:O})));var j=null;f&&(j=c.a.createElement(pe,{className:t.searchBar,searchString:h,onChange:this.handleSearchStringChange}));var w=c.a.createElement(C.a,{elevation:1,className:t.appBar+(b?" ".concat(t.appBarResponsive):"")},c.a.createElement(F.a,null,c.a.createElement(x.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:b?t.navIconHide:""},c.a.createElement(A,{icon:"Menu"})),c.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0},i?i.label:""),k,j)),D=c.a.createElement(le,{component:v,onDrawerToggle:this.handleDrawerToggle,mobileOpen:r,onNavigate:this.handleNavigate,path:g,responsive:b}),N=null;return i&&i.fullScreen&&(N={marginLeft:0,marginTop:0}),c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:t.appFrame},i&&i.fullScreen?null:w,i&&i.fullScreen?null:D,c.a.createElement("main",{className:t.content+(b?" ".concat(t.contentResponsive):""),style:N},c.a.createElement(me.a,null,c.a.createElement(fe.a,null)),y,c.a.createElement($n,{open:s,message:u,onClose:this.handleSnackbarClose}),c.a.createElement(Mt,{open:p,onClose:this.handleConfirmationClose,title:a?a.title:null,text:a?a.text:null,alert:a?a.alert:null}))))}}]),t}(c.a.PureComponent);ea=g()(function(e){var t;return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(b.a)({},e.breakpoints.up("md"),{display:"none"}),content:(t={backgroundColor:e.palette.background.default,width:"100%",padding:3*e.spacing.unit,height:"calc(100% - 56px)",marginTop:56},Object(b.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64}),Object(b.a)(t,"overflowAnchor","none"),t),contentResponsive:Object(b.a)({},e.breakpoints.up("md"),{marginLeft:240}),searchBar:{marginLeft:"auto"}}},{withTheme:!0})(ea),ea=Hn()(ea),ea=ae(["menuAlwaysTemporary"])(ea);var ta=ea=ae(["path","redirectPath","snackbarMessage","confirmation","searchString"],se.a)(ea),na=n(369),aa=n.n(na),oa=n(226),la=n.n(oa),ra=n(115),ia=n.n(ra),ca=n(367),sa=n.n(ca),ua=n(368),pa=n.n(ua),da=n(370),ma=n.n(da),ha=n(371),fa=n.n(ha),ba=ia()({palette:{primary:sa.a,secondary:pa.a},typography:{useNextVariants:!0}}),va=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).onNavigate=function(e,t){se.a.onNavigate(e,t)},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.basename;return c.a.createElement(la.a,{theme:ba},c.a.createElement(aa.a,null),c.a.createElement(ma.a,{getUserConfirmation:this.onNavigate,basename:n},c.a.createElement("div",null,c.a.createElement(ta,{component:t}),c.a.createElement(fa.a,{message:"foo"}))))}}]),t}(c.a.Component),ga=ae(["basename"])(va),ya=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ca(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/mson-react","/service-worker.js");ya?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Oa(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Oa(e)})}}function Oa(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ea=function(){var e=Object(r.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y.a.client){e.next=3;break}return e.next=3,Y.a.client.user.awaitSession();case 3:u.a.render(c.a.createElement(ga,{component:t}),document.getElementById("root")),Ca();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ka=(n(918),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-editor",label:"Form Editor",content:{component:"app.FormEditor"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}}]}}),Fa=n(377),ja=n(79),Sa=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"_create",value:function(e){var n=this;Object(Fa.a)(Object(h.a)(t.prototype),"_create",this).call(this,e),this.set({fields:[new ja.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new ja.TextField({name:"lastName",label:"Last Name",required:!0}),new ja.EmailField({name:"email",label:"Email"}),new ja.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new ja.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new ja.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",function(){n.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})}),this.on("submit",function(){var e=n.getValues();console.log("submitting",e),se.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName))}),this.on("cancel",function(){se.a.redirect("/")})}}]),t}(Qn.a);Wn.a.registerComponent("app.ContactNoMSON",Sa);var wa={name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},xa={name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},Da={name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},Na={name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},La={name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/redgeoff7"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},Ta=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],Aa={name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:Ta},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:Ta},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},Pa={name:"app.FormEditor",component:"Form",fields:[{name:"fields",component:"CollectionField",label:"Fields",hideLabel:!0,maxColumns:1,skipRead:!0,includeExtraneous:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"FieldEditorForm"}},store:{component:"LocalStorageStore",storeName:"myForm"}}]},Ia={name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},Va={name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},Ba={name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},Wa={name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},Ma=n(372),Ua=n.n(Ma),Ra=n(373),qa=n.n(Ra),Ha=n(374),za=n.n(Ha),Ka=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={field:null},n.handleValueChange=function(e){var t=n.props.component,a=n.state.field;if(!a||e.componentName!==a.getClassName())if(a&&a.destroy(),e.componentName){var o=function(){a.clearErr(),a.validate()};(a=Wn.a.newComponent({component:e.componentName})).on("value",o),a.on("touched",o)}else a=null;if(a){var l=t.getValues({default:!1});Z()(l,function(e,t){a.has(t)&&a.set(Object(b.a)({},t,e))})}n.setState({field:a})},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.formTag,o=e.mode,l=this.state.field,r=null;return l&&"read"!==o&&(r=c.a.createElement(qa.a,{className:n.card},c.a.createElement(za.a,null,c.a.createElement(S.a,{color:"textSecondary",gutterBottom:!0},"Preview"),c.a.createElement(ot,{component:l})))),"read"!==o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:n.preview},r),c.a.createElement("div",{className:n.form},c.a.createElement(yt,{component:t,formTag:a,mode:o}))):l?c.a.createElement(ot,{component:l,disabled:!0}):null}}]),t}(c.a.PureComponent);Ka=g()(function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:3*e.spacing.unit}}})(Ka);var Ga=Ka=ae(["mode"])(Ka);for(var $a in se.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),Wn.a.registerComponent("FieldEditorForm",Ua.a),Vn.FieldEditorForm=Ga,a){var Xa=a[$a];Wn.a.registerComponent(Xa.name,Xa)}Ea(Wn.a.newComponent({component:"app.App"}))}},[[378,2,1]]]);
//# sourceMappingURL=main.0d34808c.chunk.js.map