(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1000:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","ResetPassword"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"token",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_reset",value:function(e){return this._registrar.resetPassword.resetPassword(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._reset({context:t.context,component:t.component,token:this.get("token")}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},1001:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"ResetPasswordEditor",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"TextField",name:"token",label:"Token",hidden:!0},{component:"PasswordField",name:"password",label:"New Password",required:!0},{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0},{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"Send"}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"createRecord",actions:[{component:"ResetPassword",token:"{{fields.token.value}}"}]},{event:"reset",actions:[{component:"Set",name:"fields.token.value",value:"{{globals.route.parameters.token}}"},{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Password updated"},{component:"Redirect",path:"/"}]}]}},1002:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(238)),h=n(a(324)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","RolesField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({invalidRegExp:"/^"+Object.keys(h.default.RESERVED).join("|")+"$/"})}}]),t}(f.default);t.default=p},1003:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","SchemaValidatorForm"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"compiler",component:"Field",required:!0}]}})}},{key:"setValues",value:function(e){var a=this.get("compiler");a.newComponent({component:e.component}).buildSchemaForm(this,a),(0,u.default)((0,o.default)(t.prototype),"setValues",this).call(this,Object.assign({},e,{id:e.name}))}}]),t}(n(a(95)).default);t.default=f},1004:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(94)),p=n(a(116)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","SelectListField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0,hideDeleteButton:!0})}},{key:"_onFieldCreated",value:function(e,t){var a=this;e.on("value",function(n){n||a._isLastField(e)||t(),!a._isLastFieldBlank()&&a.canAddMoreFields(n)&&a._createNewField(),a._calcValue()})}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,hideLabel:!0,required:!1},this.get(["blankString","block","fullWidth","options","useDisplayValue","editable"])))}},{key:"_createNewField",value:function(){this.createField().set({options:this.get("options")})}},{key:"set",value:function(e){(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e),this._setForAllFields(e,["options","blankString","ensureInList"])}},{key:"_shouldRemoveField",value:function(e){return!this._isLastField(e)}},{key:"clone",value:function(){var e=(0,s.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._clearFields(),e._createNewField(),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=m},1005:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"SetFromDoc",component:"Action",schema:{component:"Form",fields:[{name:"doc",component:"Field"}]},actions:[{component:"Set",name:"{{name}}",value:"{{parent.doc.fieldValues}}"},{component:"Set",name:"{{name}}",value:{id:"{{parent.doc.id}}",userId:"{{parent.doc.userId}}",createdAt:"{{parent.doc.createdAt}}",updatedAt:"{{parent.doc.updatedAt}}",archivedAt:"{{parent.doc.archivedAt}}"}}]}},1006:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Set"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",component:"TextField"},{name:"value",component:"Field"}]}})}},{key:"_setProp",value:function(e){var t=this.get("name"),a=t?t.split("."):[],n=this.get("value"),r=void 0===n?e.arguments:n;return t?("globals"===a[0]||"component"===a[0]?"globals"===a.splice(0,1)[0]?this._globals.set((0,h.default)({},a.join("."),r)):e.component.set(r):e.component.set((0,h.default)({},t,r)),e.arguments):r}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setProp(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},1007:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"SignupEditor",component:"RecordEditor",preview:!1,fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0,out:!1}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],label:"Signup",hideCancel:!0,storeWhere:null,listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.username.out":!0,"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.block":!1,"fields.roles.hidden":!0,"fields.save.label":"Create Account","fields.save.icon":"CheckCircle"}}]},{event:"didSave",actions:[{component:"LogInToAppAndRedirect"}]}]}},1008:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Snackbar"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.displaySnackbar(this.get("message"));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},1009:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}]}},1010:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","Text"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"text",component:"TextField"}]}})}}]),t}(n(a(56)).default);t.default=f},1011:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(45)),h=n(a(118)),p=n(a(365)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","TimeField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"showSeconds",component:"BooleanField",label:"Show Seconds",docLevel:"basic"}]}})}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.value&&"number"!==typeof a.value&&(a.value=h.default.toEpochTime(a.value)),(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,a)}},{key:"_toLocaleString",value:function(e){var t={};return this.get("showSeconds")||(t={hour:"2-digit",minute:"2-digit"}),e.toLocaleTimeString([],t)}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),a=new Date(e);(0,p.default)(a)||this.setErr("invalid")}}}]),t}(f.default);t.default=m},1012:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UpdatePasswordEditor",component:"RecordEditor",schema:{component:"Form",fields:[{name:"updatePasswordBaseForm",component:"Field",required:!0},{name:"baseForm",required:!1}]},preview:!1,label:"Password",storeWhere:{userId:"{{globals.session.user.id}}"},baseForm:{component:"UpdatePassword",componentToWrap:"{{updatePasswordBaseForm}}"}}},1013:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UpdatePassword",component:"Form",fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"create",actions:[{component:"Set",name:"hidden",value:!0},{component:"Set",name:"out",value:!1},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.required":!0,"fields.retypePassword.hidden":!1}}]}]}},1014:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","UpsertDoc"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").upsertDoc({form:t.component}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},1015:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(357)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","URLField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:(0,r.default)(this.getHiddenFieldDefinitions(["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])).concat([{name:"newWindow",component:"BooleanField"}])}})}}]),t}(n(a(69)).default);t.default=h},1016:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(95)),h=n(a(361)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","User"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e);var a=[new h.default({definition:{component:"EmailField",name:"username",label:"Email",required:!0}}),new h.default({definition:{component:"PasswordField",name:"password",label:"Password",in:!1,out:!1,hidden:!0,forbidSort:!0}})];this.set({schema:{component:"Form",fields:[{name:"roles",component:"RolesField"}]},access:{form:{create:"admin",read:"admin",update:"admin",archive:"admin"}},fields:a})}}]),t}(f.default);t.default=p},1017:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UserList",component:"CollectionField",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"formFactory",required:!1}]},hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}",properties:{fields:[{component:"ButtonField",name:"setPassword",label:"Set Password",hidden:!0,icon:"VpnKey"}],listeners:[{event:"didLoad",actions:[{component:"Set",name:"snapshot",value:"take"}]},{event:"beginCreate",actions:[{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0}}]},{event:"endCreate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"beginRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!1}]},{event:"endRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!0}]},{event:"endUpdate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"setPassword",actions:[{component:"Set",name:"out",value:!1},{component:"Set",name:"hidden",value:!0},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0,"fields.password.value":null}},{component:"Set",name:"pristine",value:!0},{component:"Set",name:"parent.mode",value:"update"}]}],access:{fields:{setPassword:{read:"admin"}}}}}}},1035:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"App",function(){return wn}),a.d(n,"Contacts",function(){return xn}),a.d(n,"ContactsLocalStorage",function(){return On}),a.d(n,"ContactsFirebase",function(){return An}),a.d(n,"EditContact",function(){return Pn}),a.d(n,"FieldsScreen",function(){return Ln}),a.d(n,"Fields",function(){return Tn}),a.d(n,"FormEditor",function(){return In}),a.d(n,"Home",function(){return jn}),a.d(n,"Tasks",function(){return Nn}),a.d(n,"TasksLocalStorage",function(){return Vn}),a.d(n,"TasksFirebase",function(){return Mn});var r=a(42),l=a.n(r),i=a(60),o=a(0),u=a.n(o),s=a(35),c=a.n(s),d=a(6),f=a(4),h=a(8),p=a(7),m=a(9),v=a(41),y=a(3),b=a.n(y),g=a(388),_=a.n(g),F=a(173),k=a.n(F),w=a(244),E=a.n(w),C=a(27),S=a.n(C),x=a(40),O=a.n(x),A=a(120),P=a.n(A),L=a(366),D=a.n(L),T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onClick&&a.props.onClick(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"toFontIconName",value:function(e){return D()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.icon,n=a?this.toFontIconName(a):null;return u.a.createElement(P.a,{className:t,onClick:this.handleClick},n)}}]),t}(u.a.PureComponent),I=a(54),j=a(245),N=a.n(j),V=a(246),M=a.n(V),B=a(370),R=a.n(B),U=a(239),W=a.n(U),q=a(172),G=a.n(q),K=a(131),H=a.n(K),z=a(368),$=a.n(z),Y=a(99),Z=a.n(Y),J=a(34),X=a.n(J),Q=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"childSelected",value:function(){var e=this.props,t=e.item,a=e.path,n=!1;return Z()(t.items,function(e){if(a===e.path)return n=!0,!1}),n}},{key:"items",value:function(){var e=this,t=this.props,a=t.classes,n=t.item,r=t.path,l=[];return n.items.forEach(function(t,n){var i=r===t.path,o=[a.secondary];i&&o.push(a.selected),(!t.roles||X.a.client&&X.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(u.a.createElement(G.a,{button:!0,className:a.nested,key:n,onClick:function(){return e.handleClick(t)}},u.a.createElement(H.a,{disableTypography:!0,primary:u.a.createElement(S.a,{variant:"body2",className:o.join(" ")},t.label)})))}),l}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.classes,r=t.path,l=a.items?this.items():null,i=r===a.path,o=[n.primary];i&&o.push(n.selected);var s=null;return l&&(s=u.a.createElement($.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},u.a.createElement(W.a,{disablePadding:!0},this.items()))),u.a.createElement("div",null,u.a.createElement(G.a,{button:!0,onClick:function(){return e.handleClick(a)}},u.a.createElement(H.a,{disableTypography:!0,primary:u.a.createElement(S.a,{variant:"subtitle1",className:o.join(" ")},a.label)}),l?this.state.open?u.a.createElement(T,{icon:"ExpandLess"}):u.a.createElement(T,{icon:"ExpandMore"}):null),s)}}]),t}(u.a.PureComponent),ee=b()(function(e){return{nested:{paddingLeft:4*e.spacing.unit},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}})(Q),te=a(369),ae=a.n(te),ne=function(e,t){return function(a){return function(n){function r(a){var n;return Object(d.a)(this,r),(n=Object(h.a)(this,Object(p.a)(r).call(this,a))).wasMounted=!1,n.getComponent=function(e){return e||(e=n.props),t?"string"===typeof t?e[t]:t:e.component},n.handleFieldChange=function(e,t){-1!==n.watchProps.indexOf(e)&&n.wasMounted&&n.setState(Object(v.a)({},e,t))},n.watchProps=ae()(e,Object.keys(n.props)),n.state=n.getComponent().get(n.watchProps),n}return Object(m.a)(r,n),Object(f.a)(r,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){var e=this.getComponent().get(this.watchProps);this.setState(e)}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return u.a.createElement(a,Object.assign({},this.state,this.props))}}]),r}(u.a.PureComponent)}},re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDrawerToggle=function(){a.props.onDrawerToggle&&a.props.onDrawerToggle()},a.handleNavigate=function(e){a.props.onNavigate&&a.props.onNavigate(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"items",value:function(){var e=this,t=this.props,a=t.component,n=t.path,r=a.get("items"),l=[];return r.forEach(function(t,a){(!t.roles||X.a.client&&X.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(u.a.createElement(ee,{item:t,key:a,onNavigate:e.handleNavigate,path:n,onDrawerToggle:e.handleDrawerToggle}))}),l}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.theme,r=t.mobileOpen,l=t.responsive;e=this.items();var i=u.a.createElement("div",null,u.a.createElement("div",{className:a.drawerHeader},u.a.createElement(S.a,{variant:"h4"},"Logo")),u.a.createElement(R.a,null),e),o=u.a.createElement(N.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:r,classes:{paper:a.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},i),s=u.a.createElement(N.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper+(l?" ".concat(a.drawPaperResponsive):"")}},i);return l?u.a.createElement("div",null,u.a.createElement(M.a,{mdUp:!0},o),u.a.createElement(M.a,{smDown:!0,implementation:"css"},s)):o}}]),t}(u.a.PureComponent);re=b()(function(e){return{drawerHeader:Object(I.a)({},e.mixins.toolbar,{paddingLeft:3*e.spacing.unit,paddingTop:e.spacing.unit}),drawerPaper:{width:250},drawPaperResponsive:Object(v.a)({},e.breakpoints.up("md"),{width:240,position:"fixed",height:"100vh"})}},{withTheme:!0})(re);var le=re=ne(["items"])(re),ie=a(124),oe=a.n(ie),ue=a(31),se=a.n(ue),ce=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleKeyUp=function(e){13===e.keyCode&&se.a.set({searchString:a.props.searchString})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.searchString,r=e.onChange;return u.a.createElement("div",{className:a},u.a.createElement(oe.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:n,onKeyUp:this.handleKeyUp,onChange:r}),u.a.createElement(T,{icon:"Search",className:t.searchIcon}))}}]),t}(u.a.PureComponent),de=b()(function(e){return{textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 10px 10px 42px",width:"calc(100%)",color:e.palette.common.white},searchIcon:{position:"relative",top:"7px",left:"-210px"}}})(ce),fe=a(389),he=a.n(fe),pe=a(390),me=a.n(pe),ve=a(71),ye=a(81),be=a.n(ye),ge=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.onClick&&a.props.onClick()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.type,n=e.disabled,r=e.label,l=e.icon,i=e.fullWidth,o=e.variant,s=!1!==e.marginTop?t.marginTop:null;return u.a.createElement(be.a,{className:s,type:a,color:"primary",disabled:n,onClick:this.handleClick,fullWidth:i,variant:o},l?u.a.createElement(T,{className:t.leftIcon,icon:l}):null,r)}}]),t}(u.a.PureComponent),_e=b()(function(e){return{leftIcon:{marginRight:e.spacing.unit},marginTop:{marginTop:3*e.spacing.unit}}})(ge),Fe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){"submit"!==a.props.type&&a.props.component.emitClick()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.type,n=e.disabled,r=e.icon,l=e.fullWidth,i=e.variant;return u.a.createElement(_e,{type:a,label:t,disabled:n,onClick:this.handleClick,icon:r,fullWidth:l,variant:i})}}]),t}(u.a.PureComponent),ke=ne(["label","type","disabled","icon","fullWidth","variant"])(Fe),we=a(174),Ee=a.n(we),Ce=a(241),Se=a.n(Ce),xe=a(243),Oe=a.n(xe),Ae=a(125),Pe=a.n(Ae),Le=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,a=e.children,n=e.classes,r=e.marginBottom,l=t?n.fullWidth:"",i=!1===r?n.noMarginBottom:"";return u.a.createElement(Pe.a,{fullWidth:t,className:"".concat(n.formControl," ").concat(l," ").concat(i)},a)}}]),t}(u.a.PureComponent),De=b()(function(e){return{formControl:{margin:e.spacing.unit},fullWidth:{width:"calc(100% - ".concat(2*e.spacing.unit,"px)")},noMarginBottom:{marginBottom:0}}})(Le),Te=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.help;return u.a.createElement(k.a,{disableTouchListener:!0,title:e},u.a.createElement(O.a,{"aria-label":"Help"},u.a.createElement(T,{icon:"HelpOutline"})))}}]),t}(u.a.PureComponent),Ie=a(242),je=a.n(Ie),Ne=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes,n=e.shrink,r=Object.assign({},this.props,{shrink:void 0,classes:void 0}),l=n?a.shrink:a.noShrink;return u.a.createElement(je.a,Object.assign({},r,{className:l}),t)}}]),t}(u.a.PureComponent),Ve=b()(function(e){return{shrink:Object(I.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(I.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}})(Ne),Me=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.component,n=t.children,r=t.label,l=t.required,i=t.fullWidth,o=t.err,s=t.editable,c=t.touched,d=t.help,f=t.hideLabelUI,h=t.hideLabel,p=t.useDisplayValue,m=t.shrinkLabel,v=t.inlineLabel,y=t.marginBottom,b=t.autoHideLabel,g=null,_=a.isBlank(),F=a.getUniqueId();if(!f&&!h&&(!b||r))if(!s||p||v){var k=r||"\xa0";g=u.a.createElement(Ve,{htmlFor:F,error:!(!c||!o),required:l&&!p&&s,shrink:p||!s||m},k),v||(g=u.a.createElement("div",null,g))}else g=u.a.createElement(Se.a,{htmlFor:F,error:!(!c||!o),required:r&&l,shrink:m},r);var w=a.getFirstErr();return e=u.a.createElement("span",null,g,n,d&&s?u.a.createElement(Te,{help:d}):"",c&&o?u.a.createElement(Oe.a,{error:!0},w):null),s||!_?u.a.createElement(De,{fullWidth:i,marginBottom:y},e):null}}]),t}(u.a.PureComponent),Be=Me=ne(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(Me),Re=a(371),Ue=a.n(Re),We=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes;return u.a.createElement(S.a,{variant:"subtitle1",component:"span",className:a.root},t)}}]),t}(u.a.PureComponent),qe=b()(function(e){return{root:{display:"inline-block"}}})(We),Ge=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.component.setValue(e.target.checked)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,n=e.component,r=e.editable,l=e.useDisplayValue,i=e.label,o=null,s=null;return r&&!l?(o=!0,s=u.a.createElement(Ue.a,{control:u.a.createElement(Ee.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:a}),label:i})):s=u.a.createElement(qe,null,n.getDisplayValue()),u.a.createElement(Be,{component:n,hideLabelUI:o},s)}}]),t}(u.a.PureComponent),Ke=ne(["value","err","disabled","editable","useDisplayValue","label"])(Ge),He=a(44),ze=a.n(He),$e=a(50),Ye=a.n($e),Ze=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.component,n=a.get("content"),r=a.get("title");return u.a.createElement(ze.a,{container:!0,spacing:0,justify:"center"},u.a.createElement(ze.a,{item:!0,xs:12,sm:9,md:6,lg:6},u.a.createElement(Ye.a,{className:t.paper},u.a.createElement(ze.a,{container:!0,wrap:"nowrap"},u.a.createElement(ze.a,{item:!0,className:t.content},u.a.createElement(S.a,{variant:"h5",component:"h2"},r),u.a.createElement(Ra,{component:n}))))))}}]),t}(u.a.PureComponent),Je=b()(function(e){return{paper:{margin:e.spacing.unit,padding:2*e.spacing.unit},content:{flex:1}}})(Ze),Xe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,a=e.classes;return u.a.createElement("div",{className:a.root},u.a.createElement(Ra,{component:t}))}}]),t}(u.a.PureComponent);Xe=b()(function(e){return{root:{marginLeft:e.spacing.unit}}})(Xe);var Qe=Xe=ne(["content"])(Xe),et=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.classes;return u.a.createElement("div",{className:e.break})}}]),t}(u.a.PureComponent),tt=b()(function(e){return{break:{width:"100%"}}})(et),at=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getIfDefined",value:function(e){var t={};return Z()(e,function(e,a){void 0!==e&&(t[a]=e)}),t}}]),e}()),nt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.hidden,n=e.block,r=e.accessEditable,l=e.didCreate,i=e.noBlock,o=e.disabled;if(a||!l)return null;if("Field"===t.getClassName())return null;var s=Ma.getUIComponent(t);return u.a.createElement(u.a.Fragment,null,u.a.createElement(s,Object.assign({component:t,accessEditable:r,block:n},at.getIfDefined({disabled:o}))),!i&&n?u.a.createElement(tt,null):null)}}]),t}(u.a.PureComponent),rt=ne(["hidden","block","didCreate"])(nt),lt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.help,n=e.editable,r=e.useDisplayValue,l=e.block,i=e.disabled,o=[],s=!1,c=!0;return t.eachField(function(e,t,a){!c&&r&&e.isBlank()||(a&&e.get("block")&&(s=!0),o.push(u.a.createElement(rt,{component:e,key:t,noBlock:a,disabled:i}))),c&&(c=!1)}),a&&n&&o.push(u.a.createElement(Te,{help:a,key:"help"})),s&&!1!==l&&o.push(u.a.createElement(tt,{key:"break"})),o}}]),t}(u.a.PureComponent),it=ne(["change","help","editable","useDisplayValue"])(lt),ot=a(127),ut=a.n(ot),st=a(176),ct=a(372),dt=a.n(ct),ft=a(373),ht=a.n(ft),pt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){a.props.component.setValue(e)},a.handleBlur=function(){a.props.component.setTouched(!0)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.value,r=e.includeTime,l=e.editable,i=e.useDisplayValue,o=e.minDate,s=e.maxDate,c=e.fullWidth,d=e.disabled,f=!1===e.accessEditable||d,h=!1,p=r?dt.a:ht.a,m=null;return l&&!i?(h=!!n,m=u.a.createElement(ut.a,{utils:st.a},u.a.createElement("span",null,u.a.createElement(p,{value:n||null,onChange:this.handleDateChange,clearable:!0,className:a.root,minDate:o,maxDate:s,onClose:this.handleBlur,fullWidth:c,disabled:f})))):m=u.a.createElement(qe,null,t.getDisplayValue()),u.a.createElement(Be,{component:t,shrinkLabel:h},m)}}]),t}(u.a.PureComponent);pt=b()(function(e){return{root:{marginTop:2*e.spacing.unit}}})(pt);var mt=ne(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled"])(pt),vt=a(57),yt=a.n(vt),bt=function(e){function t(e){var a;if(Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var n=a.calcFieldsCanAccess();a.state.fieldsCanAccess=n}return a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e=this.props,t=e.component,a=e.mode,n=yt.a.fieldsCanAccess(a||"update",t,null,!0),r=!0,l=!1,i=void 0;try{for(var o,u=t.getFields()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,c=void 0===n[s.get("name")];s.set({ignoreErrs:c})}}catch(d){l=!0,i=d}finally{try{r||null==u.return||u.return()}finally{if(l)throw i}}return n}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(f.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.component,r=a.access,l=a.mode;e.component!==n&&this.turnOnAutoValidate(),e.access===r&&e.mode===l&&e.component===n||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.formTag,n=e.isLoading,r=e.disabled,l=this.state.fieldsCanAccess,i=t.get("fields");if(n)return null;var o=t.getKey(),s=i.map(function(e,t){if(null===l||void 0!==l[e.get("name")]){var a=null;return null!==l&&"read"===l[e.get("name")]&&(a=!1),u.a.createElement(rt,{key:o+"_"+t,component:e,accessEditable:a,disabled:r})}return null});return!1!==a?u.a.createElement("form",{onSubmit:this.handleSave},s):s}}]),t}(u.a.PureComponent),gt=ne(["access","mode","isLoading","change"])(bt),_t=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.hideLabel,n=e.classes,r=e.disabled,l=t.isBlank(),i=t.get("form");return u.a.createElement("span",null,!a&&u.a.createElement(Be,{component:t,inlineLabel:"true",shrinkLabel:!l,marginBottom:!1}),u.a.createElement(tt,null),u.a.createElement("span",{className:n.root},u.a.createElement(gt,{component:i,formTag:!1,disabled:r})))}}]),t}(u.a.PureComponent);_t=b()(function(e){return{root:{marginLeft:2*e.spacing.unit,display:"flex",flexFlow:"wrap"}}})(_t);var Ft=ne(["hideLabel","value"])(_t),kt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,a=e.forbidDelete,n=e.editable,r=e.disabled,l=e.archivedAt,i=e.onEdit,o=e.onDelete,s=null;t||(s=u.a.createElement(O.a,{onClick:i},u.a.createElement(T,{icon:"Edit"})));var c=null;return a||(c=u.a.createElement(O.a,{onClick:o},u.a.createElement(T,{icon:l?"Restore":"Delete"}))),!n||r||t&&a?null:u.a.createElement(ze.a,{item:!0},s,c)}}]),t}(u.a.PureComponent),wt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onClick&&a.props.onClick(e,a.props.component)},a.handleEdit=function(e,t){a.props.onEdit&&a.props.onEdit(e,a.props.component)},a.handleDelete=function(e){a.props.onDelete&&a.props.onDelete(a.props.component)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.component,r=t.forbidUpdate,l=t.forbidDelete,i=t.editable,o=t.disabled,s=t.value;return u.a.createElement("div",null,u.a.createElement(Ye.a,{className:a.paper},u.a.createElement(ze.a,{container:!0,wrap:"nowrap"},u.a.createElement(ze.a,{item:!0,className:a.content,onClick:function(t){return e.handleClick(t)}},u.a.createElement(Ra,{component:n,formTag:!1,mode:"read"})),u.a.createElement(kt,{forbidUpdate:r,forbidDelete:l,editable:i,disabled:o,archivedAt:s.archivedAt,onEdit:function(t){return e.handleEdit(t)},onDelete:function(t){return e.handleDelete(t)}}))))}}]),t}(u.a.PureComponent);wt=b()(function(e){return{paper:{margin:e.spacing.unit,padding:2*e.spacing.unit},content:{flex:1,cursor:"pointer"}}})(wt);var Et=ne(["value"])(wt),Ct=a(128),St=a.n(Ct),xt=a(129),Ot=a.n(xt),At=a(374),Pt=a.n(At),Lt=a(130),Dt=a.n(Lt),Tt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={saveClicked:!1,previousMode:null},a.handleClose=function(e){var t=a.props,n=t.mode,r=t.onClose,l=t.onCancel,i=t.currentForm;(e||"update"!==n)&&("update"===n?l&&l(i):r&&r(i))},a.handleEdit=function(){a.props.onEdit&&a.props.onEdit(a.props.currentForm)},a.handleSave=function(e){e.preventDefault(),a.props.disableSubmit||(a.props.onSave&&a.props.onSave(),a.setState({saveClicked:!0}))},a.handleDelete=function(){a.props.onDelete&&a.props.onDelete(a.props.currentForm)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mode,n=t.component,r=t.forbidUpdate,l=t.forbidDelete,i=t.value,o=this.state,s=o.saveClicked,c=o.previousMode,d=n.hasErrorForTouchedField()||!n.get("dirty")||s,f=this.isOpen(),h=null;return"update"===a||"create"===a||null===a&&("update"===c||"create"===c)?h=u.a.createElement("div",null,u.a.createElement(_e,{type:"submit",label:"Save",icon:"Save",disabled:d}),u.a.createElement(_e,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})):r&&l||(h=u.a.createElement("div",null,r?"":u.a.createElement(_e,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),l?"":u.a.createElement(_e,{label:i.archivedAt?"Restore":"Delete",icon:i.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),u.a.createElement(_e,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}}))),u.a.createElement(St.a,{open:f,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title"},u.a.createElement("form",{onSubmit:this.handleSave},u.a.createElement(Dt.a,null,u.a.createElement(Ra,{component:n,formTag:!1,mode:a})),h?u.a.createElement(Ot.a,null,h):""))}}]),t}(u.a.PureComponent);Tt=Pt()()(Tt);var It=Tt=ne(["err","dirty","value","mode","disableSubmit"])(Tt),jt=a(376),Nt=a.n(jt),Vt=a(375),Mt=a.n(Vt),Bt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.text,r=t.open,l=t.alert;return u.a.createElement("div",null,u.a.createElement(St.a,{open:r,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement(Mt.a,{id:"alert-dialog-title"},a),u.a.createElement(Dt.a,null,u.a.createElement(Nt.a,{id:"alert-dialog-description"},n)),u.a.createElement(Ot.a,null,l?null:u.a.createElement(be.a,{onClick:function(){return e.handleClose(!1)},color:"primary"},"No"),u.a.createElement(be.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0},l?"OK":"Yes"))))}}]),t}(u.a.PureComponent),Rt=(a(790),a(67)),Ut=a.n(Rt),Wt=a(126),qt=a.n(Wt),Gt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e="ASC"===a.props.sortOrder?"DESC":"ASC";a.props.onChange({sortOrder:e})},a.handleChange=function(e){a.props.onChange({sortBy:e.target.value})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.sortBy,n="DESC"!==e.sortOrder,r=e.options.map(function(e){return u.a.createElement(Ut.a,{value:e.value,key:e.value},e.label)});return u.a.createElement("div",null,u.a.createElement(Pe.a,{className:t.formControl},u.a.createElement(qt.a,{value:a,onChange:this.handleChange},u.a.createElement(Ut.a,{value:""},u.a.createElement("em",null,"None")),r)),u.a.createElement(O.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick},u.a.createElement(T,{icon:"Sort",className:n?t.flip:null})))}}]),t}(u.a.PureComponent),Kt=b()(function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}})(Gt),Ht=a(122),zt=a.n(Ht),$t=a(178),Yt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={confirmationOpen:!1,sortBy:"",sortOrder:"ASC"},a.handleClose=function(){a.props.component.set({mode:null})},a.handleCancel=function(e){var t=a.props.component;t.get("skipRead")?t.set({mode:null}):t.set({currentForm:e,mode:"read"})},a.handleClick=function(e){var t=a.props.component;t.get("skipRead")?t.set({currentForm:e,mode:"update"}):t.set({currentForm:e,mode:"read"})},a.handleEdit=function(e){a.props.component.set({currentForm:e,mode:"update"})},a.handleNew=function(){a.props.component.set({currentForm:null,mode:"create"})},a.handleSave=Object(i.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.component.save();case 2:case"end":return e.stop()}},e,this)})),a.handleDelete=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.component,r=a.isOpen(),t?n.set({currentForm:t}):t=n.get("form"),!t.getValue("archivedAt")){e.next=10;break}return e.next=7,n.restore(t);case 7:r&&n.set({mode:null}),e.next=12;break;case 10:a.setState({confirmationOpen:!0,confirmationTitle:"Delete this?"}),n.set({mode:null});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=a.props.component,e.next=4,n.archive(n.get("form"));case 4:a.setState({confirmationOpen:!1});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleOrdering=function(e){a.setState(e,function(){a.props.component.set({order:a.state.sortBy?[[a.state.sortBy,a.state.sortOrder]]:null})})},a.onDragEnd=function(e){e.destination&&e.destination.index!==e.source.index&&a.props.component.moveAndSaveForm({sourceIndex:e.source.index,destinationIndex:e.destination.index})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"canCreate",value:function(){return yt.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return yt.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return yt.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,a=e.showArchived,n=e.searchString,r=e.order;return!t&&!a&&!n&&!r}},{key:"cards",value:function(e,t){var a=this,n=this.props,r=n.component,l=n.forbidUpdate,i=n.forbidDelete,o=n.forbidOrder,s=n.editable,c=n.disabled,d=n.useDisplayValue,f=n.theme,h=12/(!1===o?1:this.props.maxColumns),p=[],m=0,v=!0,y=!1,b=void 0;try{for(var g,_=function(){var n=g.value;n.setEditable(!1);var o=n.getUniqueId(),v=r.getUniqueItemId(n.getValue("id")),y=u.a.createElement(ze.a,{item:!0,xs:12,sm:h,lg:h,key:o,id:v},u.a.createElement(Et,{onClick:function(){return a.handleClick(n)},onEdit:function(){return a.handleEdit(n)},onDelete:a.handleDelete,component:n,forbidUpdate:l||!e||d,forbidDelete:i||!t||d,editable:s,disabled:c}));a.canDrag()?p.push(u.a.createElement($t.b,{key:v,draggableId:v,index:m++},function(e,t){return u.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:function(e,t,a){return Object(I.a)({userSelect:"none",padding:a.spacing.unit/8,margin:"0 0 ".concat(a.spacing.unit/8,"px 0"),background:e?a.palette.secondary[400]:void 0},t)}(t.isDragging,e.draggableProps.style,f)}),y)})):p.push(y)},F=r.getForms()[Symbol.iterator]();!(v=(g=F.next()).done);v=!0)_()}catch(k){y=!0,b=k}finally{try{v||null==F.return||F.return()}finally{if(y)throw b}}return p}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),a=yt.a.fieldsCanAccess("read",t),n=[];return t.eachField(function(e){var r=e.get("name");void 0===a[r]||e.get("forbidSort")||e.get("hidden")||e instanceof zt.a||n.push({value:(t.isDefaultField(r)?"":"fieldValues.")+r,label:e.get("label")})}),n}}},{key:"header",value:function(e){var t=this.props,a=t.forbidCreate,n=t.editable,r=t.disabled,l=t.component,i=t.forbidSort,o=t.store,s=t.useDisplayValue,c=this.state,d=c.sortBy,f=c.sortOrder,h=l.getSingularLabel(),p=l.reachedMax(),m=this.canCreate(),v=n&&!r&&!s&&!a&&!p&&m,y=!i,b=this.sortOptions(),g=e>0&&!!o;return u.a.createElement(ze.a,{container:!0,spacing:0},u.a.createElement(ze.a,{item:!0,xs:12,sm:6,lg:6},v?u.a.createElement(_e,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+h,marginTop:!1}):null),u.a.createElement(ze.a,{item:!0,xs:12,sm:6,lg:6,align:"right"},g&&y?u.a.createElement(Kt,{onChange:this.handleOrdering,sortBy:d,sortOrder:f,options:b}):null))}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,a=e.forbidDelete,n=e.component,r=e.spacerHeight,l=e.classes,i=e.isLoading,o=e.form,s=e.currentForm,c=e.noResults,d=e.disabled,f=e.accessEditable,h=e.useDisplayValue,p=e.theme,m=!1===f||d,v=this.state,y=v.confirmationOpen,b=v.confirmationTitle,g=n.get("label").toLowerCase(),_=this.canUpdate(),F=this.canArchive(),k={height:r},w=n.get("spacerId"),E=this.cards(_,F),C=E;this.canDrag()&&(C=u.a.createElement($t.a,{onDragEnd:this.onDragEnd},u.a.createElement($t.c,{droppableId:"droppable"},function(e,t){return u.a.createElement("div",{ref:e.innerRef,style:function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}}(t.isDraggingOver,p)},E,e.placeholder)})));var x=n.get("searchString")&&c,O=this.header(E.length);return u.a.createElement("div",null,O,x?u.a.createElement(S.a,{variant:"h4"},u.a.createElement(T,{icon:"Info"})," No ",g," found"):null,u.a.createElement("div",{id:w,className:l.spacer,style:k}),u.a.createElement(ze.a,{container:!0,spacing:0},C),i?u.a.createElement("div",{className:l.footer}):null,u.a.createElement(It,{component:o,currentForm:s,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!_||m||h,forbidDelete:a||!F||m||h}),u.a.createElement(Bt,{open:y,onClose:this.handleConfirmationClose,title:b}))}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.hideLabel,n=t.isBlank();return u.a.createElement("span",null,!a&&u.a.createElement(Be,{component:t,inlineLabel:"true",shrinkLabel:!n}),this.field())}}]),t}(u.a.PureComponent);Yt=b()(function(e){return{spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing.unit,marginRight:e.spacing.unit,animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing.unit,animation:"fadeIn 1s infinite alternate"}}},{withTheme:!0})(Yt);var Zt=Yt=ne(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order"])(Yt),Jt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(){a.props.component.emit("delete")},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.allowDelete,n=e.help,r=e.disabled,l=e.editable;if(t){var i=t.get("block");return u.a.createElement("span",null,u.a.createElement(rt,{component:t,block:!1,disabled:r}),a&&!r&&l?u.a.createElement(O.a,{"aria-label":"Delete",onClick:this.handleDelete},u.a.createElement(T,{icon:"DeleteIcon"})):null,n&&l?u.a.createElement(Te,{help:n}):"",i?u.a.createElement(tt,null):null)}return null}}]),t}(u.a.PureComponent),Xt=ne(["value","disabled","editable"])(Jt),Qt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleNew=function(){a.props.component.createField(),a.props.component.set({touched:!1})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.allowDelete,n=e.useDisplayValue,r=e.autoCreateFields,l=e.hideLabel,i=e.editable,o=e.canDeleteEmpty,s=e.accessEditable,c=e.disabled,d=e.hideDeleteButton,f=t.getSingularLabel(),h=!1===s||c,p=[],m=!0,v=t.isBlank();return t.eachField(function(e,t){var r=e.isBlank();!m&&n&&r||p.push(u.a.createElement(Xt,{component:e,key:t,allowDelete:a&&!n&&(o||!r)&&!d,disabled:c})),m&&(m=!1)}),r||n||!i||h||p.push(u.a.createElement(_e,{key:"button","aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(f||""),marginTop:!1})),u.a.createElement("span",null,!l&&u.a.createElement(Be,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!v}),u.a.createElement("div",null,p))}}]),t}(u.a.PureComponent),ea=ne(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Qt),ta=a(401),aa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.component.setValue(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.editable,n=e.accessEditable,r=e.classes,l=e.useDisplayValue,i=!1!==n&&a&&!t,o=se.a.get("reCAPTCHASiteKey");return i&&!l?u.a.createElement("div",{className:r.captcha},u.a.createElement(ta.a,{ref:"recaptcha",sitekey:o,onChange:this.handleChange})):null}}]),t}(u.a.PureComponent);aa=b()(function(e){return{captcha:{margin:e.spacing.unit}}})(aa);var na=ne(["disabled","editable","useDisplayValue"])(aa),ra=a(383),la=a.n(ra),ia=a(80),oa=a.n(ia),ua=a(133),sa=a.n(ua),ca=a(20),da=a.n(ca),fa=a(380),ha=a(169),pa=a(70);function ma(e){var t=e.inputRef,a=Object(ve.a)(e,["inputRef"]);return u.a.createElement("div",Object.assign({ref:t},a))}var va={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),u.a.createElement(oe.a,Object.assign({},t,{InputProps:{inputComponent:ma,inputProps:Object(I.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return u.a.createElement(Ye.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){var t;return u.a.createElement(sa.a,{tabIndex:-1,label:e.children,className:da()(e.selectProps.classes.chip,(t={},Object(v.a)(t,e.selectProps.classes.chipFocused,e.isFocused),Object(v.a)(t,e.selectProps.classes.disabled,e.selectProps.isDisabled),t)),onDelete:e.removeProps.onClick,deleteIcon:u.a.createElement(T,{icon:"Cancel"})})},NoOptionsMessage:function(e){return u.a.createElement(S.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return u.a.createElement(Ut.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return u.a.createElement(S.a,Object.assign({className:da()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),e.children)},ValueContainer:function(e){return u.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},ya=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.options,n=e.isClearable,r=e.placeholder,l=e.onChange,i=e.onBlur,o=e.onFocus,s=e.onInputChange,c=e.value,d=e.isDisabled,f=e.fullWidth,h=e.isMulti,p={dropdownIndicator:function(e){return Object(I.a)({},e,{cursor:"pointer"})},clearIndicator:function(e){return Object(I.a)({},e,{cursor:"pointer"})},menuPortal:function(e){return Object(I.a)({},e,{zIndex:2e3})}};return u.a.createElement(fa.a,{className:da()(t.root,f&&t.fullWidth),classes:t,styles:p,options:a,components:va,value:c,onChange:l,onBlur:i,onFocus:o,onInputChange:s,placeholder:r,isClearable:n,isDisabled:d,fullWidth:f,isMulti:h,menuPortalTarget:document.body})}}]),t}(u.a.Component),ba=Object(ha.withStyles)(function(e){return{input:{display:"flex",padding:0,minWidth:240},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:2*e.spacing.unit+5},chip:{margin:"".concat(e.spacing.unit/1,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(pa.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:1*e.spacing.unit},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}})(ya),ga=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={focus:!1},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e.map(function(e){return e.value})):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,a=e.blankString,n=e.value,r=e.multiple;if(t){var l=[];return!r&&a&&l.push(u.a.createElement(Ut.a,{value:"",key:""},u.a.createElement("em",null,a))),t.forEach(function(e){if(r){var t=!!n&&-1!==n.indexOf(e.value);l.push(u.a.createElement(Ut.a,{value:e.value,key:e.value},u.a.createElement(la.a,{checked:t}),u.a.createElement(H.a,{primary:e.label})))}else l.push(u.a.createElement(Ut.a,{value:e.value,key:e.value},e.label))}),l}}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.err,r=t.touched,l=t.disabled,i=t.component,o=t.fullWidth,s=t.classes,c=t.editable,d=t.multiple,f=t.accessEditable,h=t.useDisplayValue,p=t.options,m=t.autocomplete,v=this.state.focus,y=!1===f||l,b=d?[]:"";a&&(b=a);var g=void 0,_=void 0;d&&(g=u.a.createElement(oa.a,null),_=function(e){return u.a.createElement("div",{className:s.chips},e.map(function(e){return u.a.createElement(sa.a,{key:e,label:i.getOptionLabel(e),className:s.chip})}))});var F={},k=null;if(c&&!h)if(m){var w=null;w=d?b.map(function(e){return{value:e,label:i.getOptionLabel(e)}}):{value:b,label:i.getOptionLabel(b)},!v&&i.isValueBlank(b)||(F.shrinkLabel=!0),k=u.a.createElement(ba,{options:p,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:w,isDisabled:y,fullWidth:o,isMulti:d})}else k=u.a.createElement(qt.a,{multiple:d,error:!(!r||!n),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:g,renderValue:_,value:b,disabled:y,fullWidth:o,className:s.formControl},this.renderOptions());else{var E=null;E=d&&a?a.map(function(e){return u.a.createElement(sa.a,{key:e,label:i.getOptionLabel(e),className:s.chip})}):i.getDisplayValue(),k=u.a.createElement(qe,null,E)}return u.a.createElement(Be,Object.assign({component:i},F),k)}}]),t}(u.a.PureComponent);ga=b()(function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing.unit/4}}})(ga);var _a=ne(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(ga),Fa=a(384),ka=a.n(Fa),wa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){a.props.component.setValue(e)},a.handleBlur=function(){a.props.component.setTouched(!0)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.value,r=e.editable,l=e.useDisplayValue,i=e.showSeconds,o=e.fullWidth,s=e.disabled,c=!1===e.accessEditable||s,d=!1,f=null;return r&&!l?(d=!!n,f=u.a.createElement(ut.a,{utils:st.a},u.a.createElement("span",null,u.a.createElement(ka.a,{value:n||null,onChange:this.handleDateChange,clearable:!0,className:a.root,seconds:i,onClose:this.handleBlur,fullWidth:o,disabled:c,invalidDateMessage:""})))):f=u.a.createElement(qe,null,t.getDisplayValue()),u.a.createElement(Be,{component:t,shrinkLabel:d},f)}}]),t}(u.a.PureComponent);wa=b()(function(e){return{root:{marginTop:2*e.spacing.unit}}})(wa);var Ea=ne(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(wa),Ca=a(385),Sa=a.n(Ca),xa=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.text;return u.a.createElement(S.a,{component:"div"},u.a.createElement(Sa.a,{source:e}))}}]),t}(u.a.PureComponent),Oa=xa=ne(["text"])(xa),Aa=a(386),Pa=a.n(Aa),La=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(ve.a)(e,["inputRef"]),r=a.props.mask;return u.a.createElement(Pa.a,Object.assign({},n,{ref:t,mask:r}))},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.err,a=e.maxLength,n=e.touched,r=e.disabled,l=e.component,i=e.fullWidth,o=e.type,s=e.editable,c=e.accessEditable,d=e.multiline,f=e.rows,h=e.rowsMax,p=e.useDisplayValue,m=e.mask,v=e.displayValue,y=!1===c||r,b=null;if(s&&!p){var g={};m&&(g.inputComponent=this.TextMaskCustom);var _=l.getUIValue();b=u.a.createElement(oa.a,Object.assign({id:l.getUniqueId(),error:!(!n||!t),inputProps:{maxLength:a},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:_||"",disabled:y,fullWidth:i,type:o,multiline:d,rows:f,rowsMax:h},g))}else b=u.a.createElement(qe,null,v||l.getDisplayValue());return u.a.createElement(Be,{component:l},b)}}]),t}(u.a.PureComponent),Da=ne(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(La),Ta=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.value,n=e.editable,r=e.useDisplayValue,l=e.newWindow,i=null;if((!n||r)&&a){var o=a;0!==o.indexOf("http")&&(o="http://"+o),i=u.a.createElement("a",{href:o,target:l?"_blank":"_self"},a)}return u.a.createElement(Da,{component:t,displayValue:i})}}]),t}(u.a.PureComponent),Ia=ne(["value","editable","useDisplayValue","newWindow"])(Ta),ja={ButtonField:ke,BooleanField:Ke,Card:Je,ChainedSelectField:it,ChainedSelectListField:ea,ComponentField:Qe,CompositeField:it,DateField:mt,Field:rt,Form:gt,FormField:Ft,CollectionField:Zt,IdField:Da,IntegerField:Da,ListField:ea,MoneyField:Da,NumberField:Da,PhoneField:Da,ReCAPTCHAField:na,SelectField:_a,SelectListField:ea,TimeField:Ea,Text:Oa,TextField:Da,TextListField:ea,URLField:Ia,User:gt},Na=a(38),Va=a.n(Na),Ma=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),a=ja[t];if(void 0!==a)return a;if(Va.a.isCompiled(Va.a.getComponent(t))){var n=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new n)}var r=Va.a.getOldestCompiledAncestor(t),l=Va.a.getComponent(r);return this.getUIComponent(new l)}}]),e}()),Ba=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var n=a.props,r=n.on,l=n.component;r&&r({name:e,value:t,component:l});var i="on"+e.charAt(0).toUpperCase()+e.slice(1);a.props[i]&&a.props[i]({value:t,component:l})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(ve.a)(e,["component"]);if(t){var n=Ma.getUIComponent(t);return u.a.createElement(n,Object.assign({component:t},a))}return null}}]),t}(u.a.PureComponent),Ra=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={component:null},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:Va.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),a=Object(ve.a)(e,["definition","component"]),n=t;return t||(n=this.state.component),u.a.createElement(Ba,Object.assign({component:n},a))}}]),t}(u.a.PureComponent),Ua=a(391),Wa=a.n(Ua),qa=a(387),Ga=a.n(qa),Ka=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){"clickaway"!==t&&a.props.onClose&&a.props.onClose()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=e.open;return u.a.createElement(Ga.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:u.a.createElement("span",{id:"message-id"},a),action:[u.a.createElement(O.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},u.a.createElement(T,{icon:"Close"}))]})}}]),t}(u.a.PureComponent),Ha=b()(function(e){return{close:{padding:e.spacing.unit/2}}})(Ka),za=a(37),$a=a.n(za),Ya=a(170),Za=a.n(Ya),Ja=a(98),Xa=a.n(Ja),Qa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchString:"",showSearch:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.content.has("dirty")&&t.content.get("dirty")&&!t.fullScreen?se.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(i.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.content instanceof $a.a)){e.next=5;break}return e.next=3,t.content.run();case 3:e.next=6;break;case 5:a.props.history.push(t.path);case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(i.a)(l.a.mark(function e(t,n){var r,i,o,u,s,c,d,f,h;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a.state.menuItem){e.next=22;break}if(a.component&&a.component.emitUnload(),r=t&&t.content instanceof $a.a,!t||!t.content){e.next=21;break}if(i=a.props,o=i.location,u=i.component,s=u.get("menu"),se.a.set({route:s.toRoute({parameters:n,queryString:o.search.substr(1),hash:o.hash.substr(1)})}),c=s.getParent(t.path),!a.requireAccess(t.roles)||c&&!a.requireAccess(c.roles)){e.next=19;break}if(!r){e.next=14;break}return e.next=12,t.content.run();case 12:e.next=19;break;case 14:a.component=t.content,a.component.emitLoad(),d=a.canArchive(),f=d.canArchive,h=d.canSearch,se.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:f,searchString:"",showSearch:h});case 19:e.next=22;break;case 21:a.component=null;case 22:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.onLocation=function(e){se.a.set({path:e.pathname})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.content.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringChange=function(e){a.setState({searchString:e.target.value})},a.setGlobalOnNavigate(),a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"setGlobalOnNavigate",value:function(){se.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;se.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.state.menuItem,a=this.props.component.get("menu");if(!t||e!==t.path){var n=a.getItemAndParsePath(e);return this.switchContent(n.item,n.params)}}},{key:"canArchive",value:function(){var e=!1,t=!1;if(this.component&&this.component instanceof Xa.a){var a=!0,n=!1,r=void 0;try{for(var l,i=this.component.getFields()[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var o=l.value;o instanceof Za.a&&(e=!o.get("forbidViewArchived")&&yt.a.canArchive(o.get("form")),t=!o.get("forbidSearch"))}}catch(u){n=!0,r=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}return{canArchive:e,canSearch:t}}},{key:"emitLoggedOut",value:function(){se.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||X.a.client&&X.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentWillUpdate",value:function(e){var t=se.a.get("snackbarMessage");t&&(this.displaySnackbar(t),se.a.set({snackbarMessage:null}))}},{key:"componentDidUpdate",value:function(e){if(this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path!==e.path&&this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var t=this.state.menuItem;t&&t.content.has("searchString")&&t.content.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(t){e.state.menuItem&&e.state.menuItem.content.emit("scroll",t)}),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),Promise.resolve().then(function(){X.a.client&&X.a.client.user.awaitSession()}).then(function(){e.onLocation(e.props.location)})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.component,n=e.confirmation,r=e.menuAlwaysTemporary,l=this.state,i=l.mobileOpen,o=l.menuItem,s=l.snackbarOpen,c=l.snackbarMessage,d=l.confirmationOpen,f=l.showArchived,h=l.showArchivedToggle,p=l.searchString,m=l.showSearch,v=!r,y=a.get("menu"),b=this.props.location.pathname,g=this.component?u.a.createElement(Ra,{component:this.component}):null,F=!!f,w=null;h&&(w=u.a.createElement(k.a,{title:f?"Show Active":"Show Deleted"},u.a.createElement(Ee.a,{onChange:this.handleArchivedChange,checked:F})));var C=null;m&&(C=u.a.createElement(de,{className:t.searchBar,searchString:p,onChange:this.handleSearchStringChange}));var x=u.a.createElement(_.a,{elevation:1,className:t.appBar+(v?" ".concat(t.appBarResponsive):"")},u.a.createElement(E.a,null,u.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:v?t.navIconHide:""},u.a.createElement(T,{icon:"Menu"})),u.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0},o?o.label:""),w,C)),A=u.a.createElement(le,{component:y,onDrawerToggle:this.handleDrawerToggle,mobileOpen:i,onNavigate:this.handleNavigate,path:b,responsive:v}),P=null;return o&&o.fullScreen&&(P={marginLeft:0,marginTop:0}),u.a.createElement("div",{className:t.root},u.a.createElement("div",{className:t.appFrame},o&&o.fullScreen?null:x,o&&o.fullScreen?null:A,u.a.createElement("main",{className:t.content+(v?" ".concat(t.contentResponsive):""),style:P},u.a.createElement(he.a,null,u.a.createElement(me.a,null)),g,u.a.createElement(Ha,{open:s,message:c,onClose:this.handleSnackbarClose}),u.a.createElement(Bt,{open:d,onClose:this.handleConfirmationClose,title:n?n.title:null,text:n?n.text:null,alert:n?n.alert:null}))))}}]),t}(u.a.PureComponent);Qa=b()(function(e){var t;return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:Object(v.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(v.a)({},e.breakpoints.up("md"),{display:"none"}),content:(t={backgroundColor:e.palette.background.default,width:"100%",padding:3*e.spacing.unit,height:"calc(100% - 56px)",marginTop:56},Object(v.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64}),Object(v.a)(t,"overflowAnchor","none"),t),contentResponsive:Object(v.a)({},e.breakpoints.up("md"),{marginLeft:240}),searchBar:{marginLeft:"auto"}}},{withTheme:!0})(Qa),Qa=Wa()(Qa),Qa=ne(["menuAlwaysTemporary"])(Qa);var en=Qa=ne(["path","redirectPath","snackbarMessage","confirmation","searchString"],se.a)(Qa),tn=a(394),an=a.n(tn),nn=a(240),rn=a.n(nn),ln=a(121),on=a.n(ln),un=a(392),sn=a.n(un),cn=a(393),dn=a.n(cn),fn=a(395),hn=a.n(fn),pn=a(396),mn=a.n(pn),vn=on()({palette:{primary:sn.a,secondary:dn.a},typography:{useNextVariants:!0}}),yn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onNavigate=function(e,t){se.a.onNavigate(e,t)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.basename;return u.a.createElement(rn.a,{theme:vn},u.a.createElement(an.a,null),u.a.createElement(hn.a,{getUserConfirmation:this.onNavigate,basename:a},u.a.createElement("div",null,u.a.createElement(en,{component:t}),u.a.createElement(mn.a,{message:"foo"}))))}}]),t}(u.a.Component),bn=ne(["basename"])(yn),gn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _n(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/mson-react","/service-worker.js");gn?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Fn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Fn(e)})}}function Fn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var kn=function(){var e=Object(i.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!X.a.client){e.next=3;break}return e.next=3,X.a.client.user.awaitSession();case 3:c.a.render(u.a.createElement(bn,{component:t}),document.getElementById("root")),_n();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),wn=(a(1031),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-editor",label:"Form Editor",content:{component:"app.FormEditor"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}}]}}),En=a(402),Cn=a(82),Sn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"_create",value:function(e){var a=this;Object(En.a)(Object(p.a)(t.prototype),"_create",this).call(this,e),this.set({fields:[new Cn.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new Cn.TextField({name:"lastName",label:"Last Name",required:!0}),new Cn.EmailField({name:"email",label:"Email"}),new Cn.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new Cn.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new Cn.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",function(){a.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})}),this.on("submit",function(){var e=a.getValues();console.log("submitting",e),se.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName))}),this.on("cancel",function(){se.a.redirect("/")})}}]),t}(Xa.a);Va.a.registerComponent("app.ContactNoMSON",Sn);var xn={name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},On={name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},An={name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},Pn={name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},Ln={name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/redgeoff7"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},Dn=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],Tn={name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:Dn},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:Dn},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},In={name:"app.FormEditor",component:"Form",fields:[{name:"fields",component:"CollectionField",label:"Fields",hideLabel:!0,maxColumns:1,skipRead:!0,includeExtraneous:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"FieldEditorForm"}},store:{component:"LocalStorageStore",storeName:"myForm"}}]},jn={name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},Nn={name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},Vn={name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},Mn={name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},Bn=a(397),Rn=a.n(Bn),Un=a(398),Wn=a.n(Un),qn=a(399),Gn=a.n(qn),Kn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={field:null},a.handleValueChange=function(e){var t=a.props.component,n=a.state.field;if(!n||e.componentName!==n.getClassName())if(n&&n.destroy(),e.componentName){var r=function(){n.clearErr(),n.validate()};(n=Va.a.newComponent({component:e.componentName})).on("value",r),n.on("touched",r)}else n=null;if(n){var l=t.getValues({default:!1});Z()(l,function(e,t){n.has(t)&&n.set(Object(v.a)({},t,e))})}a.setState({field:n})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.formTag,r=e.mode,l=this.state.field,i=null;return l&&"read"!==r&&(i=u.a.createElement(Wn.a,{className:a.card},u.a.createElement(Gn.a,null,u.a.createElement(S.a,{color:"textSecondary",gutterBottom:!0},"Preview"),u.a.createElement(rt,{component:l})))),"read"!==r?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:a.preview},i),u.a.createElement("div",{className:a.form},u.a.createElement(gt,{component:t,formTag:n,mode:r}))):l?u.a.createElement(rt,{component:l,disabled:!0}):null}}]),t}(u.a.PureComponent);Kn=b()(function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:3*e.spacing.unit}}})(Kn);var Hn=Kn=ne(["mode"])(Kn);for(var zn in se.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),Va.a.registerComponent("FieldEditorForm",Rn.a),ja.FieldEditorForm=Hn,n){var $n=n[zn];Va.a.registerComponent($n.name,$n)}kn(Va.a.newComponent({component:"app.App"}))},116:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(928)),h=n(a(91)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","SelectField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"},{name:"multiple",component:"BooleanField"},{name:"removeIfNotInList",component:"BooleanField"},{name:"autocomplete",component:"BooleanField"}]}}),this._setDefaults(e,{ensureInList:!0,multiple:!1,removeIfNotInList:!0,autocomplete:!0})}},{key:"_setProperty",value:function(e,a){(0,u.default)((0,o.default)(t.prototype),"_setProperty",this).call(this,e,a),"multiple"===e&&this.set({allowScalar:!a})}},{key:"getOne",value:function(e){return"value"===e&&this.isValueBlank(this._value)?null:(0,u.default)((0,o.default)(t.prototype),"getOne",this).call(this,e)}},{key:"getOptionLabel",value:function(e){var t=null;return this._options&&this._options.forEach(function(a){a.value===e&&(t=a.label)}),t}},{key:"validate",value:function(){var e=this;if((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.isBlank()&&this.get("ensureInList")){var a=this.get("value"),n=this.get("multiple")?a:[a],r=[];n.forEach(function(t){null===e.getOptionLabel(t)&&r.push({error:"".concat(t," is not an option")})}),r.length>0&&this.setErr(r)}}},{key:"_setValue",value:function(e){var a=this;if(this.get("removeIfNotInList")&&e){e=(0,h.default)(e);var n=this.get("multiple")?e:[e],r=[];n.forEach(function(e,t){null!==a.getOptionLabel(e)&&r.push(e)}),(0,u.default)((0,o.default)(t.prototype),"_setValue",this).call(this,this.get("multiple")?r:r[0])}else(0,u.default)((0,o.default)(t.prototype),"_setValue",this).call(this,e)}},{key:"getDisplayValue",value:function(){var e=this,t=this.get("value");return this.isBlank()?t:this.get("multiple")?t.map(function(t){return e.getOptionLabel(t)}):this.getOptionLabel(t)}},{key:"isValueBlank",value:function(e){return!!(0,u.default)((0,o.default)(t.prototype),"isValueBlank",this).call(this,e)||(""===e||!!this.get("multiple")&&(Array.isArray(e)&&0===e.length))}}]),t}(f.default);t.default=p},117:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Reorder=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(17)),o=function(){function e(){(0,r.default)(this,e)}return(0,l.default)(e,[{key:"_handleReorder",value:function(e,t,a){if(e.order!==t)return a(e,t)}},{key:"reorderItem",value:function(e,t,a,n,r,l){var i=null;return n===a&&a!==this.constructor.DEFAULT_ORDER&&(n++,r=e.id),e.id===t?i=this._handleReorder(e,a,l):e.order===this.constructor.DEFAULT_ORDER&&e.archivedAt||(i=this._handleReorder(e,n,l),n++),{i:n,destinationKey:r,afterReordered:i}}},{key:"reorder",value:function(e,t,a,n){var r=this,l=0,i=null;return e.forEach(function(e){var o=r.reorderItem(e,t,a,l,i,n);l=o.i,i=o.destinationKey}),{destinationKey:i}}}]),e}();t.Reorder=o,(0,i.default)(o,"DEFAULT_ORDER",-1);var u=new o;t.default=u},118:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(45)),h=n(a(365)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","DateField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"now",component:"BooleanField"},{name:"includeTime",component:"BooleanField",label:"Include Time",docLevel:"basic"},{name:"minDate",component:"DateField",label:"Min Date",docLevel:"basic"},{name:"maxDate",component:"DateField",label:"Max Date",docLevel:"basic"}]}})}},{key:"now",value:function(){this.set({value:new Date})}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==e.now&&(this.now(),delete a.now),void 0!==a.value&&"number"!==typeof a.value&&(a.value=this.constructor.toEpochTime(e.value)),(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,a)}},{key:"_toLocaleString",value:function(e){return this.get("includeTime")?e.toLocaleString():e.toLocaleDateString()}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),a=new Date(e),n=this.get("minDate")?new Date(this.get("minDate")):null,r=this.get("maxDate")?new Date(this.get("maxDate")):null;(0,h.default)(a)?null!==n&&a.getTime()<n.getTime()?this.setErr("must be after ".concat(this._toLocaleString(n))):null!==r&&a.getTime()>r.getTime()&&this.setErr("must be before ".concat(this._toLocaleString(r))):this.setErr("invalid")}}}],[{key:"toEpochTime",value:function(e){return e instanceof Date?e.getTime():"string"===typeof e?new Date(e).getTime():e}}]),t}(f.default);t.default=p},119:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(237)),h=n(a(961)),p=["prefix","suffix","includeThousandsSeparator","thousandsSeparatorSymbol","allowDecimal","decimalSymbol","decimalLimit","allowNegative"],m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","NumberField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this._requireString=!1,this.set({schema:{component:"Form",fields:[{name:"minValue",component:"NumberField",label:"Min Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"maxValue",component:"NumberField",label:"Max Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"prefix",component:"TextField",label:"Prefix",docLevel:"basic"},{name:"suffix",component:"TextField"},{name:"includeThousandsSeparator",component:"BooleanField"},{name:"thousandsSeparatorSymbol",component:"TextField"},{name:"allowDecimal",component:"BooleanField"},{name:"decimalSymbol",component:"TextField"},{name:"decimalLimit",component:"IntegerField"},{name:"allowNegative",component:"BooleanField"}]}}),this._setDefaults(e,{unmask:/[^\d\\.]/g})}},{key:"_validateLengths",value:function(){if(!this.isBlank()){var e=this.getValue(),t=this.get("minValue"),a=this.get("maxValue");null!==t&&e<t?this.setErr("must be ".concat(t," or greater")):null!==a&&e>a&&this.setErr("must be ".concat(a," or less"))}}},{key:"validate",value:function(){(0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?\d*\.?\d*)$/,"not a number"),this.hasErr()||this._validateLengths()}},{key:"_shouldCreateMask",value:function(e){var t=this,a=!1;return p.forEach(function(n){void 0!==e[n]&&e[n]!==t._getProperty(n)&&(a=!0)}),a}},{key:"_createMask",value:function(e){var t={prefix:"",allowDecimal:!0,decimalLimit:null,allowNegative:!0};p.forEach(function(a){void 0!==e[a]&&(t[a]=e[a])}),this.set({mask:(0,h.default)(t)})}},{key:"set",value:function(e){this._shouldCreateMask(e)&&this._createMask(e),(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,e)}},{key:"fromUIValue",value:function(e){var a=this.get("decimalSymbol");if(a&&"."!==a&&!this.isValueBlank(e)){e=(e=(e=e.replace(a,"A")).replace(/[^\d-A]/g,"")).replace("A",".")}return(0,u.default)((0,o.default)(t.prototype),"fromUIValue",this).call(this,e)}},{key:"getUIValue",value:function(){var e=(0,u.default)((0,o.default)(t.prototype),"getUIValue",this).call(this),a=this.get("decimalSymbol");return a&&"."!==a&&!this.isBlank()?e.replace(".",a):e}}]),t}(f.default);t.default=m},122:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ButtonField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"type",component:"SelectField",label:"Type",options:[{value:"submit",label:"Submit"}],docLevel:"basic"},{name:"icon",component:"TextField",label:"Icon",docLevel:"basic"},{name:"variant",component:"TextField",hidden:!0}]}}),this._setDefaults(e,{block:!1,out:!1})}},{key:"emitClick",value:function(){this.emitChange("click"),"submit"===this.get("type")&&this.set({disabled:!0})}}]),t}(n(a(45)).default);t.default=f},159:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(16)),c=function(e){function t(){var e;return(0,l.default)(this,t),(e=(0,o.default)(this,(0,u.default)(t).call(this))).clear(),e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"clear",value:function(){this._firstKey=null,this._lastKey=null,this._length=0,this._items={}}},{key:"has",value:function(e){return void 0!==this._items[e]}},{key:"_nullOrUndefined",value:function(e){return void 0===e||null===e}},{key:"_insertBefore",value:function(e,t,a){var n=this._lastKey;this._nullOrUndefined(a)?a=null:(this._throwIfMissing(a),n=this._items[a].prevKey);var r={key:e,prevKey:n,nextKey:a,value:t};return null===a?(null!==this._lastKey&&(this._items[this._lastKey].nextKey=e),this._lastKey=e):(this._items[a].prevKey=e,null!==n&&(this._items[n].nextKey=e)),this._items[e]=r,null!==this._firstKey&&a!==this._firstKey||(this._firstKey=e),this._length++,r}},{key:"_insertAfter",value:function(e,t,a){var n=this._firstKey;this._nullOrUndefined(a)?a=null:(this._throwIfMissing(a),n=this._items[a].nextKey);var r={key:e,prevKey:a,nextKey:n,value:t};return null===a?(null!==this._firstKey&&(this._items[this._firstKey].prevKey=e),this._firstKey=e):(this._items[a].nextKey=e,null!==n&&(this._items[n].prevKey=e)),this._items[e]=r,null!==this._lastKey&&a!==this._lastKey||(this._lastKey=e),this._length++,r}},{key:"_insert",value:function(e,t,a,n){if(void 0!==a&&void 0!==n)throw new Error("cannot specify both beforeKey and afterKey");return void 0!==n?this._insertAfter(e,t,n):this._insertBefore(e,t,a)}},{key:"_update",value:function(e,t,a,n){var r=this._items[e];return void 0!==a&&r.nextKey!==a&&a!==e||void 0!==n&&r.prevKey!==n&&n!==e?(this._delete(e),r=this._insert(e,t,a,n)):r.value=t,r}},{key:"set",value:function(e,t,a,n){var r=null;if(this._nullOrUndefined(e))throw new Error("key cannot be null or undefined");return this.has(e)?(r=this._update(e,t,a,n),this.emitChange("update",r)):(r=this._insert(e,t,a,n),this.emitChange("create",r)),r}},{key:"_throwIfMissing",value:function(e){if(!this.has(e))throw new Error("value is missing for key "+e)}},{key:"get",value:function(e){return this._throwIfMissing(e),this._items[e].value}},{key:"walkForward",value:r.default.mark(function e(t,a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(n=this._items[t],!a){e.next=7;break}return e.next=5,[t,n.value];case 5:e.next=9;break;case 7:return e.next=9,n.value;case 9:if(null===n.nextKey){e.next=11;break}return e.delegateYield(this.walkForward(n.nextKey,a),"t0",11);case 11:case"end":return e.stop()}},e,this)})},{key:"walkBackward",value:r.default.mark(function e(t,a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(n=this._items[t],!a){e.next=7;break}return e.next=5,[t,n.value];case 5:e.next=9;break;case 7:return e.next=9,n.value;case 9:if(null===n.prevKey){e.next=11;break}return e.delegateYield(this.walkBackward(n.prevKey,a),"t0",11);case 11:case"end":return e.stop()}},e,this)})},{key:"values",value:r.default.mark(function e(t,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey),"t1",5);case 5:case"end":return e.stop()}},e,this)})},{key:"entries",value:r.default.mark(function e(t,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey,!0),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey,!0),"t1",5);case 5:case"end":return e.stop()}},e,this)})},{key:"forEach",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=this.entries()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var i=r.value,o=i[0]===this._lastKey;if(!1===e(i[1],i[0],o))break}}catch(u){a=!0,n=u}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}}},{key:"each",value:function(e){this.forEach(e)}},{key:"map",value:function(e){var t=[];return this.forEach(function(a,n){t.push(e(a,n))}),t}},{key:"_delete",value:function(e){this._throwIfMissing(e);var t=this._items[e];if(null!==t.prevKey&&null!==t.nextKey){var a=this._items[t.prevKey],n=this._items[t.nextKey];a.nextKey=t.nextKey,n.prevKey=t.prevKey}else{if(null===t.prevKey){if(null!==t.nextKey)this._items[t.nextKey].prevKey=null;this._firstKey=t.nextKey}if(null===t.nextKey){if(null!==t.prevKey)this._items[t.prevKey].nextKey=null;this._lastKey=t.prevKey}}return this._length--,delete this._items[e],t}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"delete",value:function(e){var t=this._delete(e);return this.emitChange("delete",t),t}},{key:"length",value:function(){return this._length}},{key:"previousKey",value:function(e){return this._throwIfMissing(e),this._items[e].prevKey}},{key:"previous",value:function(e){return this.get(this.previousKey(e))}},{key:"first",value:function(){return this.get(this._firstKey)}},{key:"firstKey",value:function(){return this._firstKey}},{key:"hasFirst",value:function(){return this.has(this._firstKey)}},{key:"isEmpty",value:function(){return!this.hasFirst()}},{key:"nextKey",value:function(e){return this._throwIfMissing(e),this._items[e].nextKey}},{key:"next",value:function(e){return this.get(this.nextKey(e))}},{key:"last",value:function(){return this.get(this._lastKey)}},{key:"lastKey",value:function(){return this._lastKey}},{key:"hasLast",value:function(){return this.has(this._lastKey)}}]),t}(n(a(281)).default.EventEmitter);t.default=c},170:function(e,t,a){"use strict";(function(e){var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(107)),l=n(a(49)),i=n(a(29)),o=n(a(33)),u=n(a(10)),s=n(a(11)),c=n(a(15)),d=n(a(13)),f=n(a(19)),h=n(a(16)),p=n(a(18)),m=n(a(17)),v=n(a(45)),y=n(a(31)),b=n(a(932)),g=n(a(933)),_=n(a(56)),F=n(a(68)),k=n(a(51)),w=function(t){function a(){var e,t;(0,u.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,c.default)(this,(e=(0,d.default)(a)).call.apply(e,[this].concat(r))),(0,m.default)((0,p.default)((0,p.default)(t)),"_className","CollectionField"),t}return(0,h.default)(a,t),(0,s.default)(a,[{key:"_create",value:function(t){(0,f.default)((0,d.default)(a.prototype),"_create",this).call(this,t);var n=this.constructor;this._window=e.window,this._document=e.document,this._globals=y.default,this.set({schema:{component:"Form",fields:[{name:"formFactory",component:"Field",required:!0},{name:"form",component:"Field"},{name:"forbidCreate",component:"BooleanField"},{name:"forbidUpdate",component:"BooleanField"},{name:"forbidDelete",component:"BooleanField"},{name:"forbidViewArchived",component:"BooleanField"},{name:"forbidSearch",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"forbidOrder",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"singularLabel",component:"TextField"},{name:"store",component:"Field"},{name:"scrollThreshold",component:"IntegerField"},{name:"itemsPerPage",component:"IntegerField"},{name:"maxBufferPages",component:"IntegerField"},{name:"spacerHeight",component:"IntegerField"},{name:"spacerId",component:"TextField"},{name:"bufferTopId",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"order",component:"Field"},{name:"currentForm",component:"Field"},{name:"mode",component:"TextField"},{name:"noResults",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"change",component:"Field"},{name:"maxColumns",component:"IntegerField"},{name:"skipRead",component:"BooleanField"},{name:"includeExtraneous",component:"BooleanField"}]}}),this._setDefaults(t,{scrollThreshold:n.SCROLLTHRESHOLD_DEFAULT,itemsPerPage:n.ITEMS_PER_PAGE_DEFAULT,maxBufferPages:n.MAX_BUFFER_PAGES_DEFAULT,spacerHeight:0,spacerId:_.default.getNextUniqueId(),order:null,mode:null,showArchived:!1,searchString:null,maxColumns:2,forbidOrder:!0}),this._createInfiniteLoader(),this._forms=new b.default,this._listenForLoaded(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForOrder(),this._listenForScroll()}},{key:"_listenForLoaded",value:function(){var e=this;this.on("didLoad",(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.get("formFactory")&&(e._generateForm(e.get("formFactory")),e.get("form").emitLoad()),e._resetInfiniteLoader(),e._updateInfiniteLoader(),t.next=5,e._infiniteLoader.getAll();case 5:case"end":return t.stop()}},t,this)})))}},{key:"_onUnload",value:function(){(this.set({order:null,mode:null,showArchived:!1,searchString:null}),this.get("formFactory"))&&this.get("form").emitUnload()}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",function(){e._onUnload()})}},{key:"_resetInfiniteLoader",value:function(){this._infiniteLoader.reset()}},{key:"_getOrder",value:function(){return this.get("order")?this.get("order"):[["order","ASC"]]}},{key:"_getWhere",value:function(){return this.get("searchString")?this._toWhereFromSearchString():void 0}},{key:"_updateInfiniteLoader",value:function(){this._infiniteLoader.setShowArchived(this.get("showArchived"))}},{key:"_handleStoreChangeFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark(function t(a,n){var r,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,o=n&&n.value,t.t0=a,t.next="createDoc"===t.t0?5:"updateDoc"===t.t0?5:"deleteDoc"===t.t0?12:13;break;case 5:if(!e._forms.has(o.id)||o.archivedAt===e._forms.get(o.id).getValue("archivedAt")){t.next=9;break}return t.abrupt("return",e.removeForm(o.id,r));case 9:if(!!o.archivedAt!==e.get("showArchived")){t.next=11;break}return t.abrupt("return",e.upsertForm({values:(0,l.default)({},o.fieldValues,{id:o.id,archivedAt:o.archivedAt,userId:o.userId,order:o.order}),muteChange:r,cursor:o.cursor}));case 11:return t.abrupt("break",14);case 12:return t.abrupt("return",e.removeFormIfExists(o.id,r));case 13:return t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}},{key:"_setStore",value:function(e){var t=this.get("store");e!==t&&(t&&t.removeAllListeners(),e&&"string"!==typeof e&&e.on("$change",this._handleStoreChangeFactory()),this._set("store",e))}},{key:"_clearAndGetAll",value:function(){var e=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._forms.clear(),this._resetInfiniteLoader(),this._updateInfiniteLoader(),e.next=5,this._infiniteLoader.getAll();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark(function t(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.set({showArchived:a}),t.next=3,e._clearAndGetAll();case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_toWhereFromSearchString",value:function(){if(this.get("searchString")){var e=this.get("form"),t=[];return e.eachField(function(a){a.get("hidden")||e.isDefaultField(a.get("name"))||t.push("fieldValues."+a.get("name"))}),F.default.toWhereFromSearchString(t,this.get("searchString"))}return null}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark(function t(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({searchString:a}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleOrderFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark(function t(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({order:a}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForOrder",value:function(){this.on("order",this._handleOrderFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(){e._infiniteLoader.scroll({scrollY:e._window.scrollY})}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"_onRemoveItems",value:function(e,t,a){var n=0,r=null,l=!0,i=!1,o=void 0;try{for(var u,s=this._forms.entries(e,a)[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){if(r=u.value[0],n++===t)break;this.removeForm(r,!0)}}catch(c){i=!0,o=c}finally{try{l||null==s.return||s.return()}finally{if(i)throw o}}return r}},{key:"_onResizeSpacer",value:function(e,t){var a=null;a=void 0!==t?t:this.get("spacerHeight")+e;var n=0;!!this._infiniteLoader&&this._infiniteLoader.beginningLoaded()&&e<0?(n=-a,a=0):a<0&&(n=-a,a=0),this.set({spacerHeight:a}),0!==n&&this._window.scrollBy({top:n,behavior:"instant"})}},{key:"_onGetAll",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=9;break}return e.next=4,a.getAllDocs(t);case 4:return n=e.sent,r=0===n.edges.length&&!t.after&&!t.before,this.set({noResults:r}),r&&this.set({change:null}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemsPerPage",value:function(){return this.get("forbidOrder")?this.get("itemsPerPage"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"_createInfiniteLoader",value:function(){var e=this;this._infiniteLoader=new g.default({onGetAll:function(t){return e._onGetAll(t)},onGetItemsPerPage:function(){return e._getItemsPerPage()},onGetScrollThreshold:function(){return e.get("scrollThreshold")},onGetMaxBufferPages:function(){return e.get("maxBufferPages")},onGetItemElement:function(t){return e._document.getElementById(e.getUniqueItemId(t))},onGetSpacerElement:function(){return e._document.getElementById(e.get("spacerId"))},onRemoveItems:function(t,a,n){return e._onRemoveItems(t,a,n)},onGetItems:function(t,a){return e._forms.values(t,a)},onResizeSpacer:function(t,a){return e._onResizeSpacer(t,a)},onSetBufferTopId:function(t){return e.set({bufferTopId:t})},onGetItem:function(t){return e._forms.get(t)},onGetItemId:function(e){return e.getValue("id")},onGetItemCursor:function(e){return e.get("cursor")},onAddItems:function(t,a){return e._onAddItems(t,a)},onEmitChange:function(t){return e.set({change:t})},onSetIsLoading:function(t){return e.set({isLoading:t})},onGetOrder:function(){return e._getOrder()},onGetWhere:function(){return e._getWhere()}})}},{key:"_listenToForm",value:function(e){var t=this;["dirty","touched"].forEach(function(a){e.on(a,function(e){!0===e&&t.set((0,m.default)({},a,e))})})}},{key:"_notifyUI",value:function(e,t){e||this.set({change:t})}},{key:"_addForm",value:function(e){var t=e.form,a=e.values,n=e.muteChange,r=e.cursor,l=e.beforeKey;t.setValues(a),t.set({parent:this,cursor:r});var i=t.getField("id"),o=0;return o=i.isBlank()?this._forms.length():i.getValue(),this.set({noResults:!1}),this._forms.set(o,t,l),this._listenToForm(t),this._calcValue(),this._notifyUI(n,a),t}},{key:"_produceFormAndWaitForLoad",value:function(){var e=(0,o.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.produce(),e.next=3,t.resolveAfterCreate();case 3:return t.emitLoad(),e.next=6,t.resolveAfterLoad();case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_produceFormWaitForLoadAndPushForm",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:a=e.sent,t.push(a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_onAddItems",value:function(){var e=(0,o.default)(i.default.mark(function e(t,a){var n,r,l,o,u,s=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=[],l=0;l<t.length;l++)r.push(this._produceFormWaitForLoadAndPushForm(n));return e.next=5,Promise.all(r);case 5:for(!0,o=function(e){var r=t[e],l=r.node,i={id:l.id,userId:l.userId,createdAt:l.createdAt,updatedAt:l.updatedAt,archivedAt:l.archivedAt,order:l.order},o=n[e];(0,k.default)(l.fieldValues,function(e,t){e&&(s.get("includeExtraneous")||o.hasField(t))&&(i[t]=e)}),s._addForm({form:o,values:i,muteChange:!0,cursor:r.cursor,beforeKey:a})},u=0;u<t.length;u++)o(u);case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"produce",value:function(){return this.get("formFactory").produce()}},{key:"_addFormSynchronous",value:function(e){var t=this.produce();return this._addForm(Object.assign({form:t},e))}},{key:"_addFormAsynchronous",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:return a=e.sent,e.abrupt("return",this._addForm(Object.assign({form:a},t)));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addForm",value:function(e){var t=e.form,a=e.values,n=e.muteChange,r=e.cursor,l=e.beforeKey,i=e.synchronous,o={values:a,muteChange:n,cursor:r,beforeKey:l};return t?this._addForm(Object.assign({form:t},o)):i?this._addFormSynchronous(o):this._addFormAsynchronous(o)}},{key:"_clearAllFormListeners",value:function(){this.eachForm(function(e){return e.removeAllListeners()})}},{key:"_validateValueType",value:function(e){var t=!1;null===e||(Array.isArray(e)?e.length>0&&"object"!==(0,r.default)(e[0])&&(t=!0):t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var t=this;if(this._validateValueType(e),!this._hasTypeError){if(this._clearAllFormListeners(),this._forms.clear(),e&&e.length>0){e.forEach(function(e){return t.addForm({values:e,synchronous:!0})})}this.set({change:e})}}},{key:"removeForm",value:function(e,t){t||this._infiniteLoader.removeItem(e);var a=this._forms.get(e);return a.removeAllListeners(),this._forms.delete(e),this._calcValue(),this._notifyUI(t,a.getValues()),a}},{key:"removeFormIfExists",value:function(e,t){if(this._forms.has(e))return this.removeForm(e,t)}},{key:"getForm",value:function(e){return this._forms.get(e)}},{key:"eachForm",value:function(e){this._forms.each(function(t,a,n){return e(t,a,n)})}},{key:"_setForAllForms",value:function(e){this.eachForm(function(t){return t.set(e)})}},{key:"_setOnAllForms",value:function(e,t,a){var n=this;t.forEach(function(t){void 0===e[t]||void 0!==a&&e[t]!==a||n._setForAllForms((0,m.default)({},t,e[t]))})}},{key:"_prepareForm",value:function(e){e.setTouched(!1),e.clearErrs(),e.setDirty(!1)}},{key:"_copyValuesToCurrentForm",value:function(e,t){var a=t.getValues();e.clearValues(),e.set({value:a})}},{key:"_setCurrentForm",value:function(e){var t=this.get("form");null===e?(t.destroy(),t=this._generateForm(this.get("formFactory"))):(this._copyValuesToCurrentForm(t,e),this._set("currentForm",e)),this._prepareForm(t)}},{key:"_readMode",value:function(){var e=this.get("form");e.emitChange("beginRead",e.getValue("id")),e.setEditable(!1)}},{key:"_createMode",value:function(){var e=this.get("form");e.emitChange("beginCreate"),e.setEditable(!0)}},{key:"_updateMode",value:function(){var e=this.get("form");e.emitChange("beginUpdate",e.getValue("id")),e.setEditable(!0)}},{key:"_emitEndEvents",value:function(){var e=this.get("form"),t=e.getValue("id");switch(this._mode){case"create":e.emitChange("endCreate",t);break;case"update":e.emitChange("endUpdate",t);break;default:e.emitChange("endRead",t)}}},{key:"_setParentDisableSubmit",value:function(e){this.get("parent")&&this.get("parent").set({disableSubmit:e})}},{key:"_setMode",value:function(e){this._mode?this._emitEndEvents():this._setParentDisableSubmit(!0);var t=this.get("form");switch(t.set({parent:this}),e){case"create":this._createMode();break;case"update":this._updateMode();break;case"read":this._readMode();break;default:this._setParentDisableSubmit(!1)}t.set({mode:e}),this._set("mode",e)}},{key:"_generateForm",value:function(e){var t=e.produce();return this.set({form:t}),t}},{key:"_setMaxColumns",value:function(e){var t=[1,2,4,6,12];if(-1===t.indexOf(e))throw new Error("maxColumns must be "+t.join(","));this._set("maxColumns",e)}},{key:"set",value:function(e){(0,f.default)((0,d.default)(a.prototype),"set",this).call(this,Object.assign({},e,{currentForm:void 0,mode:void 0,store:void 0,maxColumns:void 0})),this._setOnAllForms(e,["disabled","editable","pristine"]),this._setOnAllForms(e,["dirty","touched"],!1),this._setOnAllForms(e,["err"],null),void 0!==e.currentForm&&this._setCurrentForm(e.currentForm),void 0!==e.mode&&e.mode!==this._mode&&this._setMode(e.mode),void 0!==e.store&&this._setStore(e.store),void 0!==e.maxColumns&&this._setMaxColumns(e.maxColumns)}},{key:"_getValue",value:function(){return this._forms.map(function(e){return e.getValues()})}},{key:"getOne",value:function(e){return"value"===e?this._getValue():("form"!==e||this._form||this._generateForm(this.get("formFactory")),(0,f.default)((0,d.default)(a.prototype),"getOne",this).call(this,e))}},{key:"getForms",value:i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._forms.values(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"updateForm",value:function(e){var t=e.values,a=e.muteChange,n=e.cursor,r=e.beforeKey,l=this._forms.get(t.id),i=l.getValue("order")!==t.order;return l.setValues(t),l.set({cursor:n}),void 0===r&&i&&(r=this._forms.getBeforeId(l)),this._forms.set(t.id,l,r),this._calcValue(),this._notifyUI(a,t),l}},{key:"_calcValue",value:function(){if(!this.get("store")){var e=this._getValue();this._set("value",e),this.set({dirty:!0})}}},{key:"upsertForm",value:function(e){var t=e.values,a=e.muteChange,n=e.cursor,r=e.beforeKey;return this._forms.has(t.id)?this.updateForm({values:t,muteChange:a,cursor:n,beforeKey:r}):this.addForm({values:t,muteChange:a,cursor:n,beforeKey:r})}},{key:"_saveForm",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r,l,o,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getField("id"),n=this.get("store"),r=a.isBlank(),l=null,!n){e.next=19;break}if(o=!this.get("forbidOrder"),u=null,!r){e.next=13;break}return e.next=10,n.createDoc({form:t,reorder:o});case 10:u=e.sent,e.next=16;break;case 13:return e.next=15,n.updateDoc({form:t,reorder:o});case 15:u=e.sent;case 16:t.setValues({id:u.id,createdAt:u.createdAt,updatedAt:u.updatedAt,order:u.order,userId:u.userId}),e.next=20;break;case 19:r&&a.setValue(F.default.uuid());case 20:return l=this.upsertForm({form:t,values:t.getValues(),muteChange:!1,cursor:t.get("cursor")}),t.emitChange(r?"didCreateRecord":"didUpdateRecord",a.getValue()),e.abrupt("return",l);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,o.default)(i.default.mark(function e(){var t,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.get("form")).setTouched(!0),t.validate(),t.hasErr()){e.next=10;break}return e.next=6,this._saveForm(t);case 6:return a=e.sent,this._globals.displaySnackbar(this.getSingularLabel()+" saved"),this.set({currentForm:a,mode:null}),e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"archive",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=6;break}return e.next=4,a.archiveDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:n=e.sent,t.setValues({archivedAt:n.archivedAt});case 6:this.removeFormIfExists(t.getValue("id")),t.emitChange("didArchiveRecord",t.getValue("id")),this._globals.displaySnackbar(this.getSingularLabel()+" deleted");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=4;break}return e.next=4,a.restoreDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:t.setValues({archivedAt:null}),this.removeFormIfExists(t.getValue("id")),t.emitChange("didRestoreRecord",t.getValue("id")),this._globals.displaySnackbar(this.getSingularLabel()+" restored");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getMaxSize",value:function(){return this.get("forbidOrder")?this.get("maxSize"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"reachedMax",value:function(){var e=this._getMaxSize();return null!==e&&this._forms.length()>=e}},{key:"validate",value:function(){(0,f.default)((0,d.default)(a.prototype),"validate",this).call(this);var e=[],t=!0,n=!1,r=void 0;try{for(var l,i=this._forms.values()[Symbol.iterator]();!(t=(l=i.next()).done);t=!0){var o=l.value;o.validate(),o.hasErr()&&e.push({id:o.getField("id").getValue(),error:o.getErrs()})}}catch(h){n=!0,r=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var u=this._forms.length(),s=this.get("minSize"),c=this.get("maxSize");null!==s&&u<s?e.push({error:"".concat(s," or more")}):null!==c&&u>c&&e.push({error:"".concat(c," or less")}),this._hasTypeError&&e.push({error:"must be an array of objects"}),e.length>0&&this.setErr(e)}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?F.default.toSingular(this.get("label")):null}},{key:"isBlank",value:function(){var e=!0,t=!0,a=!1,n=void 0;try{for(var r,l=this.getForms()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){if(!r.value.isBlank()){e=!1;break}}}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e}},{key:"getUniqueItemId",value:function(e){return this.getUniqueId()+"-item-"+e}},{key:"destroy",value:function(){(0,f.default)((0,d.default)(a.prototype),"destroy",this).call(this),this.eachForm(function(e){return e.destroy()})}},{key:"moveForm",value:function(e){var t=e.sourceIndex,a=e.destinationIndex,n=e.muteChange,r=this._forms.keysAtIndexes([t,a]),l=r[t],i=r[a],o=this.getForm(l);o.setValues({order:a});var u=void 0,s=i;return a<t&&(u=i,s=void 0),this._forms.set(l,o,u,s),this._calcValue(),this._notifyUI(n,o.getValues()),o}},{key:"moveAndSaveForm",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.sourceIndex,n=t.destinationIndex,r=t.muteChange,l=this.moveForm({sourceIndex:a,destinationIndex:n,muteChange:r}),e.abrupt("return",this._saveForm(l));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),a}(v.default);t.default=w,(0,m.default)(w,"SCROLLTHRESHOLD_DEFAULT",2e3),(0,m.default)(w,"ITEMS_PER_PAGE_DEFAULT",20),(0,m.default)(w,"MAX_BUFFER_PAGES_DEFAULT",3),(0,m.default)(w,"MAX_ITEMS_PER_PAGE",100)}).call(this,a(46))},190:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(191)).default;t.default=r},191:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(600)),h=n(a(68)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","WrappedComponent"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_getWrappedComponentSchema",value:function(){return{component:"Form",fields:[{name:"componentToWrap",component:"Field"}]}}},{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this._preserveClassName=!0,this.set({schema:this._getWrappedComponentSchema()}),void 0!==e.componentToWrap&&this.setComponentToWrap(e.componentToWrap)}},{key:"setComponentToWrap",value:function(e){"string"!==typeof e&&(this._componentToWrap=e,this._wrapComponent())}},{key:"_getAllMethodOrFunctionNames",value:function(){return h.default.getAllMethodNames(this._componentToWrap).concat(h.default.getAllFunctionNames(this._componentToWrap))}},{key:"_wrapComponent",value:function(){var e=this;this._getAllMethodOrFunctionNames().forEach(function(t){if(-1===["caller","callee","arguments","constructor"].indexOf(t)&&-1===t.indexOf("__")){var a=e._componentToWrap[t];e._componentToWrap[t]&&(e[t]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.apply(e._componentToWrap,n)})}}),this._preserveClassName&&(this.getClassName=this._componentToWrap.getClassName.bind(this))}}]),t}(f.default);t.default=p},233:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(205)),o=function(){function e(t){(0,r.default)(this,e),this.setProps(t)}return(0,l.default)(e,[{key:"setProps",value:function(e){this._props=e}},{key:"_getTemplateName",value:function(e){var t=e.match(/^{{([^{]*)}}$/);if(t)return t[1]}},{key:"_getProp",value:function(e){var t=e.split(".");if(1===t.length)return this._props[e];try{for(var a=this._props[t[0]],n=1;n<t.length;n++)a=a[t[n]];return a}catch(r){return}}},{key:"_getPropOrOriginalString",value:function(e,t){var a=this._getProp(e);return void 0===a?t:a}},{key:"fillString",value:function(e){var t=this;if("string"===typeof e){var a=this._getTemplateName(e);return void 0!==a?this._getPropOrOriginalString(a,e):e.replace(/{{([^{]*)}}/g,function(e,a){return t._getPropOrOriginalString(a,e)})}return e}},{key:"fillAll",value:function(e){var t=this;return(0,i.default)(e,function(e){return e&&e._className?e:"string"===typeof e?t.fillString(e):void 0})}},{key:"fill",value:function(e){return"string"===typeof e?this.fillString(e):this.fillAll(e)}}]),e}();t.default=o},234:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=n(a(352)),m=n(a(348)),v=n(a(205)),y=n(a(91)),b=n(a(945)),g=n(a(161)),_=a(117),F=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","MemoryStore"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){var a=this;(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._docs=new m.default,this._docs.on("$change",function(e,t){a.emitChange(e+"Doc",t)})}},{key:"_numUnarchived",value:function(){var e=0,t=!0,a=!1,n=void 0;try{for(var r,l=this._docs.values()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){r.value.archivedAt||e++}}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e}},{key:"_createDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i,o,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fieldValues,n=t.id,l=t.order,i=t.reorder,this._shouldSetToLastOrder(l,i)&&(l=this._numUnarchived()),o=this._getUserId(),u=this._buildDoc({fieldValues:a,id:n,order:l,userId:o}),this._docs.set(u.id,u,void 0,void 0,!0),e.abrupt("return",u);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_toSiftWhere",value:function(e){return(0,v.default)(e,function(e){if(e&&e.$iLike)return{$regex:"^"+e.$iLike.replace(/%/,""),$options:"i"}})}},{key:"_hasDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.abrupt("return",this._docs.has(a));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.abrupt("return",this._docs.get(a));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i,o,u,s,c,d,f,h,p,m;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.where,n=t.showArchived,l=t.order,a&&(a=this._toSiftWhere(a)),i={pageInfo:{hasNextPage:!1},edges:[]},o=!0,u=!1,s=void 0,e.prev=6,c=this._docs.values()[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)f=d.value,h=void 0===a?null:(0,g.default)(a,[f]),null!==n&&void 0!==n&&!!f.archivedAt!==n||void 0!==a&&0===h.length||i.edges.push({node:f});e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),u=!0,s=e.t0;case 14:e.prev=14,e.prev=15,o||null==c.return||c.return();case 17:if(e.prev=17,!u){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return l&&(p=[],m=[],l.forEach(function(e){p.push("node."+e[0]),m.push(e[1].toLowerCase())}),i.edges=(0,b.default)(i.edges,p,m)),e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.fieldValues,l=t.order,i=(0,y.default)(this._docs.get(a)),i=this._setDoc({doc:i,fieldValues:n,order:l}),this._docs.set(a,i,void 0,void 0,!0),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=(0,y.default)(this._docs.get(a)),n=this._setDoc({doc:n,archivedAt:this._now(),order:_.Reorder.DEFAULT_ORDER}),this._docs.set(a,n,void 0,void 0,!0),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.reorder,l=t.order,this._shouldSetToLastOrder(l,n)&&(l=this._numUnarchived()),i=(0,y.default)(this._docs.get(a)),i=this._setDoc({doc:i,archivedAt:null,order:l}),this._docs.set(a,i,void 0,void 0,!0),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=F},235:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(357)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","IdField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:(0,r.default)(this.getHiddenFieldDefinitions(["minWords","maxWords","invalidRegExp","multiline"]))}})}}]),t}(n(a(69)).default);t.default=h},237:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","TextFieldHiddenSchema"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){this._hideTextFieldSchema=!0,(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e)}}]),t}(n(a(69)).default);t.default=f},238:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(94)),p=n(a(69)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","TextListField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words",docLevel:"basic"},{name:"maxWords",component:"IntegerField",label:"Max Words",docLevel:"basic"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"}]}}),this._setDefaults(e,{startWithField:!0})}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,required:!1},this.get(["block","fullWidth","minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])))}},{key:"set",value:function(e){(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e),this._setForAllFields(e,["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])}}]),t}(h.default);t.default=m},31:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Globals=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","Globals"),(0,d.default)((0,c.default)((0,c.default)(a)),"_onNavigate",null),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField"},{name:"redirectPath",component:"TextField"},{name:"snackbarMessage",component:"TextField"},{name:"appId",component:"TextField"},{name:"confirmation",component:"TextField"},{name:"searchString",component:"TextField"},{name:"redirectAfterLogin",component:"TextField"},{name:"reCAPTCHASiteKey",component:"TextField"},{name:"route",component:"Field"}]}})}},{key:"redirect",value:function(e){this.set({redirectPath:e})}},{key:"displaySnackbar",value:function(e){this.set({snackbarMessage:e})}},{key:"setOnNavigate",value:function(e){this._onNavigate=e}},{key:"onNavigate",value:function(e,t){this._onNavigate&&this._onNavigate(t)}},{key:"displayConfirmation",value:function(e){var t=e.title,a=e.text,n=e.callback,r=e.alert;this.set({confirmation:{title:t,text:a,callback:n,alert:r}})}},{key:"displayAlert",value:function(e){var t=e.title,a=e.text,n=e.callback;this.displayConfirmation({title:t,text:a,callback:n,alert:!0})}}]),t}(n(a(56)).default);t.Globals=f;var h=new f;t.default=h},324:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(10)),i=function e(){(0,l.default)(this,e)};i.OWNER="owner",i.ID_OWNER=1,i.RESERVED=(0,r.default)({},i.OWNER,i.ID_OWNER),i.isReserved=function(e){return!!i.RESERVED[e]},i.getId=function(e){return i.RESERVED[e]};var o=i;t.default=o},325:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(51)),o=n(a(91)),u=n(a(161)),s=function(){function e(t){(0,r.default)(this,e),this._props=t}return(0,l.default)(e,[{key:"_getTemplateName",value:function(e){var t=e.match(/^{{([^{]*)}}$/);if(t)return t[1]}},{key:"_getProp",value:function(e){var t=e.split(".");if(1===t.length)return this._props[e];for(var a=this._props[t[0]],n=1;n<t.length;n++)a&&(a=a[t[n]]);return a}},{key:"_fillProps",value:function(e){var t=this,a=this._getTemplateName(e);return void 0!==a?this._getProp(a):e.replace(/{{([^{]*)}}/g,function(e,a){return t._getProp(a)})}},{key:"_fillWhere",value:function(e){var t=this;(0,i.default)(e,function(a,n){"string"===typeof a?e[n]=t._fillProps(a):t._fillWhere(a)})}},{key:"_fillErrorProps",value:function(e){return"string"===typeof e?this._fillProps(e):(e.error=this._fillProps(e.error),e)}},{key:"_validateWithRule",value:function(e){var t=(0,o.default)(e.where);if(this._fillWhere(t),(0,u.default)(t,[this._props]).length>0)return this._fillErrorProps(e.error)}},{key:"validate",value:function(e,t){for(var a=[],n=0;n<e.length;n++){var r=this._validateWithRule(e[n]);if(void 0!==r&&(a.push(r),!t))break}return a}}]),e}();t.default=s},34:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},345:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(31)),u=n(a(34)),s=function(){function e(){(0,l.default)(this,e),this._registrar=u.default}return(0,i.default)(e,[{key:"_getSession",value:function(){var e=this._registrar;return e.client?e.client.user.getSession():void 0}},{key:"_getGlobals",value:function(){return(0,r.default)({session:this._getSession()},o.default.get())}},{key:"_formToFillerProps",value:function(e){var t={};return e.eachField(function(e){return t[e.get("name")]=e.get()}),t}},{key:"getFillerProps",value:function(e){var t={};return e&&(e.component&&(t=Object.assign(t,e.component.get()),e.component.has("fields")&&(t.fields=this._formToFillerProps(e.component))),e.parent&&(t.parent=e.parent.get()),t.arguments=e.arguments),t.globals=this._getGlobals(),t}}]),e}();t.default=s},346:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(94)),p=n(a(927)),m=n(a(116)),v=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","ChainedSelectField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"multiline",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,startWithField:!1})}},{key:"_getValue",value:function(){var e=[];return this.eachField(function(t){var a=t.getValue();if(!a)return!1;e.push(a)}),e.length>0?e:null}},{key:"_newField",value:function(e){return new m.default((0,r.default)({name:e,label:0===e?this.get("label"):void 0,required:0===e?this.get("required"):void 0,block:!!this.get("multiline"),autoHideLabel:!1,autocomplete:!1},this.get(["blankString","fullWidth","hideLabel","useDisplayValue","editable"])))}},{key:"_onFieldCreated",value:function(e,t){var a=this;e.on("value",function(t){var n=e.get("name");t?(a._setFieldOptions(e.getValue(),n+1),a._clearFieldIfExists(n+1),a._clearAndHideNextFieldsIfExist(n+2)):a._clearAndHideNextFieldsIfExist(n+1),a._calcValue()})}},{key:"_getChildOptions",value:function(e,t){return this._indexedOptions.mapByParent(e,function(e){return{value:e.id,label:e.label}})}},{key:"_setFieldOptions",value:function(e,t){var a=this._getChildOptions(e,t);if(a.length>0){var n=this._getOrCreateField(t);n.set({options:a}),n.set({hidden:!1})}}},{key:"_clearAndHideNextFieldsIfExist",value:function(e){if(this._hasField(e)){var t=this._getField(e);t.clearValue(),t.set({hidden:!0}),this._clearAndHideNextFieldsIfExist(e+1)}}},{key:"_cleanUpNextFields",value:function(e,t){null===e&&this._fields.first().clearValue()}},{key:"_indexOptions",value:function(e){var t=this;this._indexedOptions=new p.default,e.forEach(function(e){t._indexedOptions.add({id:e.value,parentId:e.parentValue,label:e.label})})}},{key:"_setOptions",value:function(e){this._indexOptions(e),this._setFieldOptions(null,0),this._clearFieldIfExists(1)}},{key:"set",value:function(e){(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,s.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=v},347:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(45)),h=n(a(159)),p=n(a(219)),m=n(a(926)),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","CompositeField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){this._fields=new h.default,(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fields",component:"Field"},{name:"change",component:"Field"}]}})}},{key:"_bubbleUpTouches",value:function(e){var t=this;e.on("touched",function(e){if(e){var a=!0;t.eachField(function(e){if(!e.get("touched"))return a=!1,!1}),a&&t._set("touched",e)}})}},{key:"_setParentValue",value:function(e,t){var a=this._value?(0,p.default)(this._value):{};null===t?delete a[e.get("name")]:a[e.get("name")]=t,this.setValue((0,m.default)(a)?null:a)}},{key:"_listenForChangesToField",value:function(e){var t=this;e.on("value",function(a){return t._setParentValue(e,a)}),this._setParentValue(e,e.getValue()),this._bubbleUpTouches(e)}},{key:"emitChangeToField",value:function(e){this.set({change:e.get()})}},{key:"_addField",value:function(e,t){void 0===t&&(t=e.get("name")),this._fields.set(t,e),this.emitChangeToField(e),this._listenForChangesToField(e)}},{key:"_setFields",value:function(e){var t=this;e.forEach(function(e){return t._addField(e)})}},{key:"_setForAllFields",value:function(e,t){var a=null;t?(a={},t.forEach(function(t){void 0!==e[t]&&(a[t]=e[t])})):a=e,(0,m.default)(a)||this.eachField(function(e){return e.set(a)})}},{key:"_setValue",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_setValue",this).call(this,e),this.eachField(function(t){return t.setValue(e&&e[t.get("name")]?e[t.get("name")]:null)})}},{key:"_setRequired",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_setRequired",this).call(this,e),this._setForAllFields({required:e})}},{key:"_setDisabled",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_setDisabled",this).call(this,e),this._setForAllFields({disabled:e})}},{key:"_setEditable",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_setEditable",this).call(this,e),this._setForAllFields({editable:e})}},{key:"_setDirty",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_setDirty",this).call(this,e),this._setForAllFields({dirty:e})}},{key:"_setTouchedForAllFields",value:function(e){this._setForAllFields({touched:e})}},{key:"setTouched",value:function(e){(0,u.default)((0,o.default)(t.prototype),"setTouched",this).call(this,e),this._setTouchedForAllFields(e)}},{key:"setFullWidth",value:function(e){(0,u.default)((0,o.default)(t.prototype),"setFullWidth",this).call(this,e),this._setForAllFields({fullWidth:e})}},{key:"setUseDisplayValue",value:function(e){(0,u.default)((0,o.default)(t.prototype),"setUseDisplayValue",this).call(this,e),this._setForAllFields({useDisplayValue:e})}},{key:"setHideLabel",value:function(e){(0,u.default)((0,o.default)(t.prototype),"setHideLabel",this).call(this,e),this._setForAllFields({hideLabel:e})}},{key:"set",value:function(e){var a=this;(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0})),void 0!==e.fields&&this._setFields(e.fields),this.eachField(function(t){var n=t.get("name");a._setIfDefined(n,e[n])})}},{key:"getField",value:function(e){return this._fields.get(e)}},{key:"_getFieldIfExists",value:function(e){if(this._fields.has(e))return this.getField(e)}},{key:"has",value:function(e){return(0,u.default)((0,o.default)(t.prototype),"has",this).call(this,e)||this._fields.has(e)}},{key:"getOne",value:function(e){var a=this._getFieldIfExists(e);return void 0===a?(0,u.default)((0,o.default)(t.prototype),"getOne",this).call(this,e):a}},{key:"eachField",value:function(e){this._fields.each(function(t,a,n){return e(t,a,n)})}},{key:"mapFields",value:function(e){return this._fields.map(function(t,a,n){return e(t,a,n)})}},{key:"clearErr",value:function(){(0,u.default)((0,o.default)(t.prototype),"clearErr",this).call(this),this.eachField(function(e){return e.clearErr()})}},{key:"_validateField",value:function(e){e.validate()}},{key:"validate",value:function(){var e=this;(0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),this.eachField(function(t,a,n){return e._validateField(t,a,n)})}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this.mapFields(function(e){return e.getDisplayValue()})}},{key:"isBlank",value:function(){if((0,u.default)((0,o.default)(t.prototype),"isBlank",this).call(this))return!0;var e=this.getValue();return Array.isArray(e)&&0===e.length}},{key:"destroy",value:function(){(0,u.default)((0,o.default)(t.prototype),"destroy",this).call(this),this.eachField(function(e){return e.destroy()})}}]),t}(f.default);t.default=v},348:function(e,t,a){"use strict";var n=a(349),r=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10)),i=r(a(11)),o=r(a(15)),u=r(a(13)),s=r(a(19)),c=r(a(16)),d=r(a(159)),f=n(a(117)),h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_getProp",value:function(e,t){return e[t]}},{key:"_setProp",value:function(e,t,a){return e[t]=a}},{key:"_findIdAfter",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=this.entries()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var i=r.value,o=this._getProp(i[1],"order");if(void 0===o||null===o||o>e)return i[0]}}catch(u){a=!0,n=u}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return null}},{key:"getBeforeId",value:function(e){return this._getProp(e,"archivedAt")?null:null===this._getProp(e,"order")||void 0===this._getProp(e,"order")?void 0:this._findIdAfter(this._getProp(e,"order"))}},{key:"_createInDocs",value:function(e,a){var n=this.getBeforeId(a);return(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e,a,n)}},{key:"_createInDocsAndReorder",value:function(e,t,a){var n=this._getProp(t,"order");return n===f.Reorder.DEFAULT_ORDER||void 0===n?this._createInDocs(e,t):this._reorder(e,t,n,a)}},{key:"_updateInDocs",value:function(e,a){var n=void 0,r=this.get(e);return this._getProp(a,"order")!==this._getProp(r,"order")&&(n=this.getBeforeId(a)),(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e,a,n)}},{key:"keysAtIndexes",value:function(e){var t=Object.assign([],e),a=0,n={},r=!0,l=!1,i=void 0;try{for(var o,u=this.entries()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,c=t.indexOf(a);if(-1!==c){if(n[t[c]]=s[0],1===t.length)break;t.splice(c,1)}a++}}catch(d){l=!0,i=d}finally{try{r||null==u.return||u.return()}finally{if(l)throw i}}return n}},{key:"_reorder",value:function(e,a,n,r){var l=this,i={forEach:function(e){l.forEach(function(t,a){e({id:a,order:l._getProp(t,"order"),archivedAt:l._getProp(t,"archivedAt")})})}},o=f.default.reorder(i,e,n,function(a,n){var i=l._getProp(a,"id");if(i!==e){var o=l.get(i);l._setProp(o,"order",n),(0,s.default)((0,u.default)(t.prototype),"set",l).call(l,i,o),r&&r(i,o)}});return this._setProp(a,"order",n),(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e,a,o.destinationKey)}},{key:"_updateInDocsAndReorder",value:function(e,t,a){var n=this.get(e),r=this._getProp(n,"order"),l=this._getProp(t,"order");return r===l?this._updateInDocs(e,t):this._reorder(e,t,l,a)}},{key:"set",value:function(e,a,n,r,l,i){return void 0!==n||void 0!==r?(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e,a,n,r):this.has(e)?l?this._updateInDocsAndReorder(e,a,i):this._updateInDocs(e,a):l?this._createInDocsAndReorder(e,a,i):this._createInDocs(e,a)}}]),t}(d.default);t.default=h},350:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ComponentField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"content",component:"Field",required:!0}]}}),this._setDefaults(e,{in:!1,out:!1})}}]),t}(n(a(45)).default);t.default=f},351:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ExtendedField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"properties",component:"Field",required:!0}]}})}}]),t}(n(a(45)).default);t.default=f},352:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(29)),i=n(a(33)),o=n(a(10)),u=n(a(11)),s=n(a(15)),c=n(a(13)),d=n(a(19)),f=n(a(16)),h=n(a(18)),p=n(a(17)),m=n(a(56)),v=n(a(57)),y=n(a(68)),b=n(a(353)),g=n(a(118)),_=a(117),F=n(a(31)),k=n(a(34)),w=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,h.default)((0,h.default)(a)),"_className","Store"),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"where",component:"Field"}]}}),this._access=v.default,this._globals=F.default,this._registrar=k.default,e&&e.muteDidLoad||this._emitDidLoad()}},{key:"_tryAndHandleError",value:function(){var e=(0,i.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.default.tryAndDisplayErrorIfAPIError(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_shouldSetToLastOrder",value:function(e,t){return(null===e||void 0===e)&&t}},{key:"createDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){var e=a._access.valuesCanCreate(t.form,{default:!1}),n=t.form.getValue("id"),l=t.form.getValue("order");return null!==l&&void 0!==l||t.reorder||(l=_.Reorder.DEFAULT_ORDER),a._createDoc((0,r.default)({},t,{fieldValues:e,id:n,order:l}))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((0,i.default)(l.default.mark(function e(){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",a._getDoc(t));case 4:return e.next=6,a._getAllDocs((0,r.default)({},t,{showArchived:null}));case 6:return n=e.sent,e.abrupt("return",n.edges.length>0?n.edges[0].node:null);case 8:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDocs",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){return a._getAllDocs(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=!1,!a){e.next=6;break}return e.next=5,this._hasDoc({id:a});case 5:n=e.sent;case 6:if(!n){e.next=10;break}return e.abrupt("return",this.updateDoc(t));case 10:return e.abrupt("return",this.createDoc(t));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"upsertDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){var e=t.form.getValue("id");return a._upsertDoc((0,r.default)({},t,{id:e}))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){var e=a._access.valuesCanUpdate(t.form,{default:!1}),n=t.form.getValue("id"),l=t.form.getValue("order");return a._updateDoc((0,r.default)({},t,{fieldValues:e,id:n,order:l}))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"archiveDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){return a._archiveDoc(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"restoreDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError(function(){return a._restoreDoc(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_emitError",value:function(e){this.emitChange("err",e)}},{key:"_now",value:function(){return new g.default({now:!0}).getValue()}},{key:"_buildDoc",value:function(e){var t=e.fieldValues,a=e.id,n=e.userId,r=e.order,l=this._now();return{id:a||y.default.uuid(),archivedAt:null,createdAt:l,updatedAt:l,userId:n||null,order:r,fieldValues:t}}},{key:"_setDoc",value:function(e){var t=e.doc,a=e.fieldValues,n=e.archivedAt,r=e.order;return void 0!==a&&(t.fieldValues=Object.assign(t.fieldValues,a)),void 0!==n&&(t.archivedAt=n),t.updatedAt=this._now(),t.order=void 0===r?_.Reorder.DEFAULT_ORDER:r,t}},{key:"_getUserId",value:function(){if(this._registrar.client){var e=this._registrar.client.user.getSession();if(e)return e.user.id}}}]),t}(m.default);t.default=w},353:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UberUtils=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(31)),s=function(){function e(){(0,i.default)(this,e),this._globals=u.default}return(0,o.default)(e,[{key:"displayError",value:function(e){this._globals.displayAlert({title:"Unexpected Error",text:e})}},{key:"setFormErrorsFromAPIError",value:function(e,t){try{JSON.parse(e.graphQLErrors[0].message).error.forEach(function(e){t.getField(e.field).setErr(e.error)})}catch(a){this.displayError(e.toString())}}},{key:"tryAndSetFormErrorsIfAPIError",value:function(){var e=(0,l.default)(r.default.mark(function e(t,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.setFormErrorsFromAPIError(e.t0,a),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"tryAndDisplayErrorIfAPIError",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.displayError(e.t0.toString()),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.UberUtils=s;var c=new s;t.default=c},358:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18)),l=n(a(17)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(96)),h=n(a(161)),p=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"validate",value:function(){if((0,c.default)((0,s.default)(t.prototype),"validate",this).call(this),this._valueSet)try{(0,h.default)(this._valueSet)}catch(e){this._errorFromSet=e.message,this.set({err:!0})}}}]),t}(n(a(359)).default),m=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o))),(0,l.default)((0,r.default)((0,r.default)(a)),"_className","WhereField"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._setDefaults(e,{form:new p})}}]),t}(f.default);t.default=m},359:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,i.default)(this,(0,o.default)(t).call(this,e)),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ObjectForm"),a._errorFromSet=null,a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,Object.assign(e,{omitDefaultFields:!0})),this._set("reportUndefined",!1)}},{key:"setValues",value:function(e){(0,u.default)((0,o.default)(t.prototype),"setValues",this).call(this,e),this._errorFromSet=null,this._valueSet=e}},{key:"isBlank",value:function(){return!this._valueSet}},{key:"getErrs",value:function(){var e=(0,u.default)((0,o.default)(t.prototype),"getErrs",this).call(this);return null!==this._errorFromSet&&(e=e.concat({error:this._errorFromSet})),e}}]),t}(n(a(98)).default);t.default=f},360:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","IntegerField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"validate",value:function(){(0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?[1-9]\d*|0)$/,"not an integer")}}]),t}(n(a(119)).default);t.default=f},361:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(191)),h=n(a(34)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","MSONComponent"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"Field",required:!0}]}}),this._preserveClassName=!1,this._registrar=h.default}},{key:"_setCompiler",value:function(e){this._compiler=e}},{key:"_getCompiler",value:function(){var e=this._compiler?this._compiler:this._registrar.compiler;if(e)return e;throw new Error("compiler has not been registered with registrar")}},{key:"set",value:function(e){if((0,u.default)((0,o.default)(t.prototype),"set",this).call(this,e),void 0!==e.definition){var a=this._getCompiler().newComponent(e.definition);this.setComponentToWrap(a)}}}]),t}(f.default);t.default=p},362:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","Vault"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({backEndOnly:!0})}}]),t}(n(a(56)).default);t.default=f},37:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(49)),i=n(a(33)),o=n(a(10)),u=n(a(11)),s=n(a(15)),c=n(a(13)),d=n(a(19)),f=n(a(16)),h=n(a(18)),p=n(a(17)),m=n(a(56)),v=n(a(161)),y=n(a(233)),b=n(a(345)),g=n(a(34)),_=n(a(31)),F=n(a(57)),k=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,h.default)((0,h.default)(a)),"_className","Action"),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._registrar=g.default,this._globals=_.default,this._access=F.default,this._componentFillerProps=new b.default,this._fillerProps=null,this.set({schema:{component:"Form",fields:[{name:"if",component:"WhereField"},{name:"actions",component:"Field"},{name:"else",component:"Field"},{name:"layer",component:"TextField"},{name:"detached",component:"BooleanField"}]}})}},{key:"_fill",value:function(e){var t=new y.default(this._fillerProps);return e=t.fill(e),e=t.fill(e)}},{key:"_getFilled",value:function(e){var a=(0,d.default)((0,c.default)(t.prototype),"get",this).call(this,e);return this._fill(a)}},{key:"get",value:function(e){return this._getFilled(e)}},{key:"_setFillerProps",value:function(e){this._fillerProps=this._componentFillerProps.getFillerProps(e)}},{key:"run",value:function(){var e=(0,i.default)(r.default.mark(function e(t){var a,n,i,o,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._setFillerProps(t),a=this.get("if"),n=!0,i=null,a&&0===(0,v.default)(a,[this._fillerProps]).length?this.get("else")?i=this.get("else"):n=!1:i=this.get("actions"),!n){e.next=21;break}if(!i){e.next=20;break}o=null,e.t0=r.default.keys(i);case 9:if((e.t1=e.t0()).done){e.next=17;break}return u=e.t1.value,!o&&t&&t.arguments&&(o=t.arguments),e.next=14,i[u].run((0,l.default)({},t,{arguments:o,parent:this,context:t&&t.context}));case 14:o=e.sent,e.next=9;break;case 17:return e.abrupt("return",o);case 20:return e.abrupt("return",this.act(t));case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(m.default);t.default=k},38:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(918)).default;t.default=r},397:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(95)),h=n(a(116)),p=n(a(51)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","FieldEditorForm"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_namesToOptions",value:function(){return this.constructor.componentNames.map(function(e){return{value:e,label:e}})}},{key:"_clearFields",value:function(){var e=this;this.eachField(function(t){var a=t.get("name");e.isDefaultField(a)||"componentName"===a||e.removeField(a)}),this._emitChangeToFields(null)}},{key:"_copySchemaFields",value:function(e){var t=this,a=[];e.eachField(function(n){var r=n.get("name");e.isDefaultField(r)||"basic"!==n.get("docLevel")||(t.addField(n),a.push(n))}),this._emitChangeToFields(a)}},{key:"_adjustFields",value:function(e){var t=this;if(this._clearFields(),e.componentName){var a=this._registrar.compiler;this._component=a.newComponent({component:e.componentName});var n=new f.default;this._component.buildSchemaForm(n,a),this._copySchemaFields(n),(0,p.default)(e,function(e,a){t.hasField(a)&&t.getField(a).setValue(e)})}}},{key:"_create",value:function(e){var a=this;(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({fields:[new h.default({name:"componentName",label:"Field",options:this._namesToOptions()})]}),this.getField("componentName").on("value",function(){return a._adjustFields(a.getValues())})}},{key:"setValues",value:function(e){(!this._component||e.componentName&&this._component.getClassName()!==e.componentName)&&this._adjustFields(Object.assign({},this.getValues(),{componentName:e.componentName})),(0,u.default)((0,o.default)(t.prototype),"setValues",this).call(this,e)}}]),t}(f.default);t.default=m,(0,d.default)(m,"componentNames",["AddressField","BooleanField","ButtonField","ChainedSelectField","ChainedSelectListField","CityField","CountryField","DateField","EmailField","IdField","IntegerField","MoneyField","NumberField","PasswordField","PersonFullNameField","PersonNameField","PhoneField","ProvinceField","ReCAPTCHAField","SelectField","SelectListField","StateField","TextField","TextListField","TimeField","URLField"])},403:function(e,t,a){e.exports=a(1035)},45:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(56)),p=n(a(325)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","Field"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",required:!0},{name:"label",component:"TextField",label:"Label",docLevel:"basic"},{name:"value",component:"Field"},{name:"err",component:"Field"},{name:"required",component:"BooleanField",label:"Required",docLevel:"basic"},{name:"fullWidth",component:"BooleanField",label:"Full Width",docLevel:"basic"},{name:"touched",component:"BooleanField"},{name:"validators",component:"Field"},{name:"hidden",component:"BooleanField",label:"Hidden",docLevel:"basic"},{name:"block",component:"BooleanField",label:"Block",docLevel:"basic"},{name:"disabled",component:"BooleanField",label:"Disabled",docLevel:"basic"},{name:"editable",component:"BooleanField",label:"Editable"},{name:"dirty",component:"BooleanField"},{name:"help",component:"TextField",label:"Help"},{name:"in",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"before",component:"TextField"},{name:"after",component:"TextField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"ignoreErrs",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"hideLabel",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField",label:"Use Display Value",docLevel:"basic"},{name:"autoHideLabel",component:"BooleanField"}]}}),this._setDefaults(e,{editable:!0,block:!0,out:!0,in:!0,hidden:!1,required:!1,fullWidth:!1,disabled:!1,autoHideLabel:!0})}},{key:"_setValue",value:function(e){this._set("value",e)}},{key:"_setRequired",value:function(e){this._set("required",e)}},{key:"_setDisabled",value:function(e){this._set("disabled",e)}},{key:"_setEditable",value:function(e){this._set("editable",e)}},{key:"_setDirty",value:function(e){this._set("dirty",e)}},{key:"setTouched",value:function(e){this._set("touched",e)}},{key:"setFullWidth",value:function(e){this._set("fullWidth",e)}},{key:"setUseDisplayValue",value:function(e){this._set("useDisplayValue",e)}},{key:"setHideLabel",value:function(e){this._set("hideLabel",e)}},{key:"set",value:function(e){void 0!==e.value&&e.value!==this.get("value")&&this.set({dirty:!0}),(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,Object.assign({},e,{value:void 0,required:void 0,disabled:void 0,editable:void 0,dirty:void 0,touched:void 0,fullWidth:void 0,useDisplayValue:void 0,hideLabel:void 0})),void 0!==e.value&&this._setValue(e.value),void 0!==e.required&&this._setRequired(e.required),void 0!==e.disabled&&this._setDisabled(e.disabled),void 0!==e.editable&&this._setEditable(e.editable),void 0!==e.dirty&&this._setDirty(e.dirty),void 0!==e.touched&&this.setTouched(e.touched),void 0!==e.fullWidth&&this.setFullWidth(e.fullWidth),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),void 0!==e.hideLabel&&this.setHideLabel(e.hideLabel)}},{key:"setErr",value:function(e){this.set({err:e})}},{key:"clearErr",value:function(){this.setErr(null)}},{key:"getErr",value:function(){return this.get("err")}},{key:"setValue",value:function(e){this.set({value:e})}},{key:"clearValue",value:function(){this.setValue(null)}},{key:"getValue",value:function(){return this.get("value")}},{key:"isValueBlank",value:function(e){return this.constructor.isValueBlank(e)}},{key:"isBlank",value:function(){var e=this.getValue();return this.isValueBlank(e)}},{key:"_toValidatorProps",value:function(){return(0,r.default)({},this.get(),{value:this.get("value")})}},{key:"validate",value:function(){if(!this.get("ignoreErrs"))if(this._required&&this.isBlank())this.setErr("required");else if(!this.isBlank()&&this._validators&&this._validators.length>0){var e=new p.default(this._toValidatorProps()).validate(this._validators);0!==e.length&&this.setErr(e[0])}}},{key:"getDisplayValue",value:function(){return this.get("value")}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"_validateWithRegExp",value:function(e,t){if(!this.isBlank()){var a=this.getValue();e.test(a)||this.setErr(t)}}},{key:"getFirstErr",value:function(){var e=this.get("err");return Array.isArray(e)?Array.isArray(e[0].error)?e[0].error[0].error:e[0].error:e}},{key:"_isField",value:function(){return!0}}]),t}(h.default);t.default=m,m.isValueBlank=function(e){return null===e||void 0===e}},56:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(190)).default;t.default=r},57:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Access=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(34)),o=n(a(786)),u=n(a(51)),s=function(){function e(){(0,r.default)(this,e),this._accessControl=new o.default,this._registrar=i.default}return(0,l.default)(e,[{key:"canAccess",value:function(e,t){var a=t.get("access");if(a&&a.form&&a.form[e]){var n=a.form[e],r=Array.isArray(n)?n:[n];return this._registrar.client.user.hasRole(r)}return!0}},{key:"canCreate",value:function(e){return this.canAccess("create",e)}},{key:"canRead",value:function(e){return this.canAccess("read",e)}},{key:"canUpdate",value:function(e){return this.canAccess("update",e)}},{key:"canArchive",value:function(e){return this.canAccess("archive",e)}},{key:"_fieldsOrValuesCanAccess",value:function(e,t,a,n,r){var l=t.get("access"),i=this._registrar.client&&this._registrar.client.user.getSession(),o={},s=!1;i&&i.user.roles&&((0,u.default)(i.user.roles,function(e,t){o[e.name]=!0}),s=i.user.id===t.getValue("userId"));var c=t.getValues(a),d=n?"fieldsCanAccess":"valuesCanAccess";return this._accessControl[d](e,l,o,c,s,r)}},{key:"fieldsCanAccess",value:function(e,t,a,n){return this._fieldsOrValuesCanAccess(e,t,a,!0,n)}},{key:"fieldsCanCreate",value:function(e){return this.fieldsCanAccess("create",e,{out:!0})}},{key:"fieldsCanRead",value:function(e){return this.fieldsCanAccess("read",e)}},{key:"fieldsCanUpdate",value:function(e){return this.fieldsCanAccess("update",e,{out:!0})}},{key:"valuesCanAccess",value:function(e,t,a){return this._fieldsOrValuesCanAccess(e,t,a,!1)}},{key:"valuesCanCreate",value:function(e,t){return this.valuesCanAccess("create",e,Object.assign({out:!0},t))}},{key:"valuesCanRead",value:function(e,t){return this.valuesCanAccess("read",e,t)}},{key:"valuesCanUpdate",value:function(e,t){return this.valuesCanAccess("update",e,Object.assign({out:!0},t))}}]),e}();t.Access=s;var c=new s;t.default=c},600:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(107)),l=n(a(29)),i=n(a(33)),o=n(a(10)),u=n(a(15)),s=n(a(13)),c=n(a(11)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=n(a(281)),m=n(a(34)),v=n(a(68)),y=n(a(51)),b=n(a(675)),g=n(a(205)),_=n(a(159)),F=0,k=function(){return F++},w=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,u.default)(this,(0,s.default)(t).call(this,e)),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Component"),a._registrar=m.default,a._setDebugId(),a._listenerEvents={},a._subEvents={},a._isLoaded=!1,a._resolveAfterCreate=v.default.once((0,f.default)((0,f.default)(a)),"didCreate"),a._resolveAfterLoad=v.default.once((0,f.default)((0,f.default)(a)),"didLoad"),a._listenToAllChanges(),a._propNames=["schema"],a._indexedPropNames={schema:!0},e&&void 0!==e.name&&a._setProperty("name",e.name),a._create(void 0===e?{}:e),a.set(void 0===e?{}:e),a._emitCreateIfNotMuted(),a._setKey(),a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"_getBaseComponentSchema",value:function(){return{component:"Form",fields:[{name:"component",component:"TextField"},{name:"name",component:"TextField",label:"Name",docLevel:"basic",help:"A unique variable name"},{name:"listeners",component:"Field"},{name:"schema",component:"FormField",form:{component:"ObjectForm"}},{name:"isStore",component:"BooleanField"},{name:"didCreate",component:"BooleanField"},{name:"backEndOnly",component:"BooleanField"},{name:"parent",component:"Field"},{name:"muteCreate",component:"BooleanField"},{name:"disableSubEvents",component:"BooleanField"},{name:"docLevel",component:"SelectField",options:[{value:"basic",label:"Basic"},{value:"advanced",label:"Advanced"}]}]}}},{key:"_emitCreate",value:function(){this.emitChange("create"),this._hasListenerForEvent("create")||this._emitDidCreate()}},{key:"_setDebugId",value:function(){this._debugId=Math.random()}},{key:"_emitCreateIfNotMuted",value:function(){var e=this;this.get("muteCreate")||setTimeout(function(){e._emitCreate()})}}]),(0,c.default)(t,[{key:"_setKey",value:function(){this._key=k()}},{key:"_create",value:function(e){this.set({schema:this._getBaseComponentSchema()}),this._setDefaults(e,{docLevel:"advanced"})}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"_setProperty",value:function(e,t){this["_"+e]=t}},{key:"_setPropertyAndEmitChange",value:function(e,t){this._setProperty(e,t),this.emitChange(e,t)}},{key:"_setIfDifferent",value:function(e,t){this["_"+e]!==t&&this._setPropertyAndEmitChange(e,t)}},{key:"_push",value:function(e,t){var a=this._getProperty(e);Array.isArray(a)||(a=[]),a.push(t),this._set(e,a)}},{key:"_concat",value:function(e,t){var a=this._getProperty(e);Array.isArray(a)||(a=[]),a=a.concat(t),this._set(e,a)}},{key:"has",value:function(e){return void 0!==this._indexedPropNames[e]}},{key:"_throwIfNotDefined",value:function(e){if(!this.has(e))throw new Error(this.getClassName()+": "+e+" not defined")}},{key:"_setIfPropDefined",value:function(e,t){this._throwIfNotDefined(e),this._setIfDifferent(e,t)}},{key:"_throwPropertyNotFound",value:function(e){throw new Error(e.join(".")+" not found")}},{key:"isComponent",value:function(e){return e instanceof t||e instanceof _.default}},{key:"_getSubProperty",value:function(e,t){var a=e.split("."),n=this;void 0===t?t=a.length:t<0&&(t+=a.length);for(var r=[],l=0;l<t;l++){var i=a[l];r.push(i),this.isComponent(n)?(n.has(i)||this._throwPropertyNotFound(r),(n=n.get(i))||this._throwPropertyNotFound(r)):void 0===n[i]?this._throwPropertyNotFound(r):n=n[i]}return{property:n,names:a}}},{key:"_set",value:function(e,t){if(this._hasDot(e)){var a=this._getSubProperty(e,-1),n=a.property,r=a.names,l=r[r.length-1];this.isComponent(n)?n.has(l)&&this.isComponent(n.get(l))?n.get(l).set(t):n.set((0,h.default)({},l,t)):n[l]=t}else this._setIfPropDefined(e,t)}},{key:"_setIfDefined",value:function(e,t){void 0!==t&&this._set(e,t)}},{key:"_setProps",value:function(e){var t=this;(0,y.default)(e,function(e,a){return t._setIfDefined(a,e)})}},{key:"_setName",value:function(e){this._set("name",e)}},{key:"_setParent",value:function(e){this._set("parent",e)}},{key:"_setIsStore",value:function(e){this._set("isStore",e)}},{key:"_setDefaults",value:function(e,t){var a=this;(0,y.default)(t,function(t,n){void 0===e[n]&&a._set(n,t)})}},{key:"_emitDidCreate",value:function(){this.set({didCreate:!0})}},{key:"_emitDidLoad",value:function(){this.emitChange("didLoad"),this._isLoaded=!0}},{key:"_getLayer",value:function(){return this.constructor.getLayer()}},{key:"_hasListenerForEvent",value:function(e){return!!this._listenerEvents[e]}},{key:"_hasDot",value:function(e){return-1!==e.indexOf(".")}},{key:"_listenToSubEvent",value:function(e){var t=this;this._subEvents[e]=!0;var a=this._getSubProperty(e,-1),n=a.property,r=a.names,l=r[r.length-1];n.on(l,function(a){return t.emitChange(e,a)})}},{key:"_listenIfNewSubEvent",value:function(e){void 0!==this._subEvents[e]||this.get("disableSubEvents")||this._listenToSubEvent(e)}},{key:"_listenIfSubEvent",value:function(e){var t=this;this._hasDot(e)&&this.resolveAfterCreate().then(function(){return t._listenIfNewSubEvent(e)})}},{key:"_setListeners",value:function(e){var t=this;this._concat("listeners",e),e.forEach(function(e){(Array.isArray(e.event)?e.event:[e.event]).forEach(function(e){t._listenIfSubEvent(e),t._listenerEvents[e]=!0})})}},{key:"_emitAfterListenerEvents",value:function(e){switch(e){case"create":this._emitDidCreate();break;case"load":this._emitDidLoad()}}},{key:"_runAction",value:function(){var e=(0,i.default)(l.default.mark(function e(t,a,n,r,i){var o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.get("layer"),this._getLayer()&&o&&o!==this._getLayer()){e.next=3;break}return e.abrupt("return",a.run({event:n,component:this,arguments:r,context:i}));case 3:case"end":return e.stop()}},e,this)}));return function(t,a,n,r,l){return e.apply(this,arguments)}}()},{key:"_onActionErr",value:function(e){this.emitChange("actionErr",e)}},{key:"_onDetachedActionErr",value:function(e){this._registrar.log&&this._registrar.log.error(e),this._onActionErr(e)}},{key:"runListeners",value:function(){var e=(0,i.default)(l.default.mark(function e(t,a,n){var r,i,o,u,s,c,d=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.get("listeners"))){e.next=25;break}e.t0=l.default.keys(r);case 3:if((e.t1=e.t0()).done){e.next=24;break}if(i=e.t1.value,o=r[i],-1===(Array.isArray(o.event)?o.event:[o.event]).indexOf(t)){e.next=22;break}e.t2=l.default.keys(o.actions);case 9:if((e.t3=e.t2()).done){e.next=22;break}if(u=e.t3.value,s=o.actions[u],c=this._runAction(o,s,t,a,n),!s.get("detached")){e.next=17;break}c.catch(function(e){return d._onDetachedActionErr(e)}),e.next=20;break;case 17:return e.next=19,c;case 19:a=e.sent;case 20:e.next=9;break;case 22:e.next=3;break;case 24:this._emitAfterListenerEvents(t);case 25:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"_runListenersAndEmitError",value:function(){var e=(0,i.default)(l.default.mark(function e(t,a){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.runListeners(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),this._onActionErr(e.t0),e.t0;case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"_listenToAllChanges",value:function(){var e=this;this.on("$change",function(){var t=(0,i.default)(l.default.mark(function t(a,n){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._listenerEvents[a]){t.next=3;break}return t.next=3,e._runListenersAndEmitError(a,n);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}())}},{key:"_pushProp",value:function(e){this.has(e)||(this._propNames.push(e),this._indexedPropNames[e]=!0)}},{key:"_setSchema",value:function(e){var t=this;this._push("schema",e),e.fields?e.fields.forEach(function(e){return t._pushProp(e.name)}):e.eachField&&e.eachField(function(a){e.isDefaultField(a.get("name"))||t._pushProp(a.get("name"))})}},{key:"_setMuteEvents",value:function(e){this._set("muteCreate",e)}},{key:"set",value:function(e){if("object"!==(0,r.default)(e))throw new Error("props must be an object");void 0!==e.schema&&this._setSchema(e.schema),void 0!==e.name&&this._setName(e.name),void 0!==e.parent&&this._setParent(e.parent),void 0!==e.isStore&&this._setIsStore(e.isStore),void 0!==e.muteCreate&&this._setMuteEvents(e.muteCreate),this._setProps(Object.assign({},e,{component:void 0,props:void 0,schema:void 0,name:void 0,parent:void 0,isStore:void 0,listeners:void 0,muteCreate:void 0})),void 0!==e.listeners&&this._setListeners(e.listeners)}},{key:"_getProperty",value:function(e){return this["_"+e]}},{key:"_getIfDefined",value:function(e){return this._throwIfNotDefined(e),this._getProperty(e)}},{key:"_get",value:function(e){return this._hasDot(e)?this._getSubProperty(e).property:this._getIfDefined(e)}},{key:"getOne",value:function(e){return this._get(e)}},{key:"get",value:function(e){var t=this;if(e||(e=this._propNames),Array.isArray(e)){var a={};return e.forEach(function(e){a[e]=t.getOne(e)}),a}return this.getOne(e)}},{key:"getClassName",value:function(){return this._className}},{key:"getParentClassName",value:function(){return(new(Object.getPrototypeOf(this.constructor))).getClassName()}},{key:"_cloneDeep",value:function(e){return(0,g.default)(e,function(e,t,a,n){if("_parent"===t||"parent"===t)return e})}},{key:"_cloneSlow",value:function(){var e=this._cloneDeep(this);return e._setDebugId(),e._setKey(),e.removeAllListeners(),e._emitCreateIfNotMuted(),e}},{key:"_cloneFast",value:function(e){var t=e.defaultProps,a=e.excludeProps,n=new(this._registrar.compiler.getCompiledComponent(this.getClassName()))(t);a&&(a=a.concat(["parent"]));var r=(0,b.default)(this._propNames,a);return n.set(this._cloneDeep(this.get(r))),n.set(this.get(["parent"])),n}},{key:"_canCloneFast",value:function(){return this._registrar.compiler&&this._registrar.compiler.exists(this.getClassName())}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,a=e.excludeProps;return this._canCloneFast()?this._cloneFast({defaultProps:t,excludeProps:a}):this._cloneSlow()}},{key:"clone",value:function(){return this._clone()}},{key:"emitLoad",value:function(){this.emitChange("load"),this._hasListenerForEvent("load")||this._emitDidLoad()}},{key:"emitUnload",value:function(){this._isLoaded=!1,this.emitChange("unload")}},{key:"_bubbleUpEvents",value:function(e,t){var a=this;t.forEach(function(t){e.on(t,function(e){a.emitChange(t,e)})})}},{key:"getKey",value:function(){return this._key}},{key:"_setOn",value:function(e,t,a){a.forEach(function(a){void 0!==t[a]&&e.set((0,h.default)({},a,t[a]))})}},{key:"_getFrom",value:function(e,t,a){if(-1!==a.indexOf(t))return e.get(t)}},{key:"buildSchemaForm",value:function(e,t){this.get("schema").forEach(function(a){t.isCompiled(a)||(a=t.newComponent(a)),e.copyFields(a)})}},{key:"getUniqueId",value:function(){return this.constructor.toUniqueId(this._key)}},{key:"isLoaded",value:function(){return this._isLoaded}},{key:"resolveAfterCreate",value:function(){return this._resolveAfterCreate}},{key:"resolveAfterLoad",value:function(){return this._resolveAfterLoad}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"getHiddenFieldDefinitions",value:function(e){return e.map(function(e){return{name:e,component:"Field",hidden:!0}})}}],[{key:"getLayer",value:function(){return this.constructor._layer}},{key:"setLayer",value:function(e){this.constructor._layer=e}},{key:"getNextKey",value:function(){return k()}},{key:"toUniqueId",value:function(e){return"mson-"+e}},{key:"getNextUniqueId",value:function(){var e=this.getNextKey();return this.toUniqueId(e)}}]),t}(p.default.EventEmitter);t.default=w,(0,h.default)(w,"_layer",null)},68:function(e,t,a){"use strict";(function(e){var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Utils=void 0;var r=n(a(17)),l=n(a(29)),i=n(a(33)),o=n(a(10)),u=n(a(11)),s=n(a(603)),c=n(a(51)),d=n(a(672)),f=function(){function t(){(0,o.default)(this,t),this._global=e}return(0,u.default)(t,[{key:"sequential",value:function(){var e=(0,i.default)(l.default.mark(function e(t,a){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(0,s.default)(t,function(){var e=(0,i.default)(l.default.mark(function e(t,r,i){var o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,a(r,i);case 4:void 0!==(o=e.sent)&&n.push(o);case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),Promise.resolve());case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"inBrowser",value:function(){return!!this._global.window}},{key:"getAllMethodNames",value:function(e){for(var t=[];e=Reflect.getPrototypeOf(e);){Reflect.ownKeys(e).forEach(function(e){return t.push(e)})}return t}},{key:"getAllFunctionNames",value:function(e){var t=[];return(0,c.default)(e,function(e,a){"function"===typeof e&&t.push(a)}),t}},{key:"combineWheres",value:function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach(function(t){t&&e.push(t)}),1===e.length?e[0]:{$and:e}}},{key:"toWhereFromSearchString",value:function(e,t){var a=t.trim();if(""===a)return null;var n=a.split(/ +/),l=[];return n.forEach(function(t){var a=[];e.forEach(function(e){a.push((0,r.default)({},e,{$iLike:t+"%"}))}),l.push({$or:a})}),{$and:l}}},{key:"uuid",value:function(){return d.default.v4()}},{key:"once",value:function(e,t){return new Promise(function(a){e.once(t,function(){a(arguments)})})}},{key:"isRegExpString",value:function(e){return new RegExp("^/(.*)/(.*)$").test(e)}},{key:"stringToRegExp",value:function(e){var t=e.match(new RegExp("^/(.*)/(.*)$"));return new RegExp(t[1],t[2])}},{key:"toRegExp",value:function(e){return e instanceof RegExp?e:this.stringToRegExp(e)}},{key:"toSingular",value:function(e){return e.substr(0,e.length-1)}}]),t}();t.Utils=f;var h=new f;t.default=h}).call(this,a(46))},69:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(45)),p=n(a(68)),m=a(960),v=n(a(236)),y=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","TextField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_setTextFieldSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words"},{name:"maxWords",component:"IntegerField",label:"Max Words"},{name:"type",component:"TextField"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic",help:"Invalid if this regular expression matches, e.g. /foo/"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"},{name:"rows",component:"IntegerField"},{name:"rowsMax",component:"IntegerField"},{name:"mask",component:"Field"},{name:"unmask",component:"RegExpField"}],hidden:this._hideTextFieldSchema}})}},{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this._requireString=!0,this._setTextFieldSchema()}},{key:"_toValidatorProps",value:function(){var e=this.get("value");return(0,r.default)({},(0,s.default)((0,u.default)(t.prototype),"_toValidatorProps",this).call(this),{length:e.length,words:e.split(/\s+/).length})}},{key:"validate",value:function(){if((0,s.default)((0,u.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();if("string"===typeof e){var a=this.get("minLength"),n=this.get("maxLength"),r=this.get("invalidRegExp");null!==a&&e.length<a?this.setErr("".concat(a," characters or more")):null!==n&&e.length>n?this.setErr("".concat(n," characters or less")):r&&p.default.isRegExpString(r)&&p.default.toRegExp(r).test(e)&&this.setErr("invalid")}else this._requireString&&this.setErr("must be a string")}}},{key:"_stringToArrayMask",value:function(e){return(0,v.default)(e,function(e){return"."===e?/./:e})}},{key:"_formatMask",value:function(e){return Array.isArray(e)?e.map(function(e){return e instanceof RegExp||!p.default.isRegExpString(e)?e:p.default.toRegExp(e)}):"string"===typeof e?this._stringToArrayMask(e):e}},{key:"_formatUnmask",value:function(e){return p.default.toRegExp(e)}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.mask&&(a.mask=this._formatMask(a.mask)),void 0!==a.unmask&&(a.unmask=this._formatUnmask(a.unmask)),(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,a)}},{key:"_conformToMask",value:function(e,t){return(0,m.conformToMask)(e,t,{guide:!1}).conformedValue}},{key:"toConformedValue",value:function(e){return this._conformToMask(e,this.get("mask"))}},{key:"getDisplayValue",value:function(){return this.isBlank()||!this.get("mask")?(0,s.default)((0,u.default)(t.prototype),"getDisplayValue",this).call(this):this.toConformedValue(this.getUIValue())}},{key:"toUnmaskedValue",value:function(e){var t=this.get("unmask");return this.isValueBlank(e)||!t?e:e.replace(t,"")}},{key:"fromUIValue",value:function(e){return this.toUnmaskedValue(e)}},{key:"getUIValue",value:function(){return this.isBlank()?"":String(this.get("value"))}},{key:"isValueBlank",value:function(e){return(0,s.default)((0,u.default)(t.prototype),"isValueBlank",this).call(this,e)||""===e}}]),t}(h.default);t.default=y},786:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(51)),o=n(a(203)),u=n(a(219)),s=n(a(324)),c=function(){function e(){(0,r.default)(this,e)}return(0,l.default)(e,[{key:"_hasAccess",value:function(e,t,a){Array.isArray(e)||(e=[e]);var n=!1;return(0,i.default)(e,function(e){if(t[e]||a&&(e===s.default.ID_OWNER||e===s.default.OWNER))return n=!0,!1}),n}},{key:"hasFormAccess",value:function(e,t,a,n){var r=(0,o.default)(t,["form",e]);return void 0===r||this._hasAccess(r,a,n)}},{key:"_canAccessFieldForOp",value:function(e,t,a,n,r){var l=(0,o.default)(t,["fields",n,e]);return void 0!==l?this._hasAccess(l,a,r):this.hasFormAccess(e,t,a,r)}},{key:"_canAccessField",value:function(e,t,a,n,r,l){return"update"===e?this._canAccessFieldForOp(e,t,a,n,r)?e:!!l&&(!!this._canAccessFieldForOp("read",t,a,n,r)&&"read"):!!this._canAccessFieldForOp(e,t,a,n,r)&&e}},{key:"canAccess",value:function(e,t,a,n,r){var l=this,o=[];return(0,i.default)(n,function(n,i){l._canAccessField(e,t,a,i,r)||o.push(i)}),o}},{key:"fieldsCanAccess",value:function(e,t,a,n,r,l){var o=this,u={};return(0,i.default)(n,function(n,i){var s=o._canAccessField(e,t,a,i,r,l);s&&(u[i]=s)}),u}},{key:"valuesCanAccess",value:function(e,t,a,n,r){var l=this;return n=(0,u.default)(n),(0,i.default)(n,function(i,o){l._canAccessField(e,t,a,o,r)||delete n[o]}),n}},{key:"canCreate",value:function(e,t,a,n){return this.canAccess("create",e,t,a,n)}},{key:"canRead",value:function(e,t,a,n){return this.canAccess("read",e,t,a,n)}},{key:"canUpdate",value:function(e,t,a,n){return this.canAccess("update",e,t,a,n)}},{key:"canArchive",value:function(e,t,a,n){return this.canAccess("archive",e,t,a,n)}}]),e}();t.default=c},790:function(e,t,a){},82:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonField",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"DateField",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FormField",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"CollectionField",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"IdField",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"IntegerField",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"ListField",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"NumberField",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"SelectField",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TextField",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TextListField",{enumerable:!0,get:function(){return v.default}}),t.PersonNameField=t.PersonFullNameField=t.PasswordField=t.EmailField=void 0;var r=n(a(38)),l=n(a(122)),i=n(a(118)),o=n(a(45)),u=n(a(96)),s=n(a(170)),c=n(a(235)),d=n(a(360)),f=n(a(94)),h=n(a(119)),p=n(a(116)),m=n(a(69)),v=n(a(238)),y=r.default.getCompiledComponent.bind(r.default),b=y("EmailField");t.EmailField=b;var g=y("PersonFullNameField");t.PersonFullNameField=g;var _=y("PersonNameField");t.PersonNameField=_;var F=y("PasswordField");t.PasswordField=F},918:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Compiler=void 0;var r=n(a(107)),l=n(a(15)),i=n(a(13)),o=n(a(19)),u=n(a(16)),s=n(a(18)),c=n(a(17)),d=n(a(10)),f=n(a(11)),h=n(a(919)),p=n(a(233)),m=n(a(34)),v=n(a(51)),y=n(a(91)),b=function(){function e(t){(0,d.default)(this,e),this._components=t.components,this._validateOnly=!1}return(0,f.default)(e,[{key:"setValidateOnly",value:function(e){this._validateOnly=e}},{key:"exists",value:function(e){return!!this._components[e]}},{key:"getComponent",value:function(e){if(this.exists(e))return this._components[e];throw new Error("missing component "+e)}},{key:"_compileAnyFactoryProduct",value:function(e){var t=this;if("Factory"===e.component){var a=e.product,n=e.properties;delete e.properties,e.product=function(){var e=null;if(e=t.isCompiled(a)?a.produce():t.newComponent(a),n){var r=(0,y.default)(n);t._instantiate(r),e.set(r)}return e}}}},{key:"_getWrappedComponentClass",value:function(e,t,a){var n=this.getCompiledComponent(e,t);this._validateOnly&&(t=Object.assign({},t,{muteCreate:!0,disableSubEvents:!0}));var r=this;return function(n){function h(){var t,a;(0,d.default)(this,h);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=(0,l.default)(this,(t=(0,i.default)(h)).call.apply(t,[this].concat(r))),(0,c.default)((0,s.default)((0,s.default)(a)),"_className",e),a}return(0,u.default)(h,n),(0,f.default)(h,[{key:"_create",value:function(e){var n=new p.default(Object.assign({},a,e));t=n.fillAll(t),r._compileAnyFactoryProduct(t),delete t.component,r._instantiate(t),r._instantiate(e);var l=Object.assign({},t,e);(0,o.default)((0,i.default)(h.prototype),"_create",this).call(this,l),t.componentToWrap&&delete t.componentToWrap,this.set(t)}}]),h}(n)}},{key:"isCompiled",value:function(e){return"object"!==(0,r.default)(e)||"Object"!==e.constructor.name&&"Array"!==e.constructor.name}},{key:"getCompiledComponent",value:function(e,t){var a=this.getComponent(e);return this.isCompiled(a)?a:this.compile(a,t)}},{key:"compile",value:function(e,t){return this._getWrappedComponentClass(e.component,e,t)}},{key:"_instantiateComponent",value:function(e,t){return new e(t)}},{key:"_instantiate",value:function(e){var t=this;if(e instanceof h.default.Component)return e;if("Factory"===e.component)return new(this.compile(e));if((0,v.default)(e,function(a,n){"object"===(0,r.default)(a)&&null!==a&&(e[n]=t._instantiate(a))}),e.component){var a=this.getCompiledComponent(e.component);return this._instantiateComponent(a,Object.assign({},e,{component:void 0}))}return e}},{key:"newComponent",value:function(e){var t=this.compile(e);return this._instantiateComponent(t)}},{key:"getOldestCompiledAncestor",value:function(e){var t=this.getComponent(e);return this.isCompiled(t)?e:this.getOldestCompiledAncestor(t.component)}},{key:"registerComponent",value:function(e,t){this._components[e]=t}},{key:"deregisterComponent",value:function(e){delete this._components[e]}},{key:"createSchemaForm",value:function(e){var t=this.newComponent({component:e.component}),a=new(0,this._components.Form);if(t.buildSchemaForm(a,this),e.schema){var n=g.newComponent(e.schema);n.setRequired(!1),a.copyFields(n)}return a}},{key:"validateDefinition",value:function(e){var t=this.createSchemaForm(e);return t.setValues(e),t.validate(),t}}]),e}();t.Compiler=b;var g=new b({components:h.default});m.default.compiler=g;var _=g;t.default=_},919:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(37)),l=n(a(920)),i=n(a(921)),o=n(a(922)),u=n(a(923)),s=n(a(924)),c=n(a(122)),d=n(a(925)),f=n(a(346)),h=n(a(929)),p=n(a(930)),m=n(a(931)),v=n(a(190)),y=n(a(170)),b=n(a(350)),g=n(a(347)),_=n(a(935)),F=n(a(936)),k=n(a(937)),w=n(a(118)),E=n(a(938)),C=n(a(939)),S=n(a(940)),x=n(a(351)),O=n(a(941)),A=n(a(45)),P=n(a(942)),L=n(a(98)),D=n(a(966)),T=n(a(96)),I=n(a(967)),j=n(a(968)),N=n(a(969)),V=n(a(235)),M=n(a(360)),B=n(a(970)),R=n(a(94)),U=n(a(971)),W=n(a(972)),q=n(a(973)),G=n(a(974)),K=n(a(975)),H=n(a(234)),z=n(a(976)),$=n(a(980)),Y=n(a(361)),Z=n(a(119)),J=n(a(359)),X=n(a(981)),Q=n(a(982)),ee=n(a(983)),te=n(a(984)),ae=n(a(985)),ne=n(a(987)),re=n(a(988)),le=n(a(989)),ie=n(a(990)),oe=n(a(991)),ue=n(a(992)),se=n(a(993)),ce=n(a(994)),de=n(a(995)),fe=n(a(996)),he=n(a(997)),pe=n(a(998)),me=n(a(999)),ve=n(a(1e3)),ye=n(a(1001)),be=n(a(1002)),ge=n(a(1003)),_e=n(a(116)),Fe=n(a(1004)),ke=n(a(1005)),we=n(a(1006)),Ee=n(a(1007)),Ce=n(a(1008)),Se=n(a(1009)),xe=n(a(1010)),Oe=n(a(69)),Ae=n(a(237)),Pe=n(a(238)),Le=n(a(1011)),De=n(a(1012)),Te=n(a(1013)),Ie=n(a(1014)),je=n(a(1015)),Ne=n(a(1016)),Ve=n(a(1017)),Me=n(a(362)),Be=n(a(358)),Re=n(a(191)),Ue={AccessForm:D.default,Action:r.default,AddressField:l.default,AddressForm:i.default,AuthenticatedContactUs:o.default,App:u.default,BooleanField:s.default,ButtonField:c.default,Card:d.default,ChainedSelectField:f.default,ChainedSelectListField:h.default,ChainedSelectOptionsField:p.default,CityField:m.default,CollectionField:y.default,Component:v.default,ComponentField:b.default,CompositeField:g.default,ConsoleLog:_.default,ContactUs:F.default,CountryField:k.default,DateField:w.default,Email:E.default,EmailField:C.default,Emit:S.default,ExtendedField:x.default,Factory:O.default,Field:A.default,FirebaseStore:P.default,Form:L.default,FormField:T.default,GetDoc:j.default,GetDocs:N.default,IdField:V.default,IntegerField:M.default,Iterator:B.default,ListField:R.default,LocalStorageStore:U.default,Login:W.default,LogInToApp:q.default,LogInToAppAndRedirect:G.default,LogOutOfApp:K.default,MemoryStore:H.default,Menu:z.default,MoneyField:$.default,MSONComponent:Y.default,NumberField:Z.default,ObjectForm:J.default,OptionsField:X.default,PasswordField:Q.default,PersonFullNameField:ee.default,PersonNameField:te.default,PhoneField:ae.default,PostalCodeField:ne.default,ProvinceField:re.default,ReCAPTCHAField:le.default,ReCAPTCHAVault:ie.default,RecordEditor:oe.default,RecordList:ue.default,RecordStore:se.default,RecoverPassword:ce.default,RecoverPasswordEditor:de.default,Redirect:fe.default,RedirectByRole:he.default,RegExpField:pe.default,RequestPasswordReset:me.default,ResetPassword:ve.default,ResetPasswordEditor:ye.default,RolesField:be.default,SchemaValidatorForm:ge.default,SelectField:_e.default,SelectListField:Fe.default,SetFromDoc:ke.default,Set:we.default,SignupEditor:Ee.default,Snackbar:Ce.default,StateField:Se.default,Text:xe.default,TextField:Oe.default,TextFieldHiddenSchema:Ae.default,TextListField:Pe.default,TimeField:Le.default,ValidatorForm:I.default,UpdatePasswordEditor:De.default,UpdatePassword:Te.default,UpsertDoc:Ie.default,URLField:je.default,User:Ne.default,UserList:Ve.default,Vault:Me.default,WhereField:Be.default,WrappedComponent:Re.default};t.default=Ue},920:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"FormField",form:{component:"AddressForm"},elevate:!0}},921:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"Form",fields:[{name:"addressLine1",component:"TextField",label:"Address Line 1",maxLength:100,required:!0,hidden:!0},{name:"addressLine2",component:"TextField",label:"Address Line 2",maxLength:100,required:!1,hidden:!0},{name:"city",component:"CityField",label:"City",required:!0,block:!1,hidden:!0},{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1,hidden:!0},{name:"postalCode",component:"PostalCodeField",label:"Postal Code",required:!0,hidden:!0},{name:"country",component:"CountryField",label:"Country",required:!0}],listeners:[{event:"fields.country.value",actions:[{component:"Action",if:{"fields.country.value":{$ne:null}},actions:[{component:"Emit",event:"adjustFields"},{component:"Emit",event:"setHidden",value:!1}],else:[{component:"Emit",event:"setHidden",value:!0},{component:"Set",name:"clearErrs",value:!0}]}]},{event:"setHidden",actions:[{component:"Set",name:"component",value:{"fields.addressLine1.hidden":"{{arguments}}","fields.addressLine2.hidden":"{{arguments}}","fields.city.hidden":"{{arguments}}","fields.stateProvince.hidden":"{{arguments}}","fields.postalCode.hidden":"{{arguments}}"}}]},{event:"adjustFields",actions:[{component:"Action",if:{"fields.country.value":"US"},actions:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"StateField",label:"State",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Zip Code"}}],else:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Postal Code"}}]}]}]}},922:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"AuthenticatedContactUs",component:"ContactUs",listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.captcha.hidden":!0,"fields.captcha.required":!1,"fields.email.hidden":!0}}]},{event:"load",actions:[{component:"Set",name:"fields.email.value",value:"{{globals.session.user.username}}"},{component:"Set",name:"pristine",value:!0}]}]}},923:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","App"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"menu",component:"Field"},{name:"menuAlwaysTemporary",component:"BooleanField"},{name:"basename",component:"TextField",help:"The base URL for all locations. If your app is served from a sub-directory on your server, you'll want to set this to the sub-directory. A properly formatted basename should have a leading slash, but no trailing slash."}]}})}},{key:"emitLoggedOut",value:function(){this.emitChange("loggedOut")}}]),t}(n(a(56)).default);t.default=f},924:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","BooleanField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"required",docLevel:null}]}})}},{key:"validate",value:function(){if((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();!1!==e&&!0!==e&&this.setErr("must be true or false")}}},{key:"getDisplayValue",value:function(){return this.get("value")?"Yes":"No"}},{key:"_setRequired",value:function(){}}]),t}(n(a(45)).default);t.default=f},925:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","Card"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"title",component:"TextField",label:"Title"},{name:"content",component:"Field",label:"Content",required:!0},{name:"searchString",component:"TextField"},{name:"dirty",component:"BooleanField"}]}}),this._bubbleUpLoad()}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){var t=e.get("content");t&&t.emitLoad()}}},{key:"_bubbleUpLoad",value:function(){this.on("load",this._handleLoadFactory())}}]),t}(n(a(56)).default);t.default=f},927:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(17)),o=n(a(51)),u=function(){function e(t){(0,r.default)(this,e),(0,i.default)(this,"noParentId",-1),this.clear(),t&&this.add(t)}return(0,l.default)(e,[{key:"clear",value:function(){this._items={},this._itemsByParent={}}},{key:"_toParentId",value:function(e){return e||this.noParentId}},{key:"_addItem",value:function(e){this._items[e.id]=e;var t=this._toParentId(e.parentId);this._itemsByParent[t]||(this._itemsByParent[t]=[]),this._itemsByParent[t].push(e)}},{key:"add",value:function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){return t._addItem(e)})}},{key:"get",value:function(e){return this._items[e]}},{key:"eachByParent",value:function(e,t){e=this._toParentId(e),(0,o.default)(this._itemsByParent[e],t)}},{key:"mapByParent",value:function(e,t){e=this._toParentId(e);var a=this._itemsByParent[e];return a?a.map(t):[]}}]),e}();t.default=u},928:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","MultipleValueField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"field",component:"Field"},{name:"allowScalar",component:"BooleanField"}]}})}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"setValue",value:function(e){this._validateValueType(e),(0,u.default)((0,o.default)(t.prototype),"setValue",this).call(this,e)}},{key:"validate",value:function(){this.clearErr(),(0,u.default)((0,o.default)(t.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var a=this.getValue();if(a){var n=this.get("minSize"),r=this.get("maxSize");null!==n&&a.length<n?e.push({error:"".concat(n," or more")}):null!==r&&a.length>r&&e.push({error:"".concat(r," or less")})}}e.length>0&&this.setErr(e)}}]),t}(n(a(45)).default);t.default=f},929:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(94)),p=n(a(346)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","ChainedSelectListField"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"}]}}),this._setDefaults(e,{allowDelete:!0,autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0})}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,hideLabel:!0,block:!0},this.get(["blankString","fullWidth","options","useDisplayValue","editable"])))}},{key:"_setFieldOptions",value:function(e){this._getOrCreateField(e).set({options:this.get("options")})}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",function(e){!t._isLastFieldBlank()&&t.canAddMoreFields(e)&&t.createField(),t._calcValue()})}},{key:"_setOptions",value:function(e){this._setFieldOptions(0),this.eachField(function(t){return t.set({options:e})})}},{key:"set",value:function(e){(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,s.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=m},930:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0,block:!1},{name:"parentValue",label:"Parent Value",component:"TextField"}]}}}},931:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:40}},932:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(16)),s=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"_getProp",value:function(e,t){return e.getValue(t)}},{key:"_setProp",value:function(e,t,a){return e.getField(t).setValue(a)}}]),t}(n(a(348)).default);t.default=s},933:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(91)),s=n(a(934)),c=function(){function e(t){var a=t.onGetAll,n=t.onGetItemsPerPage,r=t.onGetScrollThreshold,l=t.onGetMaxBufferPages,o=t.onGetItemElement,u=t.onGetSpacerElement,s=t.onRemoveItems,c=t.onResizeSpacer,d=t.onSetBufferTopId,f=t.onGetItem,h=t.onGetItems,p=t.onGetItemId,m=t.onGetItemCursor,v=t.onAddItem,y=t.onAddItems,b=t.onEmitChange,g=t.onSetIsLoading,_=t.onGetOrder,F=t.onGetWhere;(0,i.default)(this,e),this._onGetAll=a,this._onGetItemsPerPage=n,this._onGetScrollThreshold=r,this._onGetMaxBufferPages=l,this._onGetItemElement=o,this._onGetSpacerElement=u,this._onRemoveItems=s,this._onResizeSpacer=c,this._onSetBufferTopId=d,this._onGetItem=f,this._onGetItems=h,this._onSetIsLoading=g,this._onGetOrder=_,this._onGetWhere=F,this._onGetItemId=p,this._onGetItemCursor=m,this._onAddItem=v,this._onAddItems=y,this._onEmitChange=b,this.reset()}return(0,o.default)(e,[{key:"_resizeBuffer",value:function(e){if(e.previous){this._bufferBottomId=this._onRemoveItems(this._bufferBottomId,this._onGetItemsPerPage(),!0);var t=this._onGetItem(this._bufferBottomId);this._bufferBottomCursor=this._onGetItemCursor(t)}else{var a=this._onGetItemElement(this._bufferTopId),n=this._onRemoveItems(this._bufferTopId,this._onGetItemsPerPage()),r=this._onGetItemElement(n).offsetTop-a.offsetTop;this._onResizeSpacer(r),this._bufferTopId=n;var l=this._onGetItem(n);this._bufferTopCursor=this._onGetItemCursor(l)}}},{key:"_setDefaults",value:function(){this._bufferTopCursor||(this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId),this._bufferBottomCursor||(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId)}},{key:"_resetBufferReferences",value:function(){this._bufferTopId=null,this._bufferTopCursor=null,this._firstCursor=null,this._bufferBottomId=null,this._bufferBottomCursor=null,this._bufferSize=0}},{key:"reset",value:function(){this._resetBufferReferences(),this._lastGetAllProps=null,this._lastScrollY=null,this._spacerResizing=!1,this._showArchived=!1,this._onSetBufferTopId(null),this._onSetIsLoading(!1),this._onResizeSpacer(null,0)}},{key:"getAll",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i,o,s,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=null,(t=t?(0,u.default)(t):{}).showArchived=this._showArchived,this._onGetWhere&&(t.where=this._onGetWhere()),this._onGetOrder&&(t.order=this._onGetOrder()),t.before?t.last=this._onGetItemsPerPage():t.first=this._onGetItemsPerPage(),e.next=9,this._getAllDebounced(t);case 9:if(!(l=e.sent)){e.next=18;break}return i=null,o=null,s=l.edges.length,c=t.before?this._bufferTopId:null,e.next=17,this._onAddItems(l.edges,c);case 17:s>0&&(this._firstCursor||(this._firstCursor=l.edges[0].cursor),i=l.edges[0],a=i.node.id,o=l.edges[s-1],n=o.node.id,this._beginCursor=i.cursor,this._endCursor=o.cursor,this._beginId=a,this._endId=n,this._bufferSize+=s,this._setDefaults(),this._onEmitChange(l));case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_noMoreData",value:function(e){return!e||!!e.edges&&0===e.edges.length||!!e.pageInfo&&!e.pageInfo.hasNextPage}},{key:"_getAllDebounced",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.after||(t.after=null),t.before||(t.before=null),(0,s.default)(t,this._lastGetAllProps)){e.next=10;break}return this._onSetIsLoading(!0),this._lastGetAllProps=(0,u.default)(t),e.next=7,this._onGetAll(t);case 7:return a=e.sent,this._noMoreData(a)&&this._onSetIsLoading(!1),e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getMore",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.previous,n={},a?n.before=this._bufferTopCursor:n.after=this._bufferBottomCursor,e.next=5,this.getAll(n);case 5:l=e.sent,i=this._onGetMaxBufferPages()*this._onGetItemsPerPage(),this._lastMoreWasPrevious=a,l&&l.edges.length>0&&(a?(o=this._bufferTopId,this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId,this._onSetBufferTopId(o)):(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId),this._bufferSize>i&&this._resizeBuffer({previous:a}));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resizeSpacer",value:function(e){var t=this._onGetItemElement(e);if(t){var a=this._onGetSpacerElement(),n=a.offsetTop+a.offsetHeight-t.offsetTop;n>0&&(this._spacerResizing=!0),this._onResizeSpacer(n)}}},{key:"_shouldLoadPrevious",value:function(e){var t=this._onGetItemElement(this._bufferTopId),a=this.beginningLoaded();return t&&e<t.offsetTop+this._onGetScrollThreshold()&&!a}},{key:"_shouldLoadNext",value:function(e){var t=this._onGetItemElement(this._bufferBottomId);return t&&e>t.offsetTop+t.offsetHeight-this._onGetScrollThreshold()}},{key:"scroll",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.scrollY,n=!this._lastScrollY||a>=this._lastScrollY,this._lastScrollY=a,!this._spacerResizing){e.next=5;break}return e.abrupt("return");case 5:if(n||!this._shouldLoadPrevious(a)){e.next=10;break}return e.next=8,this._getMore({previous:!0});case 8:e.next=13;break;case 10:if(!n||!this._shouldLoadNext(a)){e.next=13;break}return e.next=13,this._getMore({previous:!1});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setSpacerResizing",value:function(e){this._spacerResizing=e,!e&&this._lastMoreWasPrevious&&this._shouldLoadPrevious(window.scrollY)&&!this.beginningLoaded()&&this._getMore({previous:!0})}},{key:"beginningLoaded",value:function(){return this._bufferTopCursor===this._firstCursor}},{key:"setShowArchived",value:function(e){this._showArchived=e}},{key:"removeItem",value:function(e){if(e===this._bufferTopId||e===this._bufferBottomId){var t=e===this._bufferBottomId,a=this._onGetItems(e,t),n=null,r=null,l=0,i=!0,o=!1,u=void 0;try{for(var s,c=a[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value;if(n=this._onGetItemId(d),r=this._onGetItemCursor(d),1===l++)break}}catch(f){o=!0,u=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}n?e===this._bufferTopId?(this._bufferTopId=n,this._bufferTopCursor=r,this._firstCursor=r):(this._bufferBottomId=n,this._bufferBottomCursor=r):this._resetBufferReferences()}}}]),e}();t.default=c},935:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","ConsoleLog"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._console=console,this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._console.log(this.get("message")),e.abrupt("return",t.arguments);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},936:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"ContactUs",component:"Form",schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField",required:!0},{name:"subject",component:"TextField"},{name:"body",component:"TextField"},{name:"store",component:"Field"}]},sender:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',replyTo:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',from:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',subject:"{{fields.subject.value}}",body:"{{fields.body.value}}",fields:[{component:"PersonNameField",name:"firstName",label:"First Name",required:!0,block:!1},{component:"PersonNameField",name:"lastName",label:"Last Name",required:!0},{component:"EmailField",name:"email",label:"Email",required:!0},{component:"TextField",name:"subject",label:"Subject",required:!0,fullWidth:!0},{component:"TextField",name:"body",label:"Body",required:!0,multiline:!0,rows:2,rowsMax:20,fullWidth:!0},{component:"ReCAPTCHAField"},{component:"ButtonField",type:"submit",name:"submit",label:"Send Message",icon:"Email"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"submit",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Message sent. Please expect a response shortly."},{component:"Set",name:"pristine",value:!0},{component:"Redirect",path:"/"}]},{event:"createRecord",actions:[{component:"Email",sender:"{{sender}}",replyTo:"{{replyTo}}",from:"{{from}}",to:"{{to}}",subject:"{{subject}}",body:"{{body}}",detached:!0}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]}},937:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AF",label:"Afghanistan"},{value:"AX",label:"\xc5land Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia (Plurinational State of)"},{value:"BQ",label:"Bonaire, Sint Eustatius and Saba"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"CV",label:"Cabo Verde"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo (Democratic Republic of the)"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"C\xf4te d'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Cura\xe7ao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czechia"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"SZ",label:"Eswatini"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"VA",label:"Holy See"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran (Islamic Republic of)"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea (Democratic People's Republic of)"},{value:"KR",label:"Korea (Republic of)"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia (the former Yugoslav Republic of)"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia (Federated States of)"},{value:"MD",label:"Moldova (Republic of)"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestine, State of"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"R\xe9union"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barth\xe9lemy"},{value:"SH",label:"Saint Helena, Ascension and Tristan da Cunha"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin (French part)"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SX",label:"Sint Maarten (Dutch part)"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom of Great Britain and Northern Ireland"},{value:"US",label:"United States of America"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela (Bolivarian Republic of)"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands (British)"},{value:"VI",label:"Virgin Islands (U.S.)"},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}]}},938:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Email"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField"},{name:"subject",component:"TextField"},{name:"body",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_sendEmail",value:function(e){return this._registrar.email.send(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._sendEmail(this.get(["from","sender","replyTo","to","subject","body"])));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},939:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:"50",validators:[{where:{$not:{value:{$regex:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}$"}}},error:"invalid email"}]}},94:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(15)),o=n(a(11)),u=n(a(16)),s=n(a(18)),c=n(a(13)),d=n(a(19)),f=n(a(17)),h=n(a(347)),p=n(a(68)),m=function(e){function t(e){var a;return(0,l.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),(0,f.default)((0,s.default)((0,s.default)(a)),"_className","ListField"),a.get("startWithField")&&a._createNewField(),a}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._nextFieldName=0,this.set({schema:{component:"Form",fields:[{name:"allowDelete",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"fieldFactory",component:"Field",required:!0},{name:"allowScalar",component:"BooleanField"},{name:"singularLabel",component:"TextField",label:"Singular Label",docLevel:"basic"},{name:"autoCreateFields",component:"BooleanField"},{name:"startWithField",component:"BooleanField"},{name:"canDeleteEmpty",component:"BooleanField"},{name:"hideDeleteButton",component:"BooleanField"}]}}),this._setDefaults(e,{allowDelete:!0,startWithField:e.fieldFactory,canDeleteEmpty:!0})}}]),(0,o.default)(t,[{key:"_createNewField",value:function(){this.createField()}},{key:"_getValue",value:function(){var e=[];return this.eachField(function(t){var a=t.getValue();a&&e.push(a)}),e.length>0?e:null}},{key:"_isLastFieldBlank",value:function(){return this._fields.last().isBlank()}},{key:"_removeField",value:function(e){if(1===this._fields.length())e.clearValue();else{var t=e.get("name");this._removeFieldByName(t),e.destroy()}this.emitChangeToField(e),this._calcValue(),this.get("autoCreateFields")&&!this._isLastFieldBlank()&&this.canAddMoreFields()&&this.createField()}},{key:"_hasField",value:function(e){return this._fields.has(e)}},{key:"_clearFieldIfExists",value:function(e){this._hasField(e)&&this._getField(e).clearValue()}},{key:"_shouldRemoveField",value:function(){return!0}},{key:"_getField",value:function(e){return this._fields.get(e)}},{key:"_removeFieldByName",value:function(e){return this._fields.delete(e)}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",function(e){t._calcValue()})}},{key:"_getNextFieldName",value:function(){return this._nextFieldName++}},{key:"_handleDirtyFactory",value:function(){var e=this;return function(t){t&&e.set({dirty:!0})}}},{key:"createField",value:function(){var e=this,t=this._getNextFieldName(),a=this._newField(t),n=function(){e._removeField(a)};return a.on("delete",n),a.on("dirty",this._handleDirtyFactory()),this._onFieldCreated(a,n),this._addField(a,t),a}},{key:"_getOrCreateField",value:function(e){return this._hasField(e)?this._getField(e):this.createField()}},{key:"_calcValue",value:function(){this.set({dirty:!0}),this._value=this._getValue(),this.emitChange("value",this._value)}},{key:"_listenForChangesToField",value:function(e){this._bubbleUpTouches(e)}},{key:"_isLastField",value:function(e){return e.get("name")===this._fields.lastKey()}},{key:"_cleanUpNextFields",value:function(e){var t=null===e?this._fields.firstKey():this._fields.nextKey(e);if(null!==t){var a=!0,n=!0,r=!1,l=void 0;try{for(var i,o=this._fields.values(t)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;a||!this._shouldRemoveField(u)?(u.clearValue(),a=!1):this._removeField(u)}}catch(s){r=!0,l=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}}}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var a=this;(0,d.default)((0,c.default)(t.prototype),"_setValue",this).call(this,e),this._validateValueType(e);var n=null;if(!this._hasTypeError){var r=this._fields.values(),l=null;Array.isArray(e)?l=e:this.get("allowScalar")&&(l=[e]),null!==l&&l.forEach(function(e){var t=r.next().value;t||(t=a.createField()),t.setValue(e),n=t.get("name")})}this._cleanUpNextFields(n)}},{key:"_setDirty",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_setDirty",this).call(this,e),this.eachField(function(t){return t.set({dirty:e})})}},{key:"setTouched",value:function(e){(0,d.default)((0,c.default)(t.prototype),"setTouched",this).call(this,e),this.eachField(function(t){return t.setTouched(e)})}},{key:"set",value:function(e){(0,d.default)((0,c.default)(t.prototype),"set",this).call(this,e),void 0!==e.block&&this.eachField(function(t){return t.set({block:e.block})})}},{key:"validate",value:function(){this.clearErr(),(0,d.default)((0,c.default)(t.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var a=!0,n=!1,r=void 0;try{for(var l,i=this._fields.values()[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var o=l.value;o.validate(),o.hasErr()&&e.push({field:o.get("name"),error:o.getErr()})}}catch(h){n=!0,r=h}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}var u=this.getValue();if(u){var s=this.get("minSize"),f=this.get("maxSize");null!==s&&u.length<s?e.push({error:"".concat(s," or more")}):null!==f&&u.length>f&&e.push({error:"".concat(f," or less")})}}e.length>0&&this.setErr(e)}},{key:"canAddMoreFields",value:function(e){var t=this.get("maxSize"),a=this.getValue(),n=a?a.length:0;return e&&n++,!(null!==t&&a&&n>=t)}},{key:"produce",value:function(){return this.get("fieldFactory").produce()}},{key:"_newField",value:function(e){var t=this.produce();return t.set((0,r.default)({name:e},this.get(["required","block","fullWidth","useDisplayValue","editable"]))),t}},{key:"_clearFields",value:function(){this._fields.clear(),this._nextFieldName=0}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?p.default.toSingular(this.get("label")):null}}]),t}(h.default);t.default=m},940:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Emit"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"event",component:"TextField"},{name:"value",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.component.emitChange(this.get("event"),this.get("value"));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},941:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"product",component:"Field",required:!0},{name:"properties",component:"Field"}]}})}},{key:"produce",value:function(){var e=this.get("product")(),t=this.get("properties");return t&&e.set(t),e}}]),t}(n(a(190)).default);t.default=c},942:function(e,t,a){"use strict";(function(e){var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(943)),l=n(a(49)),i=n(a(29)),o=n(a(33)),u=n(a(10)),s=n(a(11)),c=n(a(15)),d=n(a(13)),f=n(a(19)),h=n(a(16)),p=n(a(18)),m=n(a(17)),v=n(a(234)),y=n(a(91)),b=a(117),g=function(t){function a(){var e,t;(0,u.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,c.default)(this,(e=(0,d.default)(a)).call.apply(e,[this].concat(r))),(0,m.default)((0,p.default)((0,p.default)(t)),"_className","FirebaseStore"),(0,m.default)((0,p.default)((0,p.default)(t)),"_onReorder",function(){var e=(0,o.default)(i.default.mark(function e(a,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._docSet({id:a,doc:n,options:{merge:!0}});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()),t}return(0,h.default)(a,t),(0,s.default)(a,[{key:"_listenToChanges",value:function(){var e=(0,o.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._coll.orderBy("createdAt").onSnapshot(function(e){e.docChanges().forEach(function(e){var a=e.doc.data();"removed"===e.type?t._docs.delete(a.id):t._docs.set(a.id,a)}),t.isLoaded()||setTimeout(function(){t._emitDidLoad()})},function(e){t._emitError(e)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getFirebase",value:function(e){return e.firebase?e.firebase:this._global.firebase}},{key:"_initializeApp",value:function(e){this._fb.apps.length||this._fb.initializeApp({apiKey:e.apiKey,authDomain:e.authDomain,projectId:e.projectId})}},{key:"_init",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._fb=this._getFirebase(t),this._initializeApp(t),this._db=this._fb.firestore(),a={timestampsInSnapshots:!0},this._db.settings(a),this._coll=this._db.collection(t.collection),this._listenToChanges();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_create",value:function(t){(0,f.default)((0,d.default)(a.prototype),"_create",this).call(this,Object.assign({},t,{muteDidLoad:!0})),this._global=e,this.set({schema:{component:"Form",fields:[{name:"firebase",component:"Field"},{name:"apiKey",component:"TextField",required:!0},{name:"authDomain",component:"TextField",required:!0},{name:"projectId",component:"TextField",required:!0},{name:"collection",component:"TextField",required:!0}]}}),void 0!==t.apiKey&&this._init(t)}},{key:"_docSet",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=t.doc,r=t.options,!this.get("apiKey")){e.next=3;break}return e.abrupt("return",this._coll.doc(a).set(n,r));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r,l,o,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fieldValues,n=t.id,r=t.order,l=t.reorder,this._shouldSetToLastOrder(r,l)&&(r=this._numUnarchived()),o=this._getUserId(),u=this._buildDoc({fieldValues:a,id:n,order:r,userId:o}),this._docs.set(u.id,u,void 0,void 0,!0,this._onReorder),e.next=7,this._docSet({id:u.id,doc:u,order:u.order});case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_modifyDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,r,l,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.fieldValues,r=t.archivedAt,l=t.order,o=(0,y.default)(this._docs.get(a)),o=this._setDoc({doc:o,fieldValues:n,archivedAt:r,order:l}),this._docs.set(o.id,o,void 0,void 0,!0,this._onReorder),e.next=6,this._docSet({id:o.id,doc:o,options:{merge:!0}});case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc((0,l.default)({},t,{archivedAt:this._now(),order:b.Reorder.DEFAULT_ORDER})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var a,n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reorder,n=t.order,o=(0,r.default)(t,["reorder","order"]),this._shouldSetToLastOrder(n,a)&&(n=this._numUnarchived()),e.abrupt("return",this._modifyDoc((0,l.default)({},o,{archivedAt:null,order:n})));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_waitForDataToBeLoaded",value:function(){var e=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveAfterLoad();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,f.default)((0,d.default)(a.prototype),"_getDoc",this).call(this,t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,f.default)((0,d.default)(a.prototype),"_getAllDocs",this).call(this,t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),a}(v.default);t.default=g}).call(this,a(46))},95:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(107)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=n(a(56)),m=n(a(950)),v=n(a(51)),y=n(a(325)),b=n(a(159)),g=n(a(235)),_=n(a(119)),F=n(a(118)),k=n(a(122)),w=n(a(345)),E=n(a(350)),C=n(a(96)),S=n(a(962)),x=n(a(351)),O=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Form"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_formSetMSONSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"fields",component:"CollectionField",formFactory:{component:"Factory",product:{component:"SchemaValidatorForm"}}},{name:"form",component:"Field"},{name:"validators",component:"CollectionField",formFactory:{component:"Factory",product:{component:"ValidatorForm"}}},{name:"access",component:"FormField",form:{component:"AccessForm"}},{name:"indexes",component:"Field"},{name:"touched",component:"BooleanField"},{name:"err",component:"Field"},{name:"dirty",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"autoValidate",component:"BooleanField"},{name:"reportUndefined",component:"BooleanField"},{name:"resetOnLoad",component:"BooleanField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"cursor",component:"TextField"},{name:"snapshot",component:"BooleanField"},{name:"mode",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"omitDefaultFields",component:"BooleanField"},{name:"value",component:"Field"},{name:"clear",component:"BooleanField"},{name:"reset",component:"BooleanField"},{name:"fullWidth",component:"BooleanField"},{name:"editable",component:"BooleanField"},{name:"hidden",component:"BooleanField"},{name:"required",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"disabled",component:"BooleanField"},{name:"eachField",component:"Field"},{name:"disableSubmit",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField"},{name:"change",component:"Field"},{name:"clearErrs",component:"BooleanField"}]}})}},{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._componentFillerProps=new w.default,this._fields=new b.default,this._defaultFields=new b.default,this._validators=[],this._clearExtraErrors(),e&&e.omitDefaultFields||(this._addDefaultFields(),this._createDefaultFields()),this._formSetMSONSchema(),this._setDefaults(e,{autoValidate:!1,reportUndefined:!0,resetOnLoad:!0,showArchived:!1}),this._listenForLoad(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForScroll()}},{key:"_setSubmitDisabled",value:function(e){var t=this._getSubmitButton();t&&t.set({disabled:e})}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){e.get("resetOnLoad")&&e.reset(),e._fields.each(function(e){return e.emitLoad()})}}},{key:"_listenForLoad",value:function(){this.on("load",this._handleLoadFactory())}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",function(){e.set({showArchived:!1,searchString:null}),e._fields.each(function(e){return e.emitUnload()})})}},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(t){e._fields.each(function(e){return e.set({showArchived:t})})}}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(t){e._fields.each(function(e){return e.set({searchString:t})})}}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(t){e._fields.each(function(e){e.emit("scroll",t)})}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"isDefaultField",value:function(e){return this._defaultFields.has(e)}},{key:"_addDefaultFields",value:function(){this._defaultFields.set("id",new g.default({name:"id",label:"Id",hidden:!0})),this._defaultFields.set("userId",new g.default({name:"userId",label:"User Id",hidden:!0})),this._defaultFields.set("createdAt",new F.default({name:"createdAt",label:"Created At",hidden:!0})),this._defaultFields.set("updatedAt",new F.default({name:"updatedAt",label:"Updated At",hidden:!0})),this._defaultFields.set("archivedAt",new F.default({name:"archivedAt",label:"Archived At",hidden:!0})),this._defaultFields.set("order",new _.default({name:"order",label:"Order",hidden:!0}))}},{key:"_createDefaultFields",value:function(){var e=this;this._defaultFields.each(function(t){return e.addField(t)})}},{key:"copyFields",value:function(e,t){var a=this,n=[];e._fields.each(function(e){a.isDefaultField(e.get("name"))||(a.addField(t?e.clone():e),n.push(e))}),this._emitChangeToFields(n)}},{key:"cloneFields",value:function(e){this.copyFields(e,!0)}},{key:"elevate",value:function(e){this.copyFields(e),this.set({validators:e.get("validators"),listeners:e.get("listeners")})}},{key:"_clearExtraErrors",value:function(){this._extraErrors=[]}},{key:"_setAccess",value:function(e){this._set("access",(0,m.default)(this._access,e))}},{key:"_emitChangeToFields",value:function(e){this.set({change:e})}},{key:"set",value:function(e){var a=this;void 0!==e.fields&&(e.fields.forEach(function(e){a.addField(e)}),this._emitChangeToFields(e.fields)),(0,c.default)((0,s.default)(t.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0,validators:void 0,access:void 0,value:void 0,clear:void 0,reset:void 0,fullWidth:void 0,editable:void 0,hidden:void 0,required:void 0,out:void 0,disabled:void 0,setForEachField:void 0,useDisplayValue:void 0})),void 0!==e.validators&&(this._validators=[],e.validators.forEach(function(e){a.addValidator(e)})),void 0!==e.value&&this.setValues(e.value),void 0!==e.required&&this.setRequired(e.required),void 0!==e.disabled&&this.setDisabled(e.disabled),void 0!==e.editable&&this.setEditable(e.editable),void 0!==e.hidden&&this.setHidden(e.hidden),void 0!==e.out&&this.setOut(e.out),void 0!==e.snapshot&&this.setSnapshot(e.snapshot),!0===e.clear&&this.clearValues(),!0===e.reset&&this.reset(),void 0!==e.pristine&&this.setDirty(!e.pristine),void 0!==e.err&&this._emitCanOrCannotSubmit(),void 0!==e.access&&this._setAccess(e.access),void 0!==e.fullWidth&&this._setFullWidth(e.fullWidth),void 0!==e.eachField&&this.setForEachField(e.eachField),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),!0===e.clearErrs&&this.clearErrs()}},{key:"_setField",value:function(e){var t=e.get("before"),a=t&&this.hasField(t)?t:void 0,n=e.get("after"),r=n&&this.hasField(n)?n:void 0;this._fields.set(e.get("name"),e,a,r)}},{key:"_handleFieldTouchedFactory",value:function(){var e=this;return function(t){t&&e.set({touched:!0}),e.get("autoValidate")&&e.validate()}}},{key:"_addField",value:function(e){var t=this;this._setField(e),e.on("value",function(a){var n=t._value?t._value:{};n[e.get("name")]=a,t._set("value",n),t.emitChange("value",n),t.get("autoValidate")&&t.validate()}),e.on("touched",this._handleFieldTouchedFactory()),e.on("err",function(e){e&&t.set({err:!0})}),e.on("dirty",function(e){e&&t.set({dirty:!0})}),e.on("click",function(){t.emitChange(e.get("name"))}),e.set({parent:this})}},{key:"addField",value:function(e){e._isField||(e=this.isComponent(e)?new E.default({name:e.get("name"),content:e}):new x.default({name:e.name,properties:Object.assign({},e,{name:void 0})})),e instanceof x.default&&this.hasField(e.get("name"))?this.getField(e.get("name")).set(e.get("properties")):e instanceof C.default&&e.get("elevate")?this.elevate(e.get("form")):this._addField(e)}},{key:"removeField",value:function(e){var t=this.getField(e);this._fields.delete(e),t.destroy()}},{key:"removeFieldsExcept",value:function(e){var t=this;this._fields.each(function(a,n){void 0!==e&&-1!==e.indexOf(n)||t.removeField(n)})}},{key:"removeBlankFields",value:function(){var e=this;this._fields.each(function(t,a){t.isBlank()&&e.removeField(a)})}},{key:"getOne",value:function(e){return"value"===e?this.getValues():(0,c.default)((0,s.default)(t.prototype),"getOne",this).call(this,e)}},{key:"getField",value:function(e){try{return this._fields.get(e)}catch(t){throw new Error("missing field "+e)}}},{key:"hasField",value:function(e){return this._fields.has(e)}},{key:"getValues",value:function(e){var t=this,a={};return e=e||{},this._fields.each(function(n){var r=n.get("name");void 0!==e.in&&e.in!==!!n.get("in")||void 0!==e.out&&e.out!==!!n.get("out")||void 0!==e.blank&&e.blank!==!!n.isBlank()||void 0!==e.default&&e.default!==!!t.isDefaultField(r)||(a[r]=n.get("value"))}),a}},{key:"_validateValuesType",value:function(e){var t=!1;null===e||"object"===(0,l.default)(e)&&!Array.isArray(e)||(t=!0),this._hasTypeError=t}},{key:"setValues",value:function(e){var t=this;this._validateValuesType(e),this._clearExtraErrors(),this._hasTypeError||(null===e?this.clearValues():(0,v.default)(e,function(e,a){t.hasField(a)?t.getField(a).setValue(e):t.get("reportUndefined")&&t._extraErrors.push({field:a,error:"undefined field"})}))}},{key:"clearValues",value:function(){this._fields.each(function(e){return e.clearValue()})}},{key:"clearErrs",value:function(){this.set({err:null}),this._fields.each(function(e){return e.clearErr()})}},{key:"reset",value:function(){this.clearValues(),this.clearErrs(),this.set({pristine:!0}),this.setTouched(!1)}},{key:"_toValidatorProps",value:function(){return this._componentFillerProps.getFillerProps({component:this})}},{key:"_validateWithValidators",value:function(){var e=this;if(this._validators&&this._validators.length>0){var t=new y.default(this._toValidatorProps()).validate(this._validators);0!==t.length&&t.forEach(function(t){e.getField(t.field).setErr(t.error)})}}},{key:"canSubmit",value:function(){return!this.hasErrorForField()&&this.get("dirty")}},{key:"_emitCanOrCannotSubmit",value:function(){var e=this.canSubmit();e&&this._setSubmitDisabled(!1),this.emitChange(e?"canSubmit":"cannotSubmit")}},{key:"validate",value:function(){this.clearErrs(),this._fields.each(function(e){return e.validate()}),this._validateWithValidators(),(this._hasTypeError||this._extraErrors.length>0)&&this.set({err:!0}),this._emitCanOrCannotSubmit()}},{key:"addValidator",value:function(e){this._validators.push(e)}},{key:"setTouched",value:function(e){this.set({touched:e}),this._fields.each(function(t){return t.set({touched:e})})}},{key:"setRequired",value:function(e){this._fields.each(function(t){return t.set({required:e})})}},{key:"setDisabled",value:function(e){this._fields.each(function(t){return t.set({disabled:e})})}},{key:"setEditable",value:function(e){this._fields.each(function(t){return t.set({editable:e})})}},{key:"setHidden",value:function(e){this._fields.each(function(t){return t.set({hidden:e})})}},{key:"setOut",value:function(e){this._fields.each(function(t){return t.set({out:e})})}},{key:"setSnapshot",value:function(e){var t=this;if("restore"===e)this._snapshotFields&&this._snapshotFields.forEach(function(e){t.getField(e.name).set(e)});else{var a=this.mapFields(function(e){return e.get(["name","hidden","required","out","in"])});this._snapshotFields=a}}},{key:"setDirty",value:function(e){this.set({dirty:e}),this._fields.each(function(t){return t.set({dirty:e})})}},{key:"_setFullWidth",value:function(e){this._fields.each(function(t){return t.set({fullWidth:e})})}},{key:"clone",value:function(){var e=this.mapFields(function(e){return e.clone()}),t={},a=this._canCloneFast();a&&(t={defaultProps:{fields:e},excludeProps:["fields"]});var n=this._clone(t);return a||n.set({fields:e}),n}},{key:"hasSetErrors",value:function(){return this._hasTypeError||this._extraErrors.length>0}},{key:"getErrs",value:function(){var e=[];return this._hasTypeError?e.push({error:"must be an object"}):(this._extraErrors.length>0&&(e=e.concat(this._extraErrors)),this._fields.each(function(t){var a=t.getErr();a&&e.push({field:t.get("name"),error:a})})),e}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"hasErrorForTouchedField",value:function(){var e=!1;return this._fields.each(function(t){if(t.get("touched")&&t.getErr())return e=!0,!1}),e}},{key:"hasErrorForField",value:function(){var e=!1;return this._fields.each(function(t){if(t.getErr())return e=!0,!1}),e}},{key:"_getSubmitButton",value:function(){var e=null;return this.eachField(function(t){if(t instanceof k.default&&"submit"===t.get("type"))return e=t,!1}),e}},{key:"_emitClickOnButton",value:function(e){e.emitClick()}},{key:"submit",value:function(){var e=this._getSubmitButton();e&&this._emitClickOnButton(e)}},{key:"getFields",value:r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._fields.values(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"isBlank",value:function(){var e=!0;return this._fields.each(function(t){if(!t.isBlank())return e=!1,!1}),e}},{key:"eachField",value:function(e){this._fields.each(function(t,a,n){return e(t,a,n)})}},{key:"mapFields",value:function(e){return this._fields.map(function(t,a,n){return e(t,a,n)})}},{key:"buildSchemaForm",value:function(e,a){(0,c.default)((0,s.default)(t.prototype),"buildSchemaForm",this).call(this,e,a);var n=e.getField("fields").get("formFactory"),r=n.get("product");n.set({product:function(){var e=r();return e.set({compiler:a}),e}});var l=e.setValues;e.setValues=function(t){var n=[];(t.fields&&t.fields.forEach(function(e){e.name&&n.push(e.name)}),t.component)&&a.newComponent({component:t.component}).eachField(function(e){return n.push(e.get("name"))});e.getField("access").getForm().set({fieldNames:n}),l.apply(this,arguments)}}},{key:"getValue",value:function(e){return this.getField(e).getValue()}},{key:"setForEachField",value:function(e){this._fields.each(function(t){return t.set(e)})}},{key:"setUseDisplayValue",value:function(e){this.setForEachField({useDisplayValue:e})}},{key:"destroy",value:function(){(0,c.default)((0,s.default)(t.prototype),"destroy",this).call(this),this.eachField(function(e){return e.destroy()})}},{key:"setFieldErr",value:function(e,t){this.getField(e).setErr(t)}},{key:"toErr",value:function(){return new S.default({form:this})}},{key:"setFieldErrAndThrow",value:function(e,t){throw this.setFieldErr(e,t),this.toErr()}}]),t}(p.default);t.default=O},96:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","FormField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"form",component:"Field",required:!0},{name:"pristine",component:"BooleanField"},{name:"elevate",component:"BooleanField"}]}})}},{key:"_listenToForm",value:function(e){var t=this;this._bubbleUpEvents(e,["dirty","touched"]),e.on("value",function(){return t._set("value",t.getValues())})}},{key:"_setForm",value:function(e){var t=this.get("form");t&&t.removeAllListeners(),this._set("form",e),this._listenToForm(e)}},{key:"set",value:function(e){var a=Object.assign({},e,{form:void 0});(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,a),void 0!==e.form&&this._setForm(e.form),null===e.err&&this._setOnForm({err:null}),this._form&&this._setOn(this._form,a,["value","dirty","disabled","editable","touched","pristine","useDisplayValue","fullWidth"])}},{key:"getOne",value:function(e){var a=this._getFrom(this._form,e,["dirty","disabled","editable","touched","pristine"]);return void 0!==a?a:(0,u.default)((0,o.default)(t.prototype),"getOne",this).call(this,e)}},{key:"validate",value:function(){var e=this.get("form");e.validate(),e.hasSetErrors()?this.setErr(e.getErrs()):((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.hasErr()&&e.hasErr()&&this.setErr(e.getErrs()))}},{key:"getForm",value:function(){return this.get("form")}},{key:"getValues",value:function(){return this.get("form").get("value")}},{key:"setValues",value:function(e){this.get("form").setValues(e)}},{key:"getField",value:function(e){return this.get("form").getField(e)}},{key:"isBlank",value:function(){return this.get("form").isBlank()}},{key:"_setOnForm",value:function(e){this.get("form").set(e)}}]),t}(n(a(45)).default);t.default=f},962:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(15)),i=n(a(13)),o=n(a(16)),u=function(e){function t(e){var a,n=e.form;return(0,r.default)(this,t),(a=(0,l.default)(this,(0,i.default)(t).call(this,JSON.stringify({message:"invalid input",error:n.getErrs()})))).name="FormErr",a}return(0,o.default)(t,e),t}((0,n(a(963)).default)(Error));t.default=u},966:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(95)),h=n(a(45)),p=n(a(96)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","AccessRolesField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,Object.assign({},e,{allowScalar:!0}))}}]),t}(h.default),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","AccessNode"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.addField(new m({name:"create",label:"Create"})),this.addField(new m({name:"read",label:"Create"})),this.addField(new m({name:"update",label:"Create"})),this.addField(new m({name:"archive",label:"Create"}))}}]),t}(f.default),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","AccessFields"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}})}},{key:"set",value:function(e){var a=this;(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&(this.removeFieldsExcept(),e.fieldNames.forEach(function(e){a.addField(new p.default({name:e,form:new v}))}))}}]),t}(f.default),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","FormAccess"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}}),this.addField(new p.default({name:"form",label:"Form",form:new v})),this.addField(new p.default({name:"fields",label:"Fields",form:new y}))}},{key:"set",value:function(e){(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&this.getField("fields").getForm().set({fieldNames:e.fieldNames})}}]),t}(f.default);t.default=b},967:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(95)),h=n(a(69)),p=n(a(96)),m=n(a(358)),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ValidatorError"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.addField(new h.default({name:"field",label:"Field",required:!0})),this.addField(new h.default({name:"error",label:"error",required:!0}))}}]),t}(f.default),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","FormValidator"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.addField(new m.default({name:"where",label:"Where",required:!0})),this.addField(new p.default({name:"error",label:"Error",form:new v,required:!0}))}}]),t}(f.default);t.default=y},968:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","GetDoc"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getDoc({where:this.get("where")}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},969:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","GetDocs"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getAllDocs({where:this.get("where")}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},970:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=n(a(37)),m=n(a(203)),v=n(a(219)),y=n(a(236)),b=n(a(233)),g=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Iterator"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"iterator",component:"Field",required:!0},{name:"return",component:"Field",required:!0}]}})}},{key:"_getProp",value:function(e,t){return(0,m.default)(e,t)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n,l,i=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getProp(t,this.get("iterator")),n=(0,v.default)(t),l=new b.default(t),e.abrupt("return",(0,y.default)(a,function(e){return n.item=e,l.setProps(n),l.fillAll(i.get("return"))}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=g},971:function(e,t,a){"use strict";(function(e){var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(t){function a(){var e,t;(0,i.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,u.default)(this,(e=(0,s.default)(a)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(t)),"_className","LocalStorageStore"),t}return(0,d.default)(a,t),(0,o.default)(a,[{key:"_loadDocs",value:function(e){var t=this,a=this._localStorage.getItem(e);null!==a&&JSON.parse(a).forEach(function(e){t._docs.set(e.id,e)})}},{key:"_getLocalStorage",value:function(){return this._global.window.localStorage}},{key:"_create",value:function(t){(0,c.default)((0,s.default)(a.prototype),"_create",this).call(this,t),this._global=e,this._localStorage=this._getLocalStorage(),this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}}),this._loadDocs(t&&t.storeName)}},{key:"_saveDocs",value:function(){var e=this._docs.map(function(e){return e});this._localStorage.setItem(this.get("storeName"),JSON.stringify(e))}},{key:"_doAndSave",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,this._saveDocs(),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave(function(){return(0,c.default)((0,s.default)(a.prototype),"_createDoc",n).call(n,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave(function(){return(0,c.default)((0,s.default)(a.prototype),"_updateDoc",n).call(n,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave(function(){return(0,c.default)((0,s.default)(a.prototype),"_archiveDoc",n).call(n,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var n=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave(function(){return(0,c.default)((0,s.default)(a.prototype),"_restoreDoc",n).call(n,t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),a}(n(a(234)).default);t.default=p}).call(this,a(46))},972:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Login",component:"Form",fields:[{component:"EmailField",name:"username",label:"Email",required:!0,fullWidth:!0},{component:"PasswordField",name:"password",label:"Password",required:!0,fullWidth:!0},{component:"ButtonField",name:"submit",label:"Log In",type:"submit",icon:"PlayArrow"},{component:"ButtonField",name:"signUp",label:"Sign Up",icon:"CheckCircle"},{component:"ButtonField",name:"forgotPassword",label:"Password?",icon:"VpnKey"},{component:"ButtonField",name:"contact",label:"Contact",icon:"LiveHelp"}],listeners:[{event:"submit",actions:[{component:"LogInToAppAndRedirect"}]}]}},973:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","LogInToApp"),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._globals.get("appId"),n=t.component.get("value"),e.prev=2,e.next=5,this._registrar.client.user.logInToApp({appId:a,username:n.username,password:n.password});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),t.component.getField("password").setErr("invalid email or password"),e.t0;case 11:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=h},974:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"LogInToAppAndRedirect",component:"Action",actions:[{component:"LogInToApp"},{if:{globals:{redirectAfterLogin:null}},component:"Redirect",path:"/"},{component:"Action",if:{globals:{redirectAfterLogin:{$ne:null}}},actions:[{component:"Redirect",path:"{{globals.redirectAfterLogin}}"},{component:"Set",name:"globals.redirectAfterLogin",value:null}]}]}},975:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","LogOutOfApp"),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_logOutOfApp",value:function(){return this._registrar.client.user.logOutOfApp()}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._logOutOfApp();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=h},976:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(49)),l=n(a(10)),i=n(a(11)),o=n(a(15)),u=n(a(13)),s=n(a(19)),c=n(a(16)),d=n(a(18)),f=n(a(17)),h=n(a(56)),p=n(a(51)),m=n(a(977)),v=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,d.default)((0,d.default)(a)),"_className","Menu"),a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"CollectionField",formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"path",component:"TextField",label:"Path",required:!0},{name:"label",component:"TextField",label:"Label",required:!0},{name:"content",component:"Field",label:"Content",required:!0},{name:"fullScreen",component:"BooleanField",label:"Full Screen"},{name:"roles",component:"RolesField",label:"Roles"},{name:"hidden",component:"BooleanField",label:"Hidden"}]}}}]}})}},{key:"_toRegExpPath",value:function(e){var t=[],a=e.replace(/:([^\/])*/g,function(e){return t.push(e.substr(1)),"([^\\/]*)"});return{paramNames:t,regExpPath:new RegExp("^"+a+"$")}}},{key:"_indexItemByPath",value:function(e){var t=this,a={};e.path&&(a=this._toRegExpPath(e.path)),this._itemsByPath[e.path]=(0,r.default)({},e,a),e.items&&e.items.forEach(function(e){return t._indexItemByPath(e)})}},{key:"_indexByPath",value:function(){var e=this;this._items.forEach(function(t){return e._indexItemByPath(t)})}},{key:"_indexParentByPath",value:function(e,t){var a=this;this._parentsByPath[e.path]=t,e.items&&e.items.forEach(function(t){return a._indexParentByPath(t,e)})}},{key:"_indexParentsByPath",value:function(){var e=this;this._items.forEach(function(t){return e._indexParentByPath(t)})}},{key:"set",value:function(e){(0,s.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.items&&(this._itemsByPath={},this._indexByPath(),this._parentsByPath={},this._indexParentsByPath())}},{key:"getItemAndParsePath",value:function(e){var t=null,a={};return(0,p.default)(this._itemsByPath,function(n){if(n.path){var r=e.match(n.regExpPath);if(r)return t=n,n.paramNames.forEach(function(e,t){return a[e]=r[t+1]}),!1}}),{item:t,params:a}}},{key:"getItem",value:function(e){return this.getItemAndParsePath(e).item}},{key:"toRoute",value:function(e){var t=e.parameters,a=e.queryString,n=e.hash;return{parameters:t,query:m.default.parse(a),hash:n}}},{key:"getParent",value:function(e){return this._parentsByPath[e]}},{key:"getFirstItem",value:function(){return this._items[0]}}]),t}(h.default);t.default=v},98:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(95)).default;t.default=r},980:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","MoneyField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e);var a=e.prefix,n=e.thousandsSeparatorSymbol,r=e.allowDecimal,l=e.decimalLimit;this.set({prefix:void 0!==a?a:"$",thousandsSeparatorSymbol:void 0!==n?n:",",allowDecimal:void 0===r||r,decimalLimit:void 0!==l?l:2})}}]),t}(n(a(119)).default);t.default=f},981:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0}]}}}},982:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",type:"password",minLength:8,maxLength:30,validators:[{where:{value:{$not:{$regex:"\\d"}}},error:"must contain a number"},{where:{value:{$not:{$regex:"[a-zA-Z]"}}},error:"must contain a letter"},{where:{value:{$regex:"[^a-zA-Z0-9\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\_\\+]"}},error:"contains an invalid character"}]}},983:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CompositeField",schema:{component:"Form",fields:[{name:"label",docLevel:null}]},fields:[{name:"firstName",label:"First Name",component:"PersonNameField",block:!1},{name:"lastName",label:"Last Name",component:"PersonNameField"}]}},984:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:40}},985:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=n(a(237)),h=n(a(236)),p=n(a(986)),m=[/./,/./,/./,/./],v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","PhoneField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_stringToArrayMask",value:function(e){return(0,h.default)(e,function(e){return"."===e?/\d/:e})}},{key:"_getMask",value:function(e){if(e){var t=this.constructor.getCountriesByCode();if("+"!==e[0])return this.get("defaultMask");var a=t[e[1]];if(a||(a=t[[e[1],e[2]].join("")]),a||(a=t[[e[1],e[2],e[3]].join("")]),a)return this._stringToArrayMask(a.format)}return m}},{key:"_create",value:function(e){var a=this;(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"defaultMask",component:"TextField",label:"Default Mask",docLevel:"basic"}]}}),this._setDefaults(e,{mask:function(e){return a._getMask(e)},defaultMask:this._stringToArrayMask("(...) ...-....")})}},{key:"toConformedValue",value:function(e){return this._getMask(e)!==m?(0,u.default)((0,o.default)(t.prototype),"toConformedValue",this).call(this,e):e}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.defaultMask&&(a.defaultMask=this._formatMask(a.defaultMask)),void 0!==a.value&&(a.value=this.toConformedValue(a.value)),(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,a)}},{key:"_conformsToMask",value:function(e,t){var a=!0;return t.forEach(function(t,n){t instanceof RegExp?t.test(e[n])||(a=!1):e[n]!==t&&(a=!1)}),a}},{key:"validate",value:function(){if((0,u.default)((0,o.default)(t.prototype),"validate",this).call(this),!this.hasErr()&&!this.isBlank()){var e=this.getValue(),a=this._getMask(e);a!==m&&this._conformsToMask(e,a)||this.setErr("invalid")}}}],[{key:"getCountriesByCode",value:function(){if(!this.constructor._countriesByCode){this.constructor._countriesByCode={};var e=this.constructor._countriesByCode;p.default.allCountries.forEach(function(t){return e[t.dialCode]=t})}return this.constructor._countriesByCode}}]),t}(f.default);t.default=v},987:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextField",maxLength:15}},988:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:60}},989:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ReCAPTCHAField"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({name:"captcha",schema:{component:"Form",fields:[{name:"name",required:!1},{name:"label",docLevel:null}]}}),this._setDefaults(e,{required:!0})}}]),t}(n(a(45)).default);t.default=f},990:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(18)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,c.default)((0,c.default)(a)),"_className","ReCAPTCHAVault"),a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"secretKey",component:"TextField",required:!0}]}})}}]),t}(n(a(362)).default);t.default=f},991:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecordEditor",component:"Form",schema:{component:"Form",fields:[{name:"baseForm",component:"Field",required:!0},{name:"label",component:"TextField"},{name:"store",component:"Field"},{name:"storeWhere",component:"WhereField"},{name:"preview",component:"BooleanField"},{name:"hideCancel",component:"BooleanField"}]},componentToWrap:"{{baseForm}}",fields:[{component:"ButtonField",name:"edit",label:"Edit",icon:"Edit",hidden:!0},{component:"ButtonField",type:"submit",name:"save",label:"Save",icon:"Save"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel",hidden:!0}],listeners:[{event:"load",actions:[{component:"Set",name:"isLoading",value:!0},{component:"Action",if:{storeWhere:{$ne:null}},actions:[{component:"GetDoc",store:"{{store}}",where:"{{storeWhere}}"},{component:"SetFromDoc",if:{arguments:{$ne:null}},name:"value",doc:"{{arguments}}"}]},{component:"Set",name:"pristine",value:!0},{if:{preview:{$ne:!1}},component:"Emit",event:"read"},{if:{preview:!1},component:"Emit",event:"edit"},{component:"Set",name:"isLoading",value:!1}]},{event:"read",actions:[{component:"Set",name:"mode",value:"read"},{component:"Set",name:"editable",value:!1},{component:"Set",name:"component",value:{"fields.save.hidden":!0,"fields.edit.hidden":!1,"fields.cancel.hidden":!0}},{component:"Emit",event:"didRead"}]},{event:"edit",actions:[{component:"Set",name:"mode",value:"update"},{component:"Set",name:"editable",value:!0},{component:"Set",name:"component",value:{"fields.save.hidden":!1,"fields.save.disabled":!0,"fields.edit.hidden":!0}},{if:{hideCancel:{$ne:!0}},component:"Set",name:"fields.cancel.hidden",value:!1},{component:"Emit",event:"didEdit"}]},{event:"canSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!1},{component:"Emit",event:"didCanSubmit"}]},{event:"cannotSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!0},{component:"Emit",event:"didCannotSubmit"}]},{event:"save",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Set",name:"pristine",value:!0},{component:"Snackbar",message:"{{label}} saved"},{if:{preview:{$ne:!1}},component:"Emit",event:"load"},{component:"Emit",event:"didSave"}]},{event:"cancel",actions:[{component:"Emit",event:"load"},{component:"Emit",event:"didCancel"}]},{event:"store.updateDoc",actions:[{component:"SetFromDoc",name:"value",doc:"{{arguments.value}}"},{component:"Set",name:"fields.save.disabled",value:!0}]}]}},992:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecordList",component:"Form",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"label",component:"TextField",required:!0},{name:"store",component:"Field"}]},fields:[{name:"{{name}}",label:"{{label}}",component:"CollectionField",hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}"},store:"{{store}}"}]}},993:function(e,t,a){"use strict";var n=a(349),r=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(29)),i=r(a(33)),o=r(a(10)),u=r(a(11)),s=r(a(15)),c=r(a(13)),d=r(a(19)),f=r(a(16)),h=r(a(18)),p=r(a(17)),m=r(a(352)),v=r(a(68)),y=r(a(353)),b=r(a(34)),g=n(a(117)),_=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,h.default)((0,h.default)(a)),"_className","RecordStore"),a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._uberUtils=y.default,this._registrar=b.default,this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}})}},{key:"set",value:function(e){(0,d.default)((0,c.default)(t.prototype),"set",this).call(this,e),this._clearCache()}},{key:"_tryAndHandleError",value:function(){var e=(0,i.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_request",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.promiseFactory,r=this._globals.get("appId"),e.prev=2,e.next=5,n(r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),a?this._uberUtils.setFormErrorsFromAPIError(e.t0,a):this._uberUtils.displayError(e.t0.toString()),e.t0;case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o,u,s=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.form,n=t.fieldValues,r=t.order,i=t.reorder,this._clearCache(),!this._shouldSetToLastOrder(r,i)){e.next=8;break}return e.next=5,this._reorder({form:a});case 5:o=e.sent,r=o.lastOrder,n=Object.assign({},n,{order:r});case 8:return e.next=10,this._request({form:a,promiseFactory:function(e){return s._registrar.client.record.create({appId:e,componentName:s.get("storeName"),fieldValues:n,order:r})}});case 10:return u=e.sent,e.abrupt("return",u.data.createRecord);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_clearCache",value:function(){this._cachedQueries={}}},{key:"_inCache",value:function(e){return!!this._cachedQueries[JSON.stringify(e)]}},{key:"_addToCache",value:function(e){this._cachedQueries[JSON.stringify(e)]=!0}},{key:"_getShowArchivedWhere",value:function(e){return null===e?null:e?{archivedAt:{$ne:null}}:{archivedAt:null}}},{key:"_getAllDocs",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,o,u,s,c,d,f,h=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.where,r=t.showArchived,o=t.after,u=t.first,s=t.before,c=t.last,d=t.order,f=this._getShowArchivedWhere(r),n=v.default.combineWheres(f,n,this.get("where")),e.abrupt("return",this._request({form:a,promiseFactory:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={appId:t,componentName:h.get("storeName"),asArray:!0,where:n,after:o,first:u,before:s,last:c,order:d},h._inCache(a)||(h._addToCache(a),a.bypassCache=!0),e.next=4,h._registrar.client.record.getAll(a);case 4:return r=e.sent,e.abrupt("return",r.data.records);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_reorder",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o,u,s,c,d,f,h,p,m,v,y,b,_,F;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.form,n=t.id,r=t.order,i=!0,o={first:this.constructor.ITEMS_PER_PAGE_DEFAULT,order:[["order","asc"]],where:this.get("where")},u=[],s=function(e,t){e.id!==n&&u.push({id:e.id,order:t})},c=0,d=null;case 7:if(!i){e.next=16;break}return e.next=10,this.getAllDocs(o);case 10:for(f=e.sent,h=0;h<f.edges.length;h++)p=f.edges[h],m=g.default.reorderItem(p.node,n,r,c,d,s),c=m.i,d=m.destinationKey;o.after=f.pageInfo.endCursor,i=f.pageInfo.hasNextPage,e.next=7;break;case 16:if(!(u.length>0)){e.next=27;break}this._clearCache(),v=0;case 19:if(!(v<u.length)){e.next=27;break}return y=u[v],b=y.id,_=y.order,F={},e.next=24,this._requestUpdate({form:a,id:b,order:_,fieldValues:F});case 24:v++,e.next=19;break;case 27:return e.abrupt("return",{lastOrder:c});case 28:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_requestUpdate",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o,u=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.fieldValues,i=t.order,e.next=3,this._request({form:a,promiseFactory:function(e){return u._registrar.client.record.update({appId:e,componentName:u.get("storeName"),id:n,fieldValues:r,order:i})}});case 3:return o=e.sent,e.abrupt("return",o.data.updateRecord);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.form,n=t.id,r=t.fieldValues,i=t.order,!t.reorder){e.next=4;break}return e.next=4,this._reorder({form:a,id:n,order:i});case 4:return e.abrupt("return",this._requestUpdate({form:a,id:n,fieldValues:r,order:i}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.where,e.next=3,this._request({form:a,promiseFactory:function(e){return o._registrar.client.record.get({appId:e,componentName:o.get("storeName"),id:n,where:r})}});case 3:return i=e.sent,e.abrupt("return",i.data.record);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getDoc(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=!1,!a){e.next=15;break}return e.prev=3,e.next=6,this._getDoc({id:a});case 6:n=!0,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(3),"GraphQL error: record not found"!==e.t0.message){e.next=14;break}e.next=15;break;case 14:throw e.t0;case 15:if(!n){e.next=19;break}return e.abrupt("return",this.updateDoc(t));case 19:return e.abrupt("return",this.createDoc(t));case 20:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.reorder,this._clearCache(),e.next=4,this._request({form:a,promiseFactory:function(e){return o._registrar.client.record.archive({appId:e,componentName:o.get("storeName"),id:n})}});case 4:return i=e.sent,r&&this._updateDoc({form:a,id:n,order:g.Reorder.DEFAULT_ORDER,reorder:!0,fieldValues:{}}),e.abrupt("return",i.data.archiveRecord);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,i.default)(l.default.mark(function e(t){var a,n,r,i,o,u,s=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.order,i=t.reorder,this._clearCache(),e.next=4,this._request({form:a,promiseFactory:function(e){return s._registrar.client.record.restore({appId:e,componentName:s.get("storeName"),id:n})}});case 4:if(o=e.sent,!this._shouldSetToLastOrder(r,i)){e.next=11;break}return e.next=8,this._reorder({form:a,id:n});case 8:return u=e.sent,e.next=11,this._updateDoc({form:a,id:n,fieldValues:{},order:u.lastOrder,reorder:!1});case 11:return e.abrupt("return",o.data.restoreRecord);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(m.default);t.default=_,(0,p.default)(_,"ITEMS_PER_PAGE_DEFAULT",50)},994:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecoverPassword",component:"Form",schema:{component:"Form",fields:[{name:"action",component:"Field",label:"Action"}]},fields:[{name:"email",component:"EmailField",label:"Email",required:!0}],listeners:[{event:"createRecord",actions:[{component:"RequestPasswordReset"},"{{action}}"]}]}},995:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecoverPasswordEditor",component:"RecoverPassword",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"LockOpen"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"reset",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Please expect an email shortly"},{component:"Redirect",path:"/"}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]}},996:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","Redirect"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.redirect(this.get("path"));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p},997:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=n(a(37)),m=n(a(51)),v=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","RedirectByRole"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"routes",component:"Field",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(){var t,a=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.get("routes"),(0,m.default)(t,function(e){if(!e.roles||a._registrar.client.user.hasRole(e.roles))return a._globals.redirect(e.path),!1});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=v},998:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10)),l=n(a(11)),i=n(a(15)),o=n(a(13)),u=n(a(19)),s=n(a(16)),c=n(a(69)),d=n(a(68)),f=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"set",value:function(e){var a=Object.assign({},e);void 0===a.value||a.value instanceof RegExp||(a.value=d.default.toRegExp(a.value)),(0,u.default)((0,o.default)(t.prototype),"set",this).call(this,a)}}]),t}(c.default);t.default=f},999:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(29)),l=n(a(33)),i=n(a(10)),o=n(a(11)),u=n(a(15)),s=n(a(13)),c=n(a(19)),d=n(a(16)),f=n(a(18)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,f.default)((0,f.default)(a)),"_className","RequestPasswordReset"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._setDefaults(e,{layer:"backEnd"})}},{key:"_requestReset",value:function(e){return this._registrar.resetPassword.requestReset(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestReset({context:t.context,component:t.component}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(37)).default);t.default=p}},[[403,2,1]]]);
//# sourceMappingURL=main.360e3460.chunk.js.map