(window["webpackJsonpmson-react"]=window["webpackJsonpmson-react"]||[]).push([[0],{107:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","FormField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"form",component:"Field",required:!0},{name:"pristine",component:"BooleanField"},{name:"elevate",component:"BooleanField"}]}}),this._listenForLoad()}},{key:"_listenToForm",value:function(e){var t=this;this._bubbleUpEvents(e,["dirty","touched"]),e.on("value",(function(){return t._set("value",t.getValues())}))}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){e.get("form").emitLoad()}}},{key:"_listenForLoad",value:function(){this.on("load",this._handleLoadFactory())}},{key:"_setForm",value:function(e){var t=this.get("form");t&&t.removeAllListeners(),this._set("form",e),this._listenToForm(e)}},{key:"set",value:function(e){var a=Object.assign({},e,{form:void 0});(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,a),void 0!==e.form&&this._setForm(e.form),null===e.err&&this._setOnForm({err:null}),this._form&&this._setOn(this._form,a,["value","dirty","disabled","editable","touched","pristine","useDisplayValue","fullWidth"])}},{key:"getOne",value:function(e){var a=this._getFrom(this._form,e,["dirty","disabled","editable","touched","pristine"]);return void 0!==a?a:(0,u.default)((0,s.default)(t.prototype),"getOne",this).call(this,e)}},{key:"validate",value:function(){var e=this.get("form");e.validate(),e.hasSetErrors()?this.setErr(e.getErrs()):((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.hasErr()&&e.hasErr()&&this.setErr(e.getErrs()))}},{key:"getForm",value:function(){return this.get("form")}},{key:"getValues",value:function(){return this.get("form").get("value")}},{key:"setValues",value:function(e){this.get("form").setValues(e)}},{key:"getField",value:function(e){return this.get("form").getField(e)}},{key:"isBlank",value:function(){return this.get("form").isBlank()}},{key:"_setOnForm",value:function(e){this.get("form").set(e)}}]),t}(n(a(51)).default);t.default=f},111:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonField",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"DateField",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FormField",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"CollectionField",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"IdField",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"IntegerField",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"ListField",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"NumberField",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"SelectField",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TextField",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TextListField",{enumerable:!0,get:function(){return v.default}}),t.PersonNameField=t.PersonFullNameField=t.PasswordField=t.EmailField=void 0;var r=n(a(42)),l=n(a(152)),i=n(a(147)),o=n(a(51)),s=n(a(107)),u=n(a(153)),c=n(a(246)),d=n(a(349)),f=n(a(120)),h=n(a(148)),p=n(a(145)),m=n(a(96)),v=n(a(249)),y=r.default.getCompiledComponent.bind(r.default),b=y("EmailField");t.EmailField=b;var g=y("PersonFullNameField");t.PersonFullNameField=g;var _=y("PersonNameField");t.PersonNameField=_;var F=y("PasswordField");t.PasswordField=F},120:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(15)),o=n(a(18)),s=n(a(13)),u=n(a(16)),c=n(a(14)),d=n(a(19)),f=n(a(17)),h=n(a(335)),p=n(a(84)),m=function(e){function t(e){var a;return(0,l.default)(this,t),a=(0,i.default)(this,(0,c.default)(t).call(this,e)),(0,f.default)((0,o.default)(a),"_className","ListField"),a.get("startWithField")&&a._createNewField(),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._nextFieldName=0,this.set({schema:{component:"Form",fields:[{name:"allowDelete",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"fieldFactory",component:"Field",required:!0},{name:"allowScalar",component:"BooleanField"},{name:"singularLabel",component:"TextField",label:"Singular Label",docLevel:"basic"},{name:"autoCreateFields",component:"BooleanField"},{name:"startWithField",component:"BooleanField"},{name:"canDeleteEmpty",component:"BooleanField"},{name:"hideDeleteButton",component:"BooleanField"}]}}),this._setDefaults(e,{allowDelete:!0,startWithField:e.fieldFactory,canDeleteEmpty:!0})}}]),(0,s.default)(t,[{key:"_createNewField",value:function(){this.createField()}},{key:"_getValue",value:function(){var e=[];return this.eachField((function(t){var a=t.getValue();a&&e.push(a)})),e.length>0?e:null}},{key:"_isLastFieldBlank",value:function(){return this._fields.last().isBlank()}},{key:"_removeField",value:function(e){if(1===this._fields.length())e.clearValue();else{var t=e.get("name");this._removeFieldByName(t),e.destroy()}this.emitChangeToField(e),this._calcValue(),this.get("autoCreateFields")&&!this._isLastFieldBlank()&&this.canAddMoreFields()&&this.createField()}},{key:"_hasField",value:function(e){return this._fields.has(e)}},{key:"_clearFieldIfExists",value:function(e){this._hasField(e)&&this._getField(e).clearValue()}},{key:"_shouldRemoveField",value:function(){return!0}},{key:"_getField",value:function(e){return this._fields.get(e)}},{key:"_removeFieldByName",value:function(e){return this._fields.delete(e)}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",(function(e){t._calcValue()}))}},{key:"_getNextFieldName",value:function(){return this._nextFieldName++}},{key:"_handleDirtyFactory",value:function(){var e=this;return function(t){t&&e.set({dirty:!0})}}},{key:"createField",value:function(){var e=this,t=this._getNextFieldName(),a=this._newField(t),n=function(){e._removeField(a)};return a.on("delete",n),a.on("dirty",this._handleDirtyFactory()),this._onFieldCreated(a,n),this._addField(a,t),a}},{key:"_getOrCreateField",value:function(e){return this._hasField(e)?this._getField(e):this.createField()}},{key:"_calcValue",value:function(){this.set({dirty:!0}),this._value=this._getValue(),this.emitChange("value",this._value)}},{key:"_listenForChangesToField",value:function(e){this._bubbleUpTouches(e)}},{key:"_isLastField",value:function(e){return e.get("name")===this._fields.lastKey()}},{key:"_cleanUpNextFields",value:function(e){var t=null===e?this._fields.firstKey():this._fields.nextKey(e);if(null!==t){var a=!0,n=!0,r=!1,l=void 0;try{for(var i,o=this._fields.values(t)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;a||!this._shouldRemoveField(s)?(s.clearValue(),a=!1):this._removeField(s)}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}}}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var a=this;(0,d.default)((0,c.default)(t.prototype),"_setValue",this).call(this,e),this._validateValueType(e);var n=null;if(!this._hasTypeError){var r=this._fields.values(),l=null;Array.isArray(e)?l=e:this.get("allowScalar")&&(l=[e]),null!==l&&l.forEach((function(e){var t=r.next().value;t||(t=a.createField()),t.setValue(e),n=t.get("name")}))}this._cleanUpNextFields(n)}},{key:"_setDirty",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_setDirty",this).call(this,e),this.eachField((function(t){return t.set({dirty:e})}))}},{key:"setTouched",value:function(e){(0,d.default)((0,c.default)(t.prototype),"setTouched",this).call(this,e),this.eachField((function(t){return t.setTouched(e)}))}},{key:"set",value:function(e){(0,d.default)((0,c.default)(t.prototype),"set",this).call(this,e),void 0!==e.block&&this.eachField((function(t){return t.set({block:e.block})}))}},{key:"validate",value:function(){this.clearErr(),(0,d.default)((0,c.default)(t.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var a=!0,n=!1,r=void 0;try{for(var l,i=this._fields.values()[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var o=l.value;o.validate(),o.hasErr()&&e.push({field:o.get("name"),error:o.getErr()})}}catch(h){n=!0,r=h}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}var s=this.getValue();if(s){var u=this.get("minSize"),f=this.get("maxSize");null!==u&&s.length<u?e.push({error:"".concat(u," or more")}):null!==f&&s.length>f&&e.push({error:"".concat(f," or less")})}}e.length>0&&this.setErr(e)}},{key:"canAddMoreFields",value:function(e){var t=this.get("maxSize"),a=this.getValue(),n=a?a.length:0;return e&&n++,!(null!==t&&a&&n>=t)}},{key:"produce",value:function(){return this.get("fieldFactory").produce()}},{key:"_newField",value:function(e){var t=this.produce();return t.set((0,r.default)({name:e},this.get(["required","block","fullWidth","useDisplayValue","editable"]))),t}},{key:"_clearFields",value:function(){this._fields.clear(),this._nextFieldName=0}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?p.default.toSingular(this.get("label")):null}}]),t}(h.default);t.default=m},121:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(95)).default;t.default=r},144:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(232)).default;t.default=r},145:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(752)),h=n(a(117)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","SelectField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"},{name:"multiple",component:"BooleanField"},{name:"removeIfNotInList",component:"BooleanField"},{name:"autocomplete",component:"BooleanField"}]}}),this._setDefaults(e,{ensureInList:!0,multiple:!1,removeIfNotInList:!0,autocomplete:!0})}},{key:"_setProperty",value:function(e,a){(0,u.default)((0,s.default)(t.prototype),"_setProperty",this).call(this,e,a),"multiple"===e&&this.set({allowScalar:!a})}},{key:"getOne",value:function(e){return"value"===e&&this.isValueBlank(this._value)?null:(0,u.default)((0,s.default)(t.prototype),"getOne",this).call(this,e)}},{key:"getOptionLabel",value:function(e){var t=null;return this._options&&this._options.forEach((function(a){a.value===e&&(t=a.label)})),t}},{key:"validate",value:function(){var e=this;if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.isBlank()&&this.get("ensureInList")){var a=this.get("value"),n=this.get("multiple")?a:[a],r=[];n.forEach((function(t){null===e.getOptionLabel(t)&&r.push({error:"".concat(t," is not an option")})})),r.length>0&&this.setErr(r)}}},{key:"_setValue",value:function(e){var a=this;if(this.get("removeIfNotInList")&&e){e=(0,h.default)(e);var n=this.get("multiple")?e:[e],r=[];n.forEach((function(e,t){null!==a.getOptionLabel(e)&&r.push(e)})),(0,u.default)((0,s.default)(t.prototype),"_setValue",this).call(this,this.get("multiple")?r:r[0])}else(0,u.default)((0,s.default)(t.prototype),"_setValue",this).call(this,e)}},{key:"getDisplayValue",value:function(){var e=this,t=this.get("value");return this.isBlank()?t:this.get("multiple")?t.map((function(t){return e.getOptionLabel(t)})):this.getOptionLabel(t)}},{key:"isValueBlank",value:function(e){return!!(0,u.default)((0,s.default)(t.prototype),"isValueBlank",this).call(this,e)||(""===e||!!this.get("multiple")&&(Array.isArray(e)&&0===e.length))}}]),t}(f.default);t.default=p},146:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Reorder=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(17)),o=function(){function e(){(0,r.default)(this,e)}return(0,l.default)(e,[{key:"_handleReorder",value:function(e,t,a){if(e.order!==t)return a(e,t)}},{key:"reorderItem",value:function(e,t,a,n,r,l){var i=null;return n===a&&a!==this.constructor.DEFAULT_ORDER&&(n++,r=e.id),e.id===t?i=this._handleReorder(e,a,l):e.order===this.constructor.DEFAULT_ORDER&&e.archivedAt||(i=this._handleReorder(e,n,l),n++),{i:n,destinationKey:r,afterReordered:i}}},{key:"reorder",value:function(e,t,a,n){var r=this,l=0,i=null;return e.forEach((function(e){var o=r.reorderItem(e,t,a,l,i,n);l=o.i,i=o.destinationKey})),{destinationKey:i}}}]),e}();t.Reorder=o,(0,i.default)(o,"DEFAULT_ORDER",-1);var s=new o;t.default=s},147:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(51)),h=n(a(355)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","DateField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"now",component:"BooleanField"},{name:"includeTime",component:"BooleanField",label:"Include Time",docLevel:"basic"},{name:"minDate",component:"DateField",label:"Min Date",docLevel:"basic"},{name:"maxDate",component:"DateField",label:"Max Date",docLevel:"basic"}]}})}},{key:"now",value:function(){this.set({value:new Date})}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==e.now&&(this.now(),delete a.now),void 0!==a.value&&"number"!==typeof a.value&&(a.value=this.constructor.toEpochTime(e.value)),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,a)}},{key:"_toLocaleString",value:function(e){return this.get("includeTime")?e.toLocaleString():e.toLocaleDateString()}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),a=new Date(e),n=this.get("minDate")?new Date(this.get("minDate")):null,r=this.get("maxDate")?new Date(this.get("maxDate")):null;(0,h.default)(a)?null!==n&&a.getTime()<n.getTime()?this.setErr("must be after ".concat(this._toLocaleString(n))):null!==r&&a.getTime()>r.getTime()&&this.setErr("must be before ".concat(this._toLocaleString(r))):this.setErr("invalid")}}}],[{key:"toEpochTime",value:function(e){return e instanceof Date?e.getTime():"string"===typeof e?(isNaN(e)||(e=parseInt(e)),new Date(e).getTime()):e}}]),t}(f.default);t.default=p},148:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(248)),h=n(a(783)),p=["prefix","suffix","includeThousandsSeparator","thousandsSeparatorSymbol","allowDecimal","decimalSymbol","decimalLimit","allowNegative"],m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","NumberField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._requireString=!1,this.set({schema:{component:"Form",fields:[{name:"minValue",component:"NumberField",label:"Min Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"maxValue",component:"NumberField",label:"Max Value",docLevel:"basic",thousandsSeparatorSymbol:","},{name:"prefix",component:"TextField",label:"Prefix",docLevel:"basic"},{name:"suffix",component:"TextField"},{name:"includeThousandsSeparator",component:"BooleanField"},{name:"thousandsSeparatorSymbol",component:"TextField"},{name:"allowDecimal",component:"BooleanField"},{name:"decimalSymbol",component:"TextField"},{name:"decimalLimit",component:"IntegerField"},{name:"allowNegative",component:"BooleanField"}]}}),this._setDefaults(e,{unmask:/[^\d\\.]/g})}},{key:"_validateLengths",value:function(){if(!this.isBlank()){var e=this.getValue(),t=this.get("minValue"),a=this.get("maxValue");null!==t&&e<t?this.setErr("must be ".concat(t," or greater")):null!==a&&e>a&&this.setErr("must be ".concat(a," or less"))}}},{key:"validate",value:function(){(0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?\d*\.?\d*)$/,"not a number"),this.hasErr()||this._validateLengths()}},{key:"_shouldCreateMask",value:function(e){var t=this,a=!1;return p.forEach((function(n){void 0!==e[n]&&e[n]!==t._getProperty(n)&&(a=!0)})),a}},{key:"_createMask",value:function(e){var t={prefix:"",allowDecimal:!0,decimalLimit:null,allowNegative:!0};p.forEach((function(a){void 0!==e[a]&&(t[a]=e[a])})),this.set({mask:(0,h.default)(t)})}},{key:"set",value:function(e){this._shouldCreateMask(e)&&this._createMask(e),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e)}},{key:"fromUIValue",value:function(e){var a=this.get("decimalSymbol");if(a&&"."!==a&&!this.isValueBlank(e)){e=(e=(e=e.replace(a,"A")).replace(/[^\d-A]/g,"")).replace("A",".")}return(0,u.default)((0,s.default)(t.prototype),"fromUIValue",this).call(this,e)}},{key:"getUIValue",value:function(){var e=(0,u.default)((0,s.default)(t.prototype),"getUIValue",this).call(this),a=this.get("decimalSymbol");return a&&"."!==a&&!this.isBlank()?e.replace(".",a):e}}]),t}(f.default);t.default=m},152:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ButtonField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"type",component:"SelectField",label:"Type",options:[{value:"submit",label:"Submit"}],docLevel:"basic"},{name:"icon",component:"TextField",label:"Icon",docLevel:"basic"},{name:"variant",component:"TextField",hidden:!0}]}}),this._setDefaults(e,{block:!1,out:!1})}},{key:"emitClick",value:function(){this.emitChange("click"),"submit"===this.get("type")&&this.set({disabled:!0})}}]),t}(n(a(51)).default);t.default=f},153:function(e,t,a){"use strict";(function(e){var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(116)),l=n(a(59)),i=n(a(30)),o=n(a(31)),s=n(a(12)),u=n(a(13)),c=n(a(15)),d=n(a(18)),f=n(a(14)),h=n(a(19)),p=n(a(16)),m=n(a(17)),v=n(a(51)),y=n(a(34)),b=n(a(756)),g=n(a(757)),_=n(a(144)),F=n(a(84)),k=n(a(62)),w=function(t){function a(){var e,t;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,c.default)(this,(e=(0,f.default)(a)).call.apply(e,[this].concat(r))),(0,m.default)((0,d.default)(t),"_className","CollectionField"),t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"_create",value:function(t){(0,h.default)((0,f.default)(a.prototype),"_create",this).call(this,t);var n=this.constructor;this._window=e.window,this._document=e.document,this._globals=y.default,this.set({schema:{component:"Form",fields:[{name:"formFactory",component:"Field",required:!0},{name:"form",component:"Field"},{name:"forbidCreate",component:"BooleanField"},{name:"forbidUpdate",component:"BooleanField"},{name:"forbidDelete",component:"BooleanField"},{name:"forbidViewArchived",component:"BooleanField"},{name:"forbidSearch",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"forbidOrder",component:"BooleanField"},{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"singularLabel",component:"TextField"},{name:"store",component:"Field"},{name:"scrollThreshold",component:"IntegerField"},{name:"itemsPerPage",component:"IntegerField"},{name:"maxBufferPages",component:"IntegerField"},{name:"spacerHeight",component:"IntegerField"},{name:"spacerId",component:"TextField"},{name:"bufferTopId",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"order",component:"Field"},{name:"currentForm",component:"Field"},{name:"mode",component:"TextField"},{name:"noResults",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"change",component:"Field"},{name:"maxColumns",component:"IntegerField"},{name:"skipRead",component:"BooleanField"},{name:"includeExtraneous",component:"BooleanField"}]}}),this._setDefaults(t,{scrollThreshold:n.SCROLLTHRESHOLD_DEFAULT,itemsPerPage:n.ITEMS_PER_PAGE_DEFAULT,maxBufferPages:n.MAX_BUFFER_PAGES_DEFAULT,spacerHeight:0,spacerId:_.default.getNextUniqueId(),order:null,mode:null,showArchived:!1,searchString:null,maxColumns:2,forbidOrder:!0}),this._createInfiniteLoader(),this._forms=new b.default,this._listenForLoaded(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForOrder(),this._listenForScroll()}},{key:"_listenForLoaded",value:function(){var e=this;this.on("didLoad",(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.get("formFactory")&&(e._generateForm(e.get("formFactory")),e.get("form").emitLoad()),e._resetInfiniteLoader(),e._updateInfiniteLoader(),t.next=5,e._infiniteLoader.getAll();case 5:case"end":return t.stop()}}),t)}))))}},{key:"_onUnload",value:function(){(this.set({order:null,mode:null,showArchived:!1,searchString:null}),this.get("formFactory"))&&this.get("form").emitUnload()}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",(function(){e._onUnload()}))}},{key:"_resetInfiniteLoader",value:function(){this._infiniteLoader.reset()}},{key:"_getOrder",value:function(){return this.get("order")?this.get("order"):[["order","ASC"]]}},{key:"_getWhere",value:function(){return this.get("searchString")?this._toWhereFromSearchString():void 0}},{key:"_updateInfiniteLoader",value:function(){this._infiniteLoader.setShowArchived(this.get("showArchived"))}},{key:"_handleStoreChangeFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark((function t(a,n){var r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,o=n&&n.value,t.t0=a,t.next="createDoc"===t.t0?5:"updateDoc"===t.t0?5:"deleteDoc"===t.t0?12:13;break;case 5:if(!e._forms.has(o.id)||o.archivedAt===e._forms.get(o.id).getValue("archivedAt")){t.next=9;break}return t.abrupt("return",e.removeForm(o.id,r));case 9:if(!!o.archivedAt!==e.get("showArchived")){t.next=11;break}return t.abrupt("return",e.upsertForm({values:(0,l.default)({},o.fieldValues,{id:o.id,archivedAt:o.archivedAt,userId:o.userId,order:o.order}),muteChange:r,cursor:o.cursor}));case 11:return t.abrupt("break",14);case 12:return t.abrupt("return",e.removeFormIfExists(o.id,r));case 13:return t.abrupt("break",14);case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},{key:"_setStore",value:function(e){var t=this.get("store");e!==t&&(t&&t.removeAllListeners(),e&&"string"!==typeof e&&e.on("$change",this._handleStoreChangeFactory()),this._set("store",e))}},{key:"_clearAndGetAll",value:function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._forms.clear(),this._resetInfiniteLoader(),this._updateInfiniteLoader(),e.next=5,this._infiniteLoader.getAll();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark((function t(a){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.set({showArchived:a}),t.next=3,e._clearAndGetAll();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_toWhereFromSearchString",value:function(){if(this.get("searchString")){var e=this.get("form"),t=[];return e.eachField((function(a){a.get("hidden")||e.isDefaultField(a.get("name"))||t.push("fieldValues."+a.get("name"))})),F.default.toWhereFromSearchString(t,this.get("searchString"))}return null}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark((function t(a){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({searchString:a}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleOrderFactory",value:function(){var e=this;return function(){var t=(0,o.default)(i.default.mark((function t(a){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.set({order:a}),!e.isLoaded()){t.next=4;break}return t.next=4,e._clearAndGetAll();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{key:"_listenForOrder",value:function(){this.on("order",this._handleOrderFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(){e._infiniteLoader.scroll({scrollY:e._window.scrollY})}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"_onRemoveItems",value:function(e,t,a){var n=0,r=null,l=!0,i=!1,o=void 0;try{for(var s,u=this._forms.entries(e,a)[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){if(r=s.value[0],n++===t)break;this.removeForm(r,!0)}}catch(c){i=!0,o=c}finally{try{l||null==u.return||u.return()}finally{if(i)throw o}}return r}},{key:"_onResizeSpacer",value:function(e,t){var a=null;a=void 0!==t?t:this.get("spacerHeight")+e;var n=0;!!this._infiniteLoader&&this._infiniteLoader.beginningLoaded()&&e<0?(n=-a,a=0):a<0&&(n=-a,a=0),this.set({spacerHeight:a}),0!==n&&this._window.scrollBy({top:n,behavior:"instant"})}},{key:"_onGetAll",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=9;break}return e.next=4,a.getAllDocs(t);case 4:return n=e.sent,r=0===n.edges.length&&!t.after&&!t.before,this.set({noResults:r}),r&&this.set({change:null}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemsPerPage",value:function(){return this.get("forbidOrder")?this.get("itemsPerPage"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"_createInfiniteLoader",value:function(){var e=this;this._infiniteLoader=new g.default({onGetAll:function(t){return e._onGetAll(t)},onGetItemsPerPage:function(){return e._getItemsPerPage()},onGetScrollThreshold:function(){return e.get("scrollThreshold")},onGetMaxBufferPages:function(){return e.get("maxBufferPages")},onGetItemElement:function(t){return e._document.getElementById(e.getUniqueItemId(t))},onGetSpacerElement:function(){return e._document.getElementById(e.get("spacerId"))},onRemoveItems:function(t,a,n){return e._onRemoveItems(t,a,n)},onGetItems:function(t,a){return e._forms.values(t,a)},onResizeSpacer:function(t,a){return e._onResizeSpacer(t,a)},onSetBufferTopId:function(t){return e.set({bufferTopId:t})},onGetItem:function(t){return e._forms.get(t)},onGetItemId:function(e){return e.getValue("id")},onGetItemCursor:function(e){return e.get("cursor")},onAddItems:function(t,a){return e._onAddItems(t,a)},onEmitChange:function(t){return e.set({change:t})},onSetIsLoading:function(t){return e.set({isLoading:t})},onGetOrder:function(){return e._getOrder()},onGetWhere:function(){return e._getWhere()}})}},{key:"_listenToForm",value:function(e){var t=this;["dirty","touched"].forEach((function(a){e.on(a,(function(e){!0===e&&t.set((0,m.default)({},a,e))}))}))}},{key:"_notifyUI",value:function(e,t){e||this.set({change:t})}},{key:"_addForm",value:function(e){var t=e.form,a=e.values,n=e.muteChange,r=e.cursor,l=e.beforeKey;t.setValues(a),t.set({parent:this,cursor:r});var i=t.getField("id"),o=0;return o=i.isBlank()?this._forms.length():i.getValue(),this.set({noResults:!1}),this._forms.set(o,t,l),this._listenToForm(t),this._calcValue(),this._notifyUI(n,a),t}},{key:"_produceFormAndWaitForLoad",value:function(){var e=(0,o.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.produce(),e.next=3,t.resolveAfterCreate();case 3:return t.emitLoad(),e.next=6,t.resolveAfterLoad();case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_produceFormWaitForLoadAndPushForm",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:a=e.sent,t.push(a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onAddItems",value:function(){var e=(0,o.default)(i.default.mark((function e(t,a){var n,r,l,o,s,u=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=[],l=0;l<t.length;l++)r.push(this._produceFormWaitForLoadAndPushForm(n));return e.next=5,Promise.all(r);case 5:for(!0,o=function(e){var r=t[e],l=r.node,i={id:l.id,userId:l.userId,createdAt:l.createdAt,updatedAt:l.updatedAt,archivedAt:l.archivedAt,order:l.order},o=n[e];(0,k.default)(l.fieldValues,(function(e,t){e&&(u.get("includeExtraneous")||o.hasField(t))&&(i[t]=e)})),u._addForm({form:o,values:i,muteChange:!0,cursor:r.cursor,beforeKey:a})},s=0;s<t.length;s++)o(s);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"produce",value:function(){return this.get("formFactory").produce()}},{key:"_addFormSynchronous",value:function(e){var t=this.produce();return this._addForm(Object.assign({form:t},e))}},{key:"_addFormAsynchronous",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._produceFormAndWaitForLoad();case 2:return a=e.sent,e.abrupt("return",this._addForm(Object.assign({form:a},t)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addForm",value:function(e){var t=e.form,a=e.values,n=e.muteChange,r=e.cursor,l=e.beforeKey,i=e.synchronous,o={values:a,muteChange:n,cursor:r,beforeKey:l};return t?this._addForm(Object.assign({form:t},o)):i?this._addFormSynchronous(o):this._addFormAsynchronous(o)}},{key:"_clearAllFormListeners",value:function(){this.eachForm((function(e){return e.removeAllListeners()}))}},{key:"_validateValueType",value:function(e){var t=!1;null===e||(Array.isArray(e)?e.length>0&&"object"!==(0,r.default)(e[0])&&(t=!0):t=!0),this._hasTypeError=t}},{key:"_setValue",value:function(e){var t=this;if(this._validateValueType(e),!this._hasTypeError){if(this._clearAllFormListeners(),this._forms.clear(),e&&e.length>0){e.forEach((function(e){return t.addForm({values:e,synchronous:!0})}))}this.set({change:e})}}},{key:"removeForm",value:function(e,t){t||this._infiniteLoader.removeItem(e);var a=this._forms.get(e);return a.removeAllListeners(),this._forms.delete(e),this._calcValue(),this._notifyUI(t,a.getValues()),a}},{key:"removeFormIfExists",value:function(e,t){if(this._forms.has(e))return this.removeForm(e,t)}},{key:"getForm",value:function(e){return this._forms.get(e)}},{key:"eachForm",value:function(e){this._forms.each(e)}},{key:"mapForms",value:function(e){return this._forms.map(e)}},{key:"_setForAllForms",value:function(e){this.eachForm((function(t){return t.set(e)}))}},{key:"_setOnAllForms",value:function(e,t,a){var n=this;t.forEach((function(t){void 0===e[t]||void 0!==a&&e[t]!==a||n._setForAllForms((0,m.default)({},t,e[t]))}))}},{key:"_prepareForm",value:function(e){e.setTouched(!1),e.clearErrs(),e.setDirty(!1)}},{key:"_copyValuesToCurrentForm",value:function(e,t){var a=t.getValues();e.clearValues(),e.set({value:a})}},{key:"_setCurrentForm",value:function(e){var t=this.get("form");null===e?(t.destroy(),t=this._generateForm(this.get("formFactory"))):(this._copyValuesToCurrentForm(t,e),this._set("currentForm",e)),this._prepareForm(t)}},{key:"_readMode",value:function(){var e=this.get("form");e.emitChange("beginRead",e.getValue("id")),e.setEditable(!1)}},{key:"_createMode",value:function(){var e=this.get("form");e.emitChange("beginCreate"),e.setEditable(!0)}},{key:"_updateMode",value:function(){var e=this.get("form");e.emitChange("beginUpdate",e.getValue("id")),e.setEditable(!0)}},{key:"_emitEndEvents",value:function(){var e=this.get("form"),t=e.getValue("id");switch(this._mode){case"create":e.emitChange("endCreate",t);break;case"update":e.emitChange("endUpdate",t);break;default:e.emitChange("endRead",t)}}},{key:"_setParentDisableSubmit",value:function(e){this.get("parent")&&this.get("parent").set({disableSubmit:e})}},{key:"_setMode",value:function(e){this._mode?this._emitEndEvents():this._setParentDisableSubmit(!0);var t=this.get("form");switch(t.set({parent:this}),e){case"create":this._createMode();break;case"update":this._updateMode();break;case"read":this._readMode();break;default:this._setParentDisableSubmit(!1)}t.set({mode:e}),this._set("mode",e)}},{key:"_generateForm",value:function(e){var t=e.produce();return this.set({form:t}),t}},{key:"_setMaxColumns",value:function(e){var t=[1,2,4,6,12];if(-1===t.indexOf(e))throw new Error("maxColumns must be "+t.join(","));this._set("maxColumns",e)}},{key:"set",value:function(e){(0,h.default)((0,f.default)(a.prototype),"set",this).call(this,Object.assign({},e,{currentForm:void 0,mode:void 0,store:void 0,maxColumns:void 0})),this._setOnAllForms(e,["disabled","editable","pristine"]),this._setOnAllForms(e,["dirty","touched"],!1),this._setOnAllForms(e,["err"],null),void 0!==e.currentForm&&this._setCurrentForm(e.currentForm),void 0!==e.mode&&e.mode!==this._mode&&this._setMode(e.mode),void 0!==e.store&&this._setStore(e.store),void 0!==e.maxColumns&&this._setMaxColumns(e.maxColumns)}},{key:"_getValue",value:function(){return this._forms.map((function(e){return e.getValues()}))}},{key:"getOne",value:function(e){return"value"===e?this._getValue():("form"!==e||this._form||this._generateForm(this.get("formFactory")),(0,h.default)((0,f.default)(a.prototype),"getOne",this).call(this,e))}},{key:"getForms",value:i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._forms.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"updateForm",value:function(e){var t=e.values,a=e.muteChange,n=e.cursor,r=e.beforeKey,l=this._forms.get(t.id),i=l.getValue("order")!==t.order;return l.setValues(t),l.set({cursor:n}),void 0===r&&i&&(r=this._forms.getBeforeId(l)),this._forms.set(t.id,l,r),this._calcValue(),this._notifyUI(a,t),l}},{key:"_calcValue",value:function(){if(!this.get("store")){var e=this._getValue();this._set("value",e),this.set({dirty:!0})}}},{key:"upsertForm",value:function(e){var t=e.values,a=e.muteChange,n=e.cursor,r=e.beforeKey;return this._forms.has(t.id)?this.updateForm({values:t,muteChange:a,cursor:n,beforeKey:r}):this.addForm({values:t,muteChange:a,cursor:n,beforeKey:r})}},{key:"_saveForm",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r,l,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getField("id"),n=this.get("store"),r=a.isBlank(),l=null,!n){e.next=19;break}if(o=!this.get("forbidOrder"),s=null,!r){e.next=13;break}return e.next=10,n.createDoc({form:t,reorder:o});case 10:s=e.sent,e.next=16;break;case 13:return e.next=15,n.updateDoc({form:t,reorder:o});case 15:s=e.sent;case 16:t.setValues({id:s.id,createdAt:s.createdAt,updatedAt:s.updatedAt,order:s.order,userId:s.userId}),e.next=20;break;case 19:r&&a.setValue(F.default.uuid());case 20:return l=this.upsertForm({form:t,values:t.getValues(),muteChange:!1,cursor:t.get("cursor")}),t.emitChange(r?"didCreateRecord":"didUpdateRecord",a.getValue()),e.abrupt("return",l);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,o.default)(i.default.mark((function e(){var t,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.get("form")).setTouched(!0),t.validate(),t.hasErr()){e.next=10;break}return e.next=6,this._saveForm(t);case 6:return a=e.sent,this._globals.displaySnackbar(this.getSingularLabel()+" saved"),this.set({currentForm:a,mode:null}),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"archive",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=6;break}return e.next=4,a.archiveDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:n=e.sent,t.setValues({archivedAt:n.archivedAt});case 6:this.removeFormIfExists(t.getValue("id")),t.emitChange("didArchiveRecord",t.getValue("id")),this._globals.displaySnackbar(this.getSingularLabel()+" deleted");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restore",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.get("store"))){e.next=4;break}return e.next=4,a.restoreDoc({form:t,id:t.getValue("id"),reorder:!this.get("forbidOrder")});case 4:t.setValues({archivedAt:null}),this.removeFormIfExists(t.getValue("id")),t.emitChange("didRestoreRecord",t.getValue("id")),this._globals.displaySnackbar(this.getSingularLabel()+" restored");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMaxSize",value:function(){return this.get("forbidOrder")?this.get("maxSize"):this.constructor.MAX_ITEMS_PER_PAGE}},{key:"reachedMax",value:function(){var e=this._getMaxSize();return null!==e&&this._forms.length()>=e}},{key:"validate",value:function(){(0,h.default)((0,f.default)(a.prototype),"validate",this).call(this);var e=[],t=!0,n=!1,r=void 0;try{for(var l,i=this._forms.values()[Symbol.iterator]();!(t=(l=i.next()).done);t=!0){var o=l.value;o.validate(),o.hasErr()&&e.push({id:o.getField("id").getValue(),error:o.getErrs()})}}catch(d){n=!0,r=d}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=this._forms.length(),u=this.get("minSize"),c=this.get("maxSize");null!==u&&s<u?e.push({error:"".concat(u," or more")}):null!==c&&s>c&&e.push({error:"".concat(c," or less")}),this._hasTypeError&&e.push({error:"must be an array of objects"}),e.length>0&&this.setErr(e)}},{key:"getSingularLabel",value:function(){return this.get("singularLabel")?this.get("singularLabel"):this.get("label")?F.default.toSingular(this.get("label")):null}},{key:"isBlank",value:function(){var e=!0,t=!0,a=!1,n=void 0;try{for(var r,l=this.getForms()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){if(!r.value.isBlank()){e=!1;break}}}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e}},{key:"getUniqueItemId",value:function(e){return this.getUniqueId()+"-item-"+e}},{key:"destroy",value:function(){(0,h.default)((0,f.default)(a.prototype),"destroy",this).call(this),this.eachForm((function(e){return e.destroy()}))}},{key:"moveForm",value:function(e){var t=e.sourceIndex,a=e.destinationIndex,n=e.muteChange,r=this._forms.keysAtIndexes([t,a]),l=r[t],i=r[a],o=this.getForm(l);o.setValues({order:a});var s=void 0,u=i;return a<t&&(s=i,u=void 0),this._forms.set(l,o,s,u),this._calcValue(),this._notifyUI(n,o.getValues()),o}},{key:"moveAndSaveForm",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.sourceIndex,n=t.destinationIndex,r=t.muteChange,l=this.moveForm({sourceIndex:a,destinationIndex:n,muteChange:r}),e.abrupt("return",this._saveForm(l));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(v.default);t.default=w,(0,m.default)(w,"SCROLLTHRESHOLD_DEFAULT",2e3),(0,m.default)(w,"ITEMS_PER_PAGE_DEFAULT",20),(0,m.default)(w,"MAX_BUFFER_PAGES_DEFAULT",3),(0,m.default)(w,"MAX_ITEMS_PER_PAGE",100)}).call(this,a(73))},183:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(14)),u=n(a(16)),c=function(e){function t(){var e;return(0,l.default)(this,t),(e=(0,o.default)(this,(0,s.default)(t).call(this))).clear(),e}return(0,u.default)(t,e),(0,i.default)(t,[{key:"clear",value:function(){this._firstKey=null,this._lastKey=null,this._length=0,this._items={}}},{key:"has",value:function(e){return void 0!==this._items[e]}},{key:"_nullOrUndefined",value:function(e){return void 0===e||null===e}},{key:"_insertBefore",value:function(e,t,a){var n=this._lastKey;this._nullOrUndefined(a)?a=null:(this._throwIfMissing(a),n=this._items[a].prevKey);var r={key:e,prevKey:n,nextKey:a,value:t};return null===a?(null!==this._lastKey&&(this._items[this._lastKey].nextKey=e),this._lastKey=e):(this._items[a].prevKey=e,null!==n&&(this._items[n].nextKey=e)),this._items[e]=r,null!==this._firstKey&&a!==this._firstKey||(this._firstKey=e),this._length++,r}},{key:"_insertAfter",value:function(e,t,a){var n=this._firstKey;this._nullOrUndefined(a)?a=null:(this._throwIfMissing(a),n=this._items[a].nextKey);var r={key:e,prevKey:a,nextKey:n,value:t};return null===a?(null!==this._firstKey&&(this._items[this._firstKey].prevKey=e),this._firstKey=e):(this._items[a].nextKey=e,null!==n&&(this._items[n].prevKey=e)),this._items[e]=r,null!==this._lastKey&&a!==this._lastKey||(this._lastKey=e),this._length++,r}},{key:"_insert",value:function(e,t,a,n){if(void 0!==a&&void 0!==n)throw new Error("cannot specify both beforeKey and afterKey");return void 0!==n?this._insertAfter(e,t,n):this._insertBefore(e,t,a)}},{key:"_update",value:function(e,t,a,n){var r=this._items[e];return void 0!==a&&r.nextKey!==a&&a!==e||void 0!==n&&r.prevKey!==n&&n!==e?(this._delete(e),r=this._insert(e,t,a,n)):r.value=t,r}},{key:"set",value:function(e,t,a,n){var r=null;if(this._nullOrUndefined(e))throw new Error("key cannot be null or undefined");return this.has(e)?(r=this._update(e,t,a,n),this.emitChange("update",r)):(r=this._insert(e,t,a,n),this.emitChange("create",r)),r}},{key:"_throwIfMissing",value:function(e){if(!this.has(e))throw new Error("value is missing for key "+e)}},{key:"get",value:function(e){return this._throwIfMissing(e),this._items[e].value}},{key:"walkForward",value:r.default.mark((function e(t,a){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(n=this._items[t],!a){e.next=7;break}return e.next=5,[t,n.value];case 5:e.next=9;break;case 7:return e.next=9,n.value;case 9:if(null===n.nextKey){e.next=11;break}return e.delegateYield(this.walkForward(n.nextKey,a),"t0",11);case 11:case"end":return e.stop()}}),e,this)}))},{key:"walkBackward",value:r.default.mark((function e(t,a){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=11;break}if(n=this._items[t],!a){e.next=7;break}return e.next=5,[t,n.value];case 5:e.next=9;break;case 7:return e.next=9,n.value;case 9:if(null===n.prevKey){e.next=11;break}return e.delegateYield(this.walkBackward(n.prevKey,a),"t0",11);case 11:case"end":return e.stop()}}),e,this)}))},{key:"values",value:r.default.mark((function e(t,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey),"t1",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"entries",value:r.default.mark((function e(t,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.delegateYield(this.walkBackward(t||this._lastKey,!0),"t0",2);case 2:e.next=5;break;case 4:return e.delegateYield(this.walkForward(t||this._firstKey,!0),"t1",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"forEach",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=this.entries()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var i=r.value,o=i[0]===this._lastKey;if(!1===e(i[1],i[0],o))break}}catch(s){a=!0,n=s}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}}},{key:"each",value:function(e){this.forEach(e)}},{key:"map",value:function(e){var t=[];return this.forEach((function(a,n){t.push(e(a,n))})),t}},{key:"_delete",value:function(e){this._throwIfMissing(e);var t=this._items[e];if(null!==t.prevKey&&null!==t.nextKey){var a=this._items[t.prevKey],n=this._items[t.nextKey];a.nextKey=t.nextKey,n.prevKey=t.prevKey}else{if(null===t.prevKey){if(null!==t.nextKey)this._items[t.nextKey].prevKey=null;this._firstKey=t.nextKey}if(null===t.nextKey){if(null!==t.prevKey)this._items[t.prevKey].nextKey=null;this._lastKey=t.prevKey}}return this._length--,delete this._items[e],t}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"delete",value:function(e){var t=this._delete(e);return this.emitChange("delete",t),t}},{key:"length",value:function(){return this._length}},{key:"previousKey",value:function(e){return this._throwIfMissing(e),this._items[e].prevKey}},{key:"previous",value:function(e){return this.get(this.previousKey(e))}},{key:"first",value:function(){return this.get(this._firstKey)}},{key:"firstKey",value:function(){return this._firstKey}},{key:"hasFirst",value:function(){return this.has(this._firstKey)}},{key:"isEmpty",value:function(){return!this.hasFirst()}},{key:"nextKey",value:function(e){return this._throwIfMissing(e),this._items[e].nextKey}},{key:"next",value:function(e){return this.get(this.nextKey(e))}},{key:"last",value:function(){return this.get(this._lastKey)}},{key:"lastKey",value:function(){return this._lastKey}},{key:"hasLast",value:function(){return this.has(this._lastKey)}}]),t}(n(a(302)).default.EventEmitter);t.default=c},185:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(236)),o=function(){function e(t){(0,r.default)(this,e),this.setProps(t)}return(0,l.default)(e,[{key:"setProps",value:function(e){this._props=e}},{key:"_getTemplateName",value:function(e){var t=e.match(/^{{([^{]*)}}$/);if(t)return t[1]}},{key:"_getPropFromObj",value:function(e,t){try{var a,n=t.split(".");return a=e.get&&"function"===typeof e.get?e.get(n[0]):e[n[0]],n.length>1?(n.shift(),this._getPropFromObj(a,n.join("."))):a}catch(r){return}}},{key:"_getProp",value:function(e){return this._getPropFromObj(this._props,e)}},{key:"_getPropOrOriginalString",value:function(e,t){var a=this._getProp(e);return void 0===a?t:a}},{key:"fillString",value:function(e){var t=this;if("string"===typeof e){var a=this._getTemplateName(e);return void 0!==a?this._getPropOrOriginalString(a,e):e.replace(/{{([^{]*)}}/g,(function(e,a){return t._getPropOrOriginalString(a,e)}))}return e}},{key:"fillAll",value:function(e){var t=this;return(0,i.default)(e,(function(e){return e&&e._className?e:"string"===typeof e?t.fillString(e):void 0}))}},{key:"fill",value:function(e){return"string"===typeof e?this.fillString(e):this.fillAll(e)}}]),e}();t.default=o},193:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(51)),h=n(a(84)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ComponentField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"content",component:"Field",required:!0}]}});var a=void 0===e.name?h.default.uuid():e.name;this._setDefaults(e,{in:!1,out:!1,name:a})}}]),t}(f.default);t.default=p},232:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(233)).default;t.default=r},233:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(581)),h=n(a(84)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","WrappedComponent"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_getWrappedComponentSchema",value:function(){return{component:"Form",fields:[{name:"componentToWrap",component:"Field"}]}}},{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._preserveClassName=!0,this.set({schema:this._getWrappedComponentSchema()}),void 0!==e.componentToWrap&&this.setComponentToWrap(e.componentToWrap)}},{key:"setComponentToWrap",value:function(e){"string"!==typeof e&&(this._componentToWrap=e,this._wrapComponent())}},{key:"_getAllMethodOrFunctionNames",value:function(){return h.default.getAllMethodNames(this._componentToWrap).concat(h.default.getAllFunctionNames(this._componentToWrap))}},{key:"_wrapComponent",value:function(){var e=this;this._getAllMethodOrFunctionNames().forEach((function(t){if(-1===["caller","callee","arguments","constructor"].indexOf(t)&&-1===t.indexOf("__")){var a=e._componentToWrap[t];e._componentToWrap[t]&&(e[t]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.apply(e._componentToWrap,n)})}})),this._preserveClassName&&(this.getClassName=this._componentToWrap.getClassName.bind(this))}}]),t}(f.default);t.default=p},245:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=n(a(341)),m=n(a(336)),v=n(a(236)),y=n(a(117)),b=n(a(767)),g=n(a(184)),_=a(146),F=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","MemoryStore"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){var a=this;(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._docs=new m.default,this._docs.on("$change",(function(e,t){a.emitChange(e+"Doc",t)}))}},{key:"_numUnarchived",value:function(){var e=0,t=!0,a=!1,n=void 0;try{for(var r,l=this._docs.values()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){r.value.archivedAt||e++}}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e}},{key:"_createDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i,o,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fieldValues,n=t.id,l=t.order,i=t.reorder,this._shouldSetToLastOrder(l,i)&&(l=this._numUnarchived()),o=this._getUserId(),s=this._buildDoc({fieldValues:a,id:n,order:l,userId:o}),this._docs.set(s.id,s,void 0,void 0,!0),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_toSiftWhere",value:function(e){return(0,v.default)(e,(function(e){if(e&&e.$iLike)return{$regex:"^"+e.$iLike.replace(/%/,""),$options:"i"}}))}},{key:"_hasDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.abrupt("return",this._docs.has(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.abrupt("return",this._docs.get(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i,o,s,u,c,d,f,h,p,m;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.where,n=t.showArchived,l=t.order,a&&(a=this._toSiftWhere(a)),i={pageInfo:{hasNextPage:!1},edges:[]},o=!0,s=!1,u=void 0,e.prev=6,c=this._docs.values()[Symbol.iterator]();!(o=(d=c.next()).done);o=!0)f=d.value,h=void 0===a?null:[f].filter((0,g.default)(a)),null!==n&&void 0!==n&&!!f.archivedAt!==n||void 0!==a&&0===h.length||i.edges.push({node:f});e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),s=!0,u=e.t0;case 14:e.prev=14,e.prev=15,o||null==c.return||c.return();case 17:if(e.prev=17,!s){e.next=20;break}throw u;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return l&&(p=[],m=[],l.forEach((function(e){p.push("node."+e[0]),m.push(e[1].toLowerCase())})),i.edges=(0,b.default)(i.edges,p,m)),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.fieldValues,l=t.order,i=(0,y.default)(this._docs.get(a)),i=this._setDoc({doc:i,fieldValues:n,order:l}),this._docs.set(a,i,void 0,void 0,!0),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=(0,y.default)(this._docs.get(a)),n=this._setDoc({doc:n,archivedAt:this._now(),order:_.Reorder.DEFAULT_ORDER}),this._docs.set(a,n,void 0,void 0,!0),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.reorder,l=t.order,this._shouldSetToLastOrder(l,n)&&(l=this._numUnarchived()),i=(0,y.default)(this._docs.get(a)),i=this._setDoc({doc:i,archivedAt:null,order:l}),this._docs.set(a,i,void 0,void 0,!0),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=F},246:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(346)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","IdField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:(0,r.default)(this.getHiddenFieldDefinitions(["minWords","maxWords","invalidRegExp","multiline"]))}})}}]),t}(n(a(96)).default);t.default=h},248:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","TextFieldHiddenSchema"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){this._hideTextFieldSchema=!0,(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e)}}]),t}(n(a(96)).default);t.default=f},249:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(120)),p=n(a(96)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","TextListField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words",docLevel:"basic"},{name:"maxWords",component:"IntegerField",label:"Max Words",docLevel:"basic"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"}]}}),this._setDefaults(e,{startWithField:!0})}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,required:!1},this.get(["block","fullWidth","minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])))}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,e),this._setForAllFields(e,["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])}}]),t}(h.default);t.default=m},255:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(95)),h=n(a(145)),p=n(a(62)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","FieldEditorForm"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_namesToOptions",value:function(){return this.constructor.componentNames.map((function(e){return{value:e,label:e}}))}},{key:"_clearFields",value:function(){var e=this;this.eachField((function(t){var a=t.get("name");e.isDefaultField(a)||"componentName"===a||e.removeField(a)})),this._emitChangeToFields(null)}},{key:"_copySchemaFields",value:function(e){var t=this,a=[];e.eachField((function(n){var r=n.get("name");e.isDefaultField(r)||"basic"!==n.get("docLevel")||(t.addField(n),a.push(n))})),this._emitChangeToFields(a)}},{key:"_adjustFields",value:function(e){var t=this;if(this._clearFields(),e.componentName){var a=this._registrar.compiler;this._component=a.newComponent({component:e.componentName});var n=new f.default;this._component.buildSchemaForm(n,a),this._copySchemaFields(n),(0,p.default)(e,(function(e,a){t.hasField(a)&&t.getField(a).setValue(e)}))}}},{key:"_create",value:function(e){var a=this;(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({fields:[new h.default({name:"componentName",label:"Field",options:this._namesToOptions()})]}),this.getField("componentName").on("value",(function(){return a._adjustFields(a.getValues())}))}},{key:"setValues",value:function(e){(!this._component||e.componentName&&this._component.getClassName()!==e.componentName)&&this._adjustFields(Object.assign({},this.getValues(),{componentName:e.componentName})),(0,u.default)((0,s.default)(t.prototype),"setValues",this).call(this,e)}}]),t}(f.default);t.default=m,(0,d.default)(m,"componentNames",["AddressField","BooleanField","ButtonField","ChainedSelectField","ChainedSelectListField","CityField","CountryField","DateField","EmailField","IdField","IntegerField","MoneyField","NumberField","PasswordField","PersonFullNameField","PersonNameField","PhoneField","ProvinceField","ReCAPTCHAField","SelectField","SelectListField","StateField","Text","TextField","TextListField","TimeField","URLField"])},256:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(95)),p=n(a(153)),m=n(a(340)),v=n(a(255)),y=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","FormEditor"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"Field"}]},fields:[new p.default({name:"fields",label:"Fields",hideLabel:!0,maxColumns:1,skipRead:!0,includeExtraneous:!0,forbidOrder:!1,formFactory:new m.default({product:function(){return new v.default}})})]})}},{key:"_setDefinition",value:function(e){var t=e.fields.map((function(e){return(0,r.default)({},e,{componentName:e.component})}));this.get("fields.fields").setValue(t)}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,(0,r.default)({},e,{definition:void 0})),void 0!==e.definition&&this._setDefinition(e.definition)}},{key:"_getDefinition",value:function(){return{component:"Form",fields:this.get("fields.fields").mapForms((function(e){return(0,r.default)({},e.getValues({default:!1}),{component:e.getValue("componentName"),componentName:void 0})}))}}},{key:"getOne",value:function(e){return"definition"===e?this._getDefinition():(0,c.default)((0,u.default)(t.prototype),"getOne",this).call(this,e)}}]),t}(h.default);t.default=y},301:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(12)),i=function e(){(0,l.default)(this,e)};i.OWNER="owner",i.ID_OWNER=1,i.RESERVED=(0,r.default)({},i.OWNER,i.ID_OWNER),i.isReserved=function(e){return!!i.RESERVED[e]},i.getId=function(e){return i.RESERVED[e]};var o=i;t.default=o},312:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(15)),i=n(a(14)),o=n(a(16)),s=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=(0,l.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(o)))).name="PropertyNotDefinedError",a}return(0,o.default)(t,e),t}((0,n(a(313)).default)(Error));t.default=s},314:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(62)),o=n(a(117)),s=n(a(184)),u=n(a(185)),c=n(a(315)),d=function(){function e(t){(0,r.default)(this,e),this._props=t,this._propFiller=new u.default(t)}return(0,l.default)(e,[{key:"_fillProps",value:function(e){return this._propFiller.fillString(e)}},{key:"_fillWhere",value:function(e){var t=this;(0,i.default)(e,(function(a,n){"string"===typeof a?e[n]=t._fillProps(a):t._fillWhere(a)}))}},{key:"_fillErrorProps",value:function(e){return"string"===typeof e?this._fillProps(e):(e.error=this._fillProps(e.error),e)}},{key:"_getWhereProps",value:function(e){return(0,c.default)(e,this._props)}},{key:"_validateWithRule",value:function(e){var t=(0,o.default)(e.where);if(this._fillWhere(t),[this._getWhereProps(t)].filter((0,s.default)(t)).length>0)return this._fillErrorProps(e.error)}},{key:"validate",value:function(e,t){for(var a=[],n=0;n<e.length;n++){var r=this._validateWithRule(e[n]);if(void 0!==r&&(a.push(r),!t))break}return a}}]),e}();t.default=d},315:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.throwIfNotPropertyNotDefinedError=t.queryToPropNames=void 0;var r=n(a(116)),l=n(a(282)),i=n(a(625)),o=n(a(312)),s=function e(t,a,n){null!==t&&"object"===(0,r.default)(t)?Array.isArray(t)?t.forEach((function(t){return e(t,a,n)})):(0,l.default)(t,(function(t,r){"$"!==r.charAt(0)&&(n=void 0===n?r:n+"."+r),e(t,a,n)})):a[n]=!0};t.queryToPropNames=s;var u=function(e){if(!(e instanceof o.default))throw e};t.throwIfNotPropertyNotDefinedError=u;var c=function(e,t){var a={},n={};return s(e,n),(0,l.default)(n,(function(e,n){try{(0,i.default)(a,n,t.get(n))}catch(r){u(r)}})),a};t.default=c},333:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Getter=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(34)),s=n(a(39)),u=n(a(315)),c=n(a(174)),d=function(){function e(t){var a=t.action,n=t.component,r=t.args,i=t.globals;(0,l.default)(this,e),this._action=a,this._component=n,this._args=r,this._globals=i}return(0,i.default)(e,[{key:"get",value:function(e){var t,a=e.split("."),n=!1;switch(a[0]){case"action":t=this._action;break;case"arguments":t=this._args;break;case"globals":t=this._globals;break;default:n=!0,t=this._component}if(void 0!==t){if(a.length>1||n){var r=e;return n||(a.shift(),r=a.join(".")),t.get&&"function"===typeof t.get?t.get(r):(0,c.default)(t,r)}return t}}}]),e}();t.Getter=d;var f=function(){function e(){(0,l.default)(this,e),this._registrar=s.default}return(0,i.default)(e,[{key:"_getSession",value:function(){var e=this._registrar;return e.client?e.client.user.getSession():void 0}},{key:"_getGlobals",value:function(){return(0,r.default)({session:this._getSession()},o.default.get())}},{key:"getFillerProps",value:function(e){return new d({action:e&&e.parent,component:e&&e.component,args:e&&e.arguments,globals:this._getGlobals()})}},{key:"getWhereProps",value:function(e,t){var a=new d({action:t.parent,component:t.component,args:t.arguments,globals:this._getGlobals()});return(0,u.default)(e,a)}}]),e}();t.default=f},334:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(120)),p=n(a(751)),m=n(a(145)),v=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","ChainedSelectField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"multiline",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,startWithField:!1})}},{key:"_getValue",value:function(){var e=[];return this.eachField((function(t){var a=t.getValue();if(!a)return!1;e.push(a)})),e.length>0?e:null}},{key:"_newField",value:function(e){return new m.default((0,r.default)({name:e,label:0===e?this.get("label"):void 0,required:0===e?this.get("required"):void 0,block:!!this.get("multiline"),autoHideLabel:!1,autocomplete:!1},this.get(["blankString","fullWidth","hideLabel","useDisplayValue","editable"])))}},{key:"_onFieldCreated",value:function(e,t){var a=this;e.on("value",(function(t){var n=e.get("name");t?(a._setFieldOptions(e.getValue(),n+1),a._clearFieldIfExists(n+1),a._clearAndHideNextFieldsIfExist(n+2)):a._clearAndHideNextFieldsIfExist(n+1),a._calcValue()}))}},{key:"_getChildOptions",value:function(e,t){return this._indexedOptions.mapByParent(e,(function(e){return{value:e.id,label:e.label}}))}},{key:"_setFieldOptions",value:function(e,t){var a=this._getChildOptions(e,t);if(a.length>0){var n=this._getOrCreateField(t);n.set({options:a}),n.set({hidden:!1})}}},{key:"_clearAndHideNextFieldsIfExist",value:function(e){if(this._hasField(e)){var t=this._getField(e);t.clearValue(),t.set({hidden:!0}),this._clearAndHideNextFieldsIfExist(e+1)}}},{key:"_cleanUpNextFields",value:function(e,t){null===e&&this._fields.first().clearValue()}},{key:"_indexOptions",value:function(e){var t=this;this._indexedOptions=new p.default,e.forEach((function(e){t._indexedOptions.add({id:e.value,parentId:e.parentValue,label:e.label})}))}},{key:"_setOptions",value:function(e){this._indexOptions(e),this._setFieldOptions(null,0),this._clearFieldIfExists(1)}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,c.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=v},335:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(51)),h=n(a(183)),p=n(a(223)),m=n(a(750)),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","CompositeField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){this._fields=new h.default,(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fields",component:"Field"},{name:"change",component:"Field"}]}})}},{key:"_bubbleUpTouches",value:function(e){var t=this;e.on("touched",(function(e){if(e){var a=!0;t.eachField((function(e){if(!e.get("touched"))return a=!1,!1})),a&&t._set("touched",e)}}))}},{key:"_setParentValue",value:function(e,t){var a=this._value?(0,p.default)(this._value):{};null===t?delete a[e.get("name")]:a[e.get("name")]=t,this.setValue((0,m.default)(a)?null:a)}},{key:"_listenForChangesToField",value:function(e){var t=this;e.on("value",(function(a){return t._setParentValue(e,a)})),this._setParentValue(e,e.getValue()),this._bubbleUpTouches(e)}},{key:"emitChangeToField",value:function(e){this.set({change:e.get()})}},{key:"_addField",value:function(e,t){void 0===t&&(t=e.get("name")),this._fields.set(t,e),this.emitChangeToField(e),this._listenForChangesToField(e)}},{key:"_setFields",value:function(e){var t=this;e.forEach((function(e){return t._addField(e)}))}},{key:"_setForAllFields",value:function(e,t){var a=null;t?(a={},t.forEach((function(t){void 0!==e[t]&&(a[t]=e[t])}))):a=e,(0,m.default)(a)||this.eachField((function(e){return e.set(a)}))}},{key:"_setValue",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_setValue",this).call(this,e),this.eachField((function(t){return t.setValue(e&&e[t.get("name")]?e[t.get("name")]:null)}))}},{key:"_setRequired",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_setRequired",this).call(this,e),this._setForAllFields({required:e})}},{key:"_setDisabled",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_setDisabled",this).call(this,e),this._setForAllFields({disabled:e})}},{key:"_setEditable",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_setEditable",this).call(this,e),this._setForAllFields({editable:e})}},{key:"_setDirty",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_setDirty",this).call(this,e),this._setForAllFields({dirty:e})}},{key:"_setTouchedForAllFields",value:function(e){this._setForAllFields({touched:e})}},{key:"setTouched",value:function(e){(0,u.default)((0,s.default)(t.prototype),"setTouched",this).call(this,e),this._setTouchedForAllFields(e)}},{key:"setFullWidth",value:function(e){(0,u.default)((0,s.default)(t.prototype),"setFullWidth",this).call(this,e),this._setForAllFields({fullWidth:e})}},{key:"setUseDisplayValue",value:function(e){(0,u.default)((0,s.default)(t.prototype),"setUseDisplayValue",this).call(this,e),this._setForAllFields({useDisplayValue:e})}},{key:"setHideLabel",value:function(e){(0,u.default)((0,s.default)(t.prototype),"setHideLabel",this).call(this,e),this._setForAllFields({hideLabel:e})}},{key:"set",value:function(e){var a=this;(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0})),void 0!==e.fields&&this._setFields(e.fields),this.eachField((function(t){var n=t.get("name");a._setIfDefined(n,e[n])}))}},{key:"getField",value:function(e){return this._fields.get(e)}},{key:"_getFieldIfExists",value:function(e){if(this._fields.has(e))return this.getField(e)}},{key:"has",value:function(e){return(0,u.default)((0,s.default)(t.prototype),"has",this).call(this,e)||this._fields.has(e)}},{key:"getOne",value:function(e){var a=this._getFieldIfExists(e);return void 0===a?(0,u.default)((0,s.default)(t.prototype),"getOne",this).call(this,e):a}},{key:"eachField",value:function(e){this._fields.each((function(t,a,n){return e(t,a,n)}))}},{key:"mapFields",value:function(e){return this._fields.map((function(t,a,n){return e(t,a,n)}))}},{key:"clearErr",value:function(){(0,u.default)((0,s.default)(t.prototype),"clearErr",this).call(this),this.eachField((function(e){return e.clearErr()}))}},{key:"_validateField",value:function(e){e.validate()}},{key:"validate",value:function(){var e=this;(0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),this.eachField((function(t,a,n){return e._validateField(t,a,n)}))}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this.mapFields((function(e){return e.getDisplayValue()}))}},{key:"isBlank",value:function(){if((0,u.default)((0,s.default)(t.prototype),"isBlank",this).call(this))return!0;var e=this.getValue();return Array.isArray(e)&&0===e.length}},{key:"destroy",value:function(){(0,u.default)((0,s.default)(t.prototype),"destroy",this).call(this),this.eachField((function(e){return e.destroy()}))}}]),t}(f.default);t.default=v},336:function(e,t,a){"use strict";var n=a(337),r=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(12)),i=r(a(13)),o=r(a(15)),s=r(a(14)),u=r(a(19)),c=r(a(16)),d=r(a(183)),f=n(a(146)),h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"_getProp",value:function(e,t){return e[t]}},{key:"_setProp",value:function(e,t,a){return e[t]=a}},{key:"_findIdAfter",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=this.entries()[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var i=r.value,o=this._getProp(i[1],"order");if(void 0===o||null===o||o>e)return i[0]}}catch(s){a=!0,n=s}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return null}},{key:"getBeforeId",value:function(e){return this._getProp(e,"archivedAt")?null:null===this._getProp(e,"order")||void 0===this._getProp(e,"order")?void 0:this._findIdAfter(this._getProp(e,"order"))}},{key:"_createInDocs",value:function(e,a){var n=this.getBeforeId(a);return(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e,a,n)}},{key:"_createInDocsAndReorder",value:function(e,t,a){var n=this._getProp(t,"order");return n===f.Reorder.DEFAULT_ORDER||void 0===n?this._createInDocs(e,t):this._reorder(e,t,n,a)}},{key:"_updateInDocs",value:function(e,a){var n=void 0,r=this.get(e);return this._getProp(a,"order")!==this._getProp(r,"order")&&(n=this.getBeforeId(a)),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e,a,n)}},{key:"keysAtIndexes",value:function(e){var t=Object.assign([],e),a=0,n={},r=!0,l=!1,i=void 0;try{for(var o,s=this.entries()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=t.indexOf(a);if(-1!==c){if(n[t[c]]=u[0],1===t.length)break;t.splice(c,1)}a++}}catch(d){l=!0,i=d}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}return n}},{key:"_reorder",value:function(e,a,n,r){var l=this,i={forEach:function(e){l.forEach((function(t,a){e({id:a,order:l._getProp(t,"order"),archivedAt:l._getProp(t,"archivedAt")})}))}},o=f.default.reorder(i,e,n,(function(a,n){var i=l._getProp(a,"id");if(i!==e){var o=l.get(i);l._setProp(o,"order",n),(0,u.default)((0,s.default)(t.prototype),"set",l).call(l,i,o),r&&r(i,o)}}));return this._setProp(a,"order",n),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e,a,o.destinationKey)}},{key:"_updateInDocsAndReorder",value:function(e,t,a){var n=this.get(e),r=this._getProp(n,"order"),l=this._getProp(t,"order");return r===l?this._updateInDocs(e,t):this._reorder(e,t,l,a)}},{key:"set",value:function(e,a,n,r,l,i){return void 0!==n||void 0!==r?(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e,a,n,r):this.has(e)?l?this._updateInDocsAndReorder(e,a,i):this._updateInDocs(e,a):l?this._createInDocsAndReorder(e,a,i):this._createInDocs(e,a)}}]),t}(d.default);t.default=h},338:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Emit"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"event",component:"TextField"},{name:"value",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.component.emitChange(this.get("event"),this.get("value"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},339:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ExtendedField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"properties",component:"Field",required:!0}]}})}}]),t}(n(a(51)).default);t.default=f},34:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Globals=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Globals"),(0,d.default)((0,o.default)(a),"_onNavigate",null),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField"},{name:"redirectPath",component:"TextField"},{name:"snackbarMessage",component:"TextField"},{name:"appId",component:"TextField"},{name:"confirmation",component:"TextField"},{name:"searchString",component:"TextField"},{name:"redirectAfterLogin",component:"TextField"},{name:"reCAPTCHASiteKey",component:"TextField"},{name:"route",component:"Field"}]}})}},{key:"redirect",value:function(e){this.set({redirectPath:e})}},{key:"displaySnackbar",value:function(e){this.set({snackbarMessage:e})}},{key:"setOnNavigate",value:function(e){this._onNavigate=e}},{key:"onNavigate",value:function(e,t){this._onNavigate&&this._onNavigate(t)}},{key:"displayConfirmation",value:function(e){var t=e.title,a=e.text,n=e.callback,r=e.alert;this.set({confirmation:{title:t,text:a,callback:n,alert:r}})}},{key:"displayAlert",value:function(e){var t=e.title,a=e.text,n=e.callback;this.displayConfirmation({title:t,text:a,callback:n,alert:!0})}}]),t}(n(a(144)).default);t.Globals=f;var h=new f;t.default=h},340:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(14)),s=n(a(19)),u=n(a(16)),c=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,s.default)((0,o.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"product",component:"Field",required:!0},{name:"properties",component:"Field"}]}})}},{key:"produce",value:function(){var e=this.get("product")(),t=this.get("properties");return t&&e.set(t),e}}]),t}(n(a(232)).default);t.default=c},341:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(30)),i=n(a(31)),o=n(a(12)),s=n(a(13)),u=n(a(15)),c=n(a(18)),d=n(a(14)),f=n(a(19)),h=n(a(16)),p=n(a(17)),m=n(a(76)),v=n(a(70)),y=n(a(84)),b=n(a(342)),g=n(a(147)),_=a(146),F=n(a(34)),k=n(a(39)),w=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,c.default)(a),"_className","Store"),a}return(0,h.default)(t,e),(0,s.default)(t,[{key:"_create",value:function(e){(0,f.default)((0,d.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"where",component:"Field"}]}}),this._access=v.default,this._globals=F.default,this._registrar=k.default,e&&e.muteDidLoad||this._emitDidLoad()}},{key:"_tryAndHandleError",value:function(){var e=(0,i.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.default.tryAndDisplayErrorIfAPIError(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_shouldSetToLastOrder",value:function(e,t){return(null===e||void 0===e)&&t}},{key:"createDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=a._access.valuesCanCreate(t.form,{default:!1}),n=t.form.getValue("id"),l=t.form.getValue("order");return null!==l&&void 0!==l||t.reorder||(l=_.Reorder.DEFAULT_ORDER),a._createDoc((0,r.default)({},t,{fieldValues:e,id:n,order:l}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((0,i.default)(l.default.mark((function e(){var n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",a._getDoc(t));case 4:return e.next=6,a._getAllDocs((0,r.default)({},t,{showArchived:null}));case 6:return n=e.sent,e.abrupt("return",n.edges.length>0?n.edges[0].node:null);case 8:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDocs",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return a._getAllDocs(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=!1,!a){e.next=6;break}return e.next=5,this._hasDoc({id:a});case 5:n=e.sent;case 6:if(!n){e.next=10;break}return e.abrupt("return",this.updateDoc(t));case 10:return e.abrupt("return",this.createDoc(t));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upsertDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=t.form.getValue("id");return a._upsertDoc((0,r.default)({},t,{id:e}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){var e=a._access.valuesCanUpdate(t.form,{default:!1}),n=t.form.getValue("id"),l=t.form.getValue("order");return a._updateDoc((0,r.default)({},t,{fieldValues:e,id:n,order:l}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"archiveDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return a._archiveDoc(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._tryAndHandleError((function(){return a._restoreDoc(t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_emitError",value:function(e){this.emitChange("err",e)}},{key:"_now",value:function(){return new g.default({now:!0}).getValue()}},{key:"_buildDoc",value:function(e){var t=e.fieldValues,a=e.id,n=e.userId,r=e.order,l=this._now();return{id:a||y.default.uuid(),archivedAt:null,createdAt:l,updatedAt:l,userId:n||null,order:r,fieldValues:t}}},{key:"_setDoc",value:function(e){var t=e.doc,a=e.fieldValues,n=e.archivedAt,r=e.order;return void 0!==a&&(t.fieldValues=Object.assign(t.fieldValues,a)),void 0!==n&&(t.archivedAt=n),t.updatedAt=this._now(),t.order=void 0===r?_.Reorder.DEFAULT_ORDER:r,t}},{key:"_getUserId",value:function(){if(this._registrar.client){var e=this._registrar.client.user.getSession();if(e)return e.user.id}}}]),t}(m.default);t.default=w},342:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UberUtils=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(34)),u=function(){function e(){(0,i.default)(this,e),this._globals=s.default}return(0,o.default)(e,[{key:"displayError",value:function(e){this._globals.displayAlert({title:"Unexpected Error",text:e})}},{key:"setFormErrorsFromAPIError",value:function(e,t){try{JSON.parse(e.graphQLErrors[0].message).error.forEach((function(e){t.getField(e.field).setErr(e.error)}))}catch(a){this.displayError(e.toString())}}},{key:"tryAndSetFormErrorsIfAPIError",value:function(){var e=(0,l.default)(r.default.mark((function e(t,a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.setFormErrorsFromAPIError(e.t0,a),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"tryAndDisplayErrorIfAPIError",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.displayError(e.t0.toString()),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.UberUtils=u;var c=new u;t.default=c},347:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18)),l=n(a(17)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(107)),h=n(a(184)),p=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,o.default)(t,[{key:"validate",value:function(){if((0,c.default)((0,u.default)(t.prototype),"validate",this).call(this),this._valueSet)try{(0,h.default)(this._valueSet)}catch(e){this._errorFromSet=e.message,this.set({err:!0})}}}]),t}(n(a(348)).default),m=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(o))),(0,l.default)((0,r.default)(a),"_className","WhereField"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this._setDefaults(e,{form:new p})}}]),t}(f.default);t.default=m},348:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,i.default)(this,(0,s.default)(t).call(this,e)),(0,d.default)((0,o.default)(a),"_className","ObjectForm"),a._errorFromSet=null,a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,Object.assign(e,{omitDefaultFields:!0})),this._set("reportUndefined",!1)}},{key:"setValues",value:function(e){(0,u.default)((0,s.default)(t.prototype),"setValues",this).call(this,e),this._errorFromSet=null,this._valueSet=e}},{key:"isBlank",value:function(){return!this._valueSet}},{key:"getErrs",value:function(){var e=(0,u.default)((0,s.default)(t.prototype),"getErrs",this).call(this);return null!==this._errorFromSet&&(e=e.concat({error:this._errorFromSet})),e}}]),t}(n(a(121)).default);t.default=f},349:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","IntegerField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"validate",value:function(){(0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),this._validateWithRegExp(/^([+-]?[1-9]\d*|0)$/,"not an integer")}}]),t}(n(a(148)).default);t.default=f},350:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(233)),h=n(a(39)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","MSONComponent"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"definition",component:"Field",required:!0}]}}),this._preserveClassName=!1,this._registrar=h.default}},{key:"_setCompiler",value:function(e){this._compiler=e}},{key:"_getCompiler",value:function(){var e=this._compiler?this._compiler:this._registrar.compiler;if(e)return e;throw new Error("compiler has not been registered with registrar")}},{key:"set",value:function(e){if((0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e),void 0!==e.definition){var a=this._getCompiler().newComponent(e.definition);this.setComponentToWrap(a)}}}]),t}(f.default);t.default=p},351:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Vault"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({backEndOnly:!0})}}]),t}(n(a(144)).default);t.default=f},352:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Set"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",component:"TextField"},{name:"value",component:"Field"}]}})}},{key:"_setProp",value:function(e){var t=this.get("name"),a=t?t.split("."):[],n=this.get("value"),r=void 0===n?e.arguments:n;return t?("globals"===a[0]||"component"===a[0]?"globals"===a.splice(0,1)[0]?this._globals.set((0,h.default)({},a.join("."),r)):e.component.set(r):e.component.set((0,h.default)({},t,r)),e.arguments):r}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setProp(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},353:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Tabs"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"CollectionField",formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"name",component:"TextField",label:"Name",required:!0},{name:"label",component:"TextField",label:"Label",required:!0},{name:"icon",component:"TextField",label:"Icon",docLevel:"basic"}]}}},{name:"value",component:"NumberField",help:"The index of the tab selected"}]}}),this._setDefaults(e,{value:0})}}]),t}(n(a(76)).default);t.default=f},354:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Text"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"text",component:"TextField",label:"Text",multiline:!0,docLevel:"basic",help:"Any markdown. See markdownguide.org"}]}})}}]),t}(n(a(76)).default);t.default=f},369:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(95)),p=n(a(256)),m=n(a(353)),v=n(a(107)),y=n(a(352)),b=n(a(338)),g=n(a(839)),_=n(a(354)),F=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","FormBuilder"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"mson",component:"Field"}]},fields:[new m.default({name:"tabs",items:[{name:"edit",label:"Edit",icon:"Edit"},{name:"preview",label:"Preview",icon:"ViewCompact"},{name:"export",label:"Export",icon:"code"}]}),new _.default({name:"mson",hidden:!0}),new v.default({name:"form",form:new p.default})],listeners:[{event:"fields.tabs.content.edit",actions:[new y.default({name:"fields.form.form.editable",value:!0}),new b.default({event:"hideCode"})]},{event:"fields.tabs.content.preview",actions:[new y.default({name:"fields.form.form.editable",value:!1}),new b.default({event:"hideCode"})]},{event:"fields.tabs.content.export",actions:[new g.default({value:"{{mson}}",space:2}),new y.default({name:"fields.mson.content.text",value:"```js\n{{arguments}}\n```\n"}),new b.default({event:"setCodeHidden",value:{hideCode:!1,hideForm:!0}})]},{event:"setCodeHidden",actions:[new y.default({name:"fields.mson.content.hidden",value:"{{arguments.hideCode}}"}),new y.default({name:"fields.form.hidden",value:"{{arguments.hideForm}}"})]},{event:"hideCode",actions:[new b.default({event:"setCodeHidden",value:{hideCode:!0,hideForm:!1}})]}]})}},{key:"_setMSON",value:function(e){var t=e.fields.map((function(e){return(0,r.default)({},e,{componentName:e.component})}));this.get("fields.form.form.fields.fields").setValue(t)}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,(0,r.default)({},e,{mson:void 0})),void 0!==e.mson&&this._setMSON(e.mson)}},{key:"_getMSON",value:function(){return{component:"Form",fields:this.get("fields.form.form.fields.fields").mapForms((function(e){return(0,r.default)({},e.getValues({default:!1}),{component:e.getValue("componentName"),componentName:void 0})}))}}},{key:"getOne",value:function(e){return"mson"===e?this._getMSON():(0,c.default)((0,u.default)(t.prototype),"getOne",this).call(this,e)}}]),t}(h.default);t.default=F},39:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},405:function(e,t,a){e.exports=a(840)},41:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(59)),i=n(a(31)),o=n(a(12)),s=n(a(13)),u=n(a(15)),c=n(a(18)),d=n(a(14)),f=n(a(19)),h=n(a(16)),p=n(a(17)),m=n(a(144)),v=n(a(184)),y=n(a(185)),b=n(a(333)),g=n(a(39)),_=n(a(34)),F=n(a(70)),k=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,c.default)(a),"_className","Action"),a}return(0,h.default)(t,e),(0,s.default)(t,[{key:"_create",value:function(e){(0,f.default)((0,d.default)(t.prototype),"_create",this).call(this,e),this._registrar=g.default,this._globals=_.default,this._access=F.default,this._componentFillerProps=new b.default,this._fillerProps=null,this.set({schema:{component:"Form",fields:[{name:"if",component:"WhereField"},{name:"actions",component:"Field"},{name:"else",component:"Field"},{name:"layer",component:"TextField"},{name:"detached",component:"BooleanField"}]}})}},{key:"_fill",value:function(e){var t=new y.default(this._fillerProps);return e=t.fill(e),e=t.fill(e)}},{key:"_getFilled",value:function(e){var a=(0,f.default)((0,d.default)(t.prototype),"get",this).call(this,e);return void 0===a?void 0:this._fill(a)}},{key:"get",value:function(e){return this._getFilled(e)}},{key:"_setFillerProps",value:function(e){this._fillerProps=this._componentFillerProps.getFillerProps(e)}},{key:"_setWhereProps",value:function(e,t){this._whereProps=this._componentFillerProps.getWhereProps(e,t)}},{key:"run",value:function(){var e=(0,i.default)(r.default.mark((function e(t){var a,n,i,o,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._setFillerProps(t),a=this.get("if"),n=!0,i=null,a?(this._setWhereProps(a,t),0===[this._whereProps].filter((0,v.default)(a)).length?this.get("else")?i=this.get("else"):n=!1:i=this.get("actions")):i=this.get("actions"),!n){e.next=21;break}if(!i){e.next=20;break}o=null,e.t0=r.default.keys(i);case 9:if((e.t1=e.t0()).done){e.next=17;break}return s=e.t1.value,!o&&t&&t.arguments&&(o=t.arguments),e.next=14,i[s].run((0,l.default)({},t,{arguments:o,parent:this,context:t&&t.context}));case 14:o=e.sent,e.next=9;break;case 17:return e.abrupt("return",o);case 20:return e.abrupt("return",this.act(t));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(m.default);t.default=k},42:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(742)).default;t.default=r},51:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(76)),h=n(a(314)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Field"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"name",required:!0},{name:"label",component:"TextField",label:"Label",docLevel:"basic"},{name:"value",component:"Field"},{name:"err",component:"Field"},{name:"required",component:"BooleanField",label:"Required",docLevel:"basic"},{name:"fullWidth",component:"BooleanField",label:"Full Width",docLevel:"basic"},{name:"touched",component:"BooleanField"},{name:"validators",component:"Field"},{name:"block",component:"BooleanField",label:"Block",docLevel:"basic"},{name:"disabled",component:"BooleanField",label:"Disabled",docLevel:"basic"},{name:"editable",component:"BooleanField",label:"Editable"},{name:"dirty",component:"BooleanField"},{name:"help",component:"TextField",label:"Help"},{name:"in",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"before",component:"TextField"},{name:"after",component:"TextField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"ignoreErrs",component:"BooleanField"},{name:"forbidSort",component:"BooleanField"},{name:"hideLabel",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField",label:"Use Display Value",docLevel:"basic"},{name:"autoHideLabel",component:"BooleanField"}]}}),this._setDefaults(e,{editable:!0,block:!0,out:!0,in:!0,hidden:!1,required:!1,fullWidth:!1,disabled:!1,autoHideLabel:!0})}},{key:"_setValue",value:function(e){this._set("value",e)}},{key:"_setRequired",value:function(e){this._set("required",e)}},{key:"_setDisabled",value:function(e){this._set("disabled",e)}},{key:"_setEditable",value:function(e){this._set("editable",e)}},{key:"_setDirty",value:function(e){this._set("dirty",e)}},{key:"setTouched",value:function(e){this._set("touched",e)}},{key:"setFullWidth",value:function(e){this._set("fullWidth",e)}},{key:"setUseDisplayValue",value:function(e){this._set("useDisplayValue",e)}},{key:"setHideLabel",value:function(e){this._set("hideLabel",e)}},{key:"set",value:function(e){void 0!==e.value&&e.value!==this.get("value")&&this.set({dirty:!0}),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,Object.assign({},e,{value:void 0,required:void 0,disabled:void 0,editable:void 0,dirty:void 0,touched:void 0,fullWidth:void 0,useDisplayValue:void 0,hideLabel:void 0})),void 0!==e.value&&this._setValue(e.value),void 0!==e.required&&this._setRequired(e.required),void 0!==e.disabled&&this._setDisabled(e.disabled),void 0!==e.editable&&this._setEditable(e.editable),void 0!==e.dirty&&this._setDirty(e.dirty),void 0!==e.touched&&this.setTouched(e.touched),void 0!==e.fullWidth&&this.setFullWidth(e.fullWidth),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),void 0!==e.hideLabel&&this.setHideLabel(e.hideLabel)}},{key:"setErr",value:function(e){this.set({err:e})}},{key:"clearErr",value:function(){this.setErr(null)}},{key:"getErr",value:function(){return this.get("err")}},{key:"setValue",value:function(e){this.set({value:e})}},{key:"clearValue",value:function(){this.setValue(null)}},{key:"getValue",value:function(){return this.get("value")}},{key:"isValueBlank",value:function(e){return this.constructor.isValueBlank(e)}},{key:"isBlank",value:function(){var e=this.getValue();return this.isValueBlank(e)}},{key:"_toValidatorProps",value:function(){return this}},{key:"validate",value:function(){if(!this.get("ignoreErrs"))if(this._required&&this.isBlank())this.setErr("required");else if(!this.isBlank()&&this._validators&&this._validators.length>0){var e=new h.default(this._toValidatorProps()).validate(this._validators);0!==e.length&&this.setErr(e[0])}}},{key:"getDisplayValue",value:function(){return this.get("value")}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"_validateWithRegExp",value:function(e,t){if(!this.isBlank()){var a=this.getValue();e.test(a)||this.setErr(t)}}},{key:"getFirstErr",value:function(){var e=this.get("err");return Array.isArray(e)?Array.isArray(e[0].error)?e[0].error[0].error:e[0].error:e}},{key:"isField",value:function(){return!0}}]),t}(f.default);t.default=p,p.isValueBlank=function(e){return null===e||void 0===e}},514:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(62)),o=n(a(174)),s=n(a(223)),u=n(a(301)),c=function(){function e(){(0,r.default)(this,e)}return(0,l.default)(e,[{key:"_hasAccess",value:function(e,t,a){Array.isArray(e)||(e=[e]);var n=!1;return(0,i.default)(e,(function(e){if(t[e]||a&&(e===u.default.ID_OWNER||e===u.default.OWNER))return n=!0,!1})),n}},{key:"hasFormAccess",value:function(e,t,a,n){var r=(0,o.default)(t,["form",e]);return void 0===r||this._hasAccess(r,a,n)}},{key:"_canAccessFieldForOp",value:function(e,t,a,n,r){var l=(0,o.default)(t,["fields",n,e]);return void 0!==l?this._hasAccess(l,a,r):this.hasFormAccess(e,t,a,r)}},{key:"_canAccessField",value:function(e,t,a,n,r,l){return"update"===e?this._canAccessFieldForOp(e,t,a,n,r)?e:!!l&&(!!this._canAccessFieldForOp("read",t,a,n,r)&&"read"):!!this._canAccessFieldForOp(e,t,a,n,r)&&e}},{key:"canAccess",value:function(e,t,a,n,r){var l=this,o=[];return(0,i.default)(n,(function(n,i){l._canAccessField(e,t,a,i,r)||o.push(i)})),o}},{key:"fieldsCanAccess",value:function(e,t,a,n,r,l){var o=this,s={};return(0,i.default)(n,(function(n,i){var u=o._canAccessField(e,t,a,i,r,l);u&&(s[i]=u)})),s}},{key:"valuesCanAccess",value:function(e,t,a,n,r){var l=this;return n=(0,s.default)(n),(0,i.default)(n,(function(i,o){l._canAccessField(e,t,a,o,r)||delete n[o]})),n}},{key:"canCreate",value:function(e,t,a,n){return this.canAccess("create",e,t,a,n)}},{key:"canRead",value:function(e,t,a,n){return this.canAccess("read",e,t,a,n)}},{key:"canUpdate",value:function(e,t,a,n){return this.canAccess("update",e,t,a,n)}},{key:"canArchive",value:function(e,t,a,n){return this.canAccess("archive",e,t,a,n)}}]),e}();t.default=c},579:function(e,t,a){},581:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(116)),l=n(a(30)),i=n(a(31)),o=n(a(12)),s=n(a(15)),u=n(a(14)),c=n(a(18)),d=n(a(13)),f=n(a(16)),h=n(a(17)),p=n(a(302)),m=n(a(39)),v=n(a(84)),y=n(a(62)),b=n(a(607)),g=n(a(236)),_=n(a(183)),F=n(a(312)),k=0,w=function(){return k++},E=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,h.default)((0,c.default)(a),"_className","Component"),a._registrar=m.default,a._setDebugId(),a._listenerEvents={},a._subEvents={},a._isLoaded=!1,a._resolveAfterCreate=v.default.once((0,c.default)(a),"didCreate"),a._resolveAfterLoad=v.default.once((0,c.default)(a),"didLoad"),a._listenToAllChanges(),a._propNames=["schema"],a._indexedPropNames={schema:!0},e&&void 0!==e.name&&a._setProperty("name",e.name),a._create(void 0===e?{}:e),a.set(void 0===e?{}:e),a._emitCreateIfNotMuted(),a._setKey(),a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"_getBaseComponentSchema",value:function(){return{component:"Form",fields:[{name:"component",component:"TextField"},{name:"name",component:"TextField",label:"Name",docLevel:"basic",help:"A unique variable name"},{name:"listeners",component:"Field"},{name:"schema",component:"FormField",form:{component:"ObjectForm"}},{name:"isStore",component:"BooleanField"},{name:"didCreate",component:"BooleanField"},{name:"backEndOnly",component:"BooleanField"},{name:"parent",component:"Field"},{name:"muteCreate",component:"BooleanField"},{name:"disableSubEvents",component:"BooleanField"},{name:"docLevel",component:"SelectField",options:[{value:"basic",label:"Basic"},{value:"advanced",label:"Advanced"}]}]}}},{key:"_emitCreate",value:function(){this.emitChange("create"),this._hasListenerForEvent("create")||this._emitDidCreate()}},{key:"_setDebugId",value:function(){this._debugId=Math.random()}},{key:"_emitCreateIfNotMuted",value:function(){var e=this;this.get("muteCreate")||setTimeout((function(){e._emitCreate()}))}}]),(0,d.default)(t,[{key:"_setKey",value:function(){this._key=w()}},{key:"_create",value:function(e){this.set({schema:this._getBaseComponentSchema()}),this._setDefaults(e,{docLevel:"advanced"})}},{key:"emitChange",value:function(e,t){this.emit(e,t),this.emit("$change",e,t)}},{key:"_setProperty",value:function(e,t){this["_"+e]=t}},{key:"_setPropertyAndEmitChange",value:function(e,t){this._setProperty(e,t),this.emitChange(e,t)}},{key:"_setIfDifferent",value:function(e,t){this["_"+e]!==t&&this._setPropertyAndEmitChange(e,t)}},{key:"_push",value:function(e,t){var a=this._getProperty(e);Array.isArray(a)||(a=[]),a.push(t),this._set(e,a)}},{key:"_concat",value:function(e,t){var a=this._getProperty(e);Array.isArray(a)||(a=[]),a=a.concat(t),this._set(e,a)}},{key:"has",value:function(e){return void 0!==this._indexedPropNames[e]}},{key:"_throwIfNotDefined",value:function(e){if(!this.has(e))throw new F.default(this.getClassName()+": "+e+" not defined")}},{key:"_setIfPropDefined",value:function(e,t){this._throwIfNotDefined(e),this._setIfDifferent(e,t)}},{key:"_throwPropertyNotFound",value:function(e){throw new F.default(e.join(".")+" not found")}},{key:"isComponent",value:function(e){return e instanceof t||e instanceof _.default}},{key:"_getSubProperty",value:function(e,t){var a=e.split("."),n=this;void 0===t?t=a.length:t<0&&(t+=a.length);for(var r=[],l=0;l<t;l++){var i=a[l];r.push(i),this.isComponent(n)?(n.has(i)||this._throwPropertyNotFound(r),n=n.get(i)):void 0===n?(r.pop(),this._throwPropertyNotFound(r)):void 0===n[i]?this._throwPropertyNotFound(r):n=n[i]}return{property:n,names:a}}},{key:"_set",value:function(e,t){if(this._hasDot(e)){var a=this._getSubProperty(e,-1),n=a.property,r=a.names,l=r[r.length-1];this.isComponent(n)?n.has(l)&&this.isComponent(n.get(l))?n.get(l).set(t):n.set((0,h.default)({},l,t)):n[l]=t}else this._setIfPropDefined(e,t)}},{key:"_setIfDefined",value:function(e,t){void 0!==t&&this._set(e,t)}},{key:"_setProps",value:function(e){var t=this;(0,y.default)(e,(function(e,a){return t._setIfDefined(a,e)}))}},{key:"_setName",value:function(e){this._set("name",e)}},{key:"_setParent",value:function(e){this._set("parent",e)}},{key:"_setIsStore",value:function(e){this._set("isStore",e)}},{key:"_setDefaults",value:function(e,t){var a=this;(0,y.default)(t,(function(t,n){void 0===e[n]&&a._set(n,t)}))}},{key:"_emitDidCreate",value:function(){this.set({didCreate:!0})}},{key:"_emitDidLoad",value:function(){this.emitChange("didLoad"),this._isLoaded=!0}},{key:"_getLayer",value:function(){return this.constructor.getLayer()}},{key:"_hasListenerForEvent",value:function(e){return!!this._listenerEvents[e]}},{key:"_hasDot",value:function(e){return-1!==e.indexOf(".")}},{key:"_listenToSubEvent",value:function(e){var t=this;this._subEvents[e]=!0;var a=this._getSubProperty(e,-1),n=a.property,r=a.names,l=r[r.length-1];n.on(l,(function(a){return t.emitChange(e,a)}))}},{key:"_listenIfNewSubEvent",value:function(e){void 0!==this._subEvents[e]||this.get("disableSubEvents")||this._listenToSubEvent(e)}},{key:"_listenIfSubEvent",value:function(e){var t=this;this._hasDot(e)&&this.resolveAfterCreate().then((function(){return t._listenIfNewSubEvent(e)}))}},{key:"_setListeners",value:function(e){var t=this;this._concat("listeners",e),e.forEach((function(e){(Array.isArray(e.event)?e.event:[e.event]).forEach((function(e){t._listenIfSubEvent(e),t._listenerEvents[e]=!0}))}))}},{key:"_emitAfterListenerEvents",value:function(e){switch(e){case"create":this._emitDidCreate();break;case"load":this._emitDidLoad()}}},{key:"_runAction",value:function(){var e=(0,i.default)(l.default.mark((function e(t,a,n,r,i){var o;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.get("layer"),this._getLayer()&&o&&o!==this._getLayer()){e.next=3;break}return e.abrupt("return",a.run({event:n,component:this,arguments:r,context:i}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,l){return e.apply(this,arguments)}}()},{key:"_onActionErr",value:function(e){this.emitChange("actionErr",e)}},{key:"_onDetachedActionErr",value:function(e){this._registrar.log&&this._registrar.log.error(e),this._onActionErr(e)}},{key:"runListeners",value:function(){var e=(0,i.default)(l.default.mark((function e(t,a,n){var r,i,o,s,u,c,d=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.get("listeners"))){e.next=25;break}e.t0=l.default.keys(r);case 3:if((e.t1=e.t0()).done){e.next=24;break}if(i=e.t1.value,o=r[i],-1===(Array.isArray(o.event)?o.event:[o.event]).indexOf(t)){e.next=22;break}e.t2=l.default.keys(o.actions);case 9:if((e.t3=e.t2()).done){e.next=22;break}if(s=e.t3.value,u=o.actions[s],c=this._runAction(o,u,t,a,n),!u.get("detached")){e.next=17;break}c.catch((function(e){return d._onDetachedActionErr(e)})),e.next=20;break;case 17:return e.next=19,c;case 19:a=e.sent;case 20:e.next=9;break;case 22:e.next=3;break;case 24:this._emitAfterListenerEvents(t);case 25:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"_runListenersAndEmitError",value:function(){var e=(0,i.default)(l.default.mark((function e(t,a){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.runListeners(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),this._onActionErr(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"_listenToAllChanges",value:function(){var e=this;this.on("$change",function(){var t=(0,i.default)(l.default.mark((function t(a,n){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._listenerEvents[a]){t.next=3;break}return t.next=3,e._runListenersAndEmitError(a,n);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},{key:"_pushProp",value:function(e){this.has(e)||(this._propNames.push(e),this._indexedPropNames[e]=!0)}},{key:"_setSchema",value:function(e){var t=this;this._push("schema",e),e.fields?e.fields.forEach((function(e){return t._pushProp(e.name)})):e.eachField&&e.eachField((function(a){e.isDefaultField(a.get("name"))||t._pushProp(a.get("name"))}))}},{key:"_setMuteEvents",value:function(e){this._set("muteCreate",e)}},{key:"set",value:function(e){if("object"!==(0,r.default)(e))throw new Error("props must be an object");void 0!==e.schema&&this._setSchema(e.schema),void 0!==e.name&&this._setName(e.name),void 0!==e.parent&&this._setParent(e.parent),void 0!==e.isStore&&this._setIsStore(e.isStore),void 0!==e.muteCreate&&this._setMuteEvents(e.muteCreate),this._setProps(Object.assign({},e,{component:void 0,props:void 0,schema:void 0,name:void 0,parent:void 0,isStore:void 0,listeners:void 0,muteCreate:void 0})),void 0!==e.listeners&&this._setListeners(e.listeners)}},{key:"_getProperty",value:function(e){return this["_"+e]}},{key:"_getIfDefined",value:function(e){return this._throwIfNotDefined(e),this._getProperty(e)}},{key:"_get",value:function(e){return this._hasDot(e)?this._getSubProperty(e).property:this._getIfDefined(e)}},{key:"getOne",value:function(e){return this._get(e)}},{key:"get",value:function(e){var t=this;if(e||(e=this._propNames),Array.isArray(e)){var a={};return e.forEach((function(e){a[e]=t.getOne(e)})),a}return this.getOne(e)}},{key:"getClassName",value:function(){return this._className}},{key:"getParentClassName",value:function(){return(new(Object.getPrototypeOf(this.constructor))).getClassName()}},{key:"_cloneDeep",value:function(e){return(0,g.default)(e,(function(e,t,a,n){if("_parent"===t||"parent"===t)return e}))}},{key:"_cloneSlow",value:function(){var e=this._cloneDeep(this);return e._setDebugId(),e._setKey(),e.removeAllListeners(),e._emitCreateIfNotMuted(),e}},{key:"_cloneFast",value:function(e){var t=e.defaultProps,a=e.excludeProps,n=new(this._registrar.compiler.getCompiledComponent(this.getClassName()))(t);a&&(a=a.concat(["parent"]));var r=(0,b.default)(this._propNames,a);return n.set(this._cloneDeep(this.get(r))),n.set(this.get(["parent"])),n}},{key:"_canCloneFast",value:function(){return this._registrar.compiler&&this._registrar.compiler.exists(this.getClassName())}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,a=e.excludeProps;return this._canCloneFast()?this._cloneFast({defaultProps:t,excludeProps:a}):this._cloneSlow()}},{key:"clone",value:function(){return this._clone()}},{key:"emitLoad",value:function(){this.emitChange("load"),this._hasListenerForEvent("load")||this._emitDidLoad()}},{key:"emitUnload",value:function(){this._isLoaded=!1,this.emitChange("unload")}},{key:"_bubbleUpEvents",value:function(e,t){var a=this;t.forEach((function(t){e.on(t,(function(e){a.emitChange(t,e)}))}))}},{key:"getKey",value:function(){return this._key}},{key:"_setOn",value:function(e,t,a){a.forEach((function(a){void 0!==t[a]&&e.set((0,h.default)({},a,t[a]))}))}},{key:"_getFrom",value:function(e,t,a){if(-1!==a.indexOf(t))return e.get(t)}},{key:"buildSchemaForm",value:function(e,t){this.get("schema").forEach((function(a){t.isCompiled(a)||(a=t.newComponent(a)),e.copyFields(a)}))}},{key:"getUniqueId",value:function(){return this.constructor.toUniqueId(this._key)}},{key:"isLoaded",value:function(){return this._isLoaded}},{key:"resolveAfterCreate",value:function(){return this._resolveAfterCreate}},{key:"resolveAfterLoad",value:function(){return this._resolveAfterLoad}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"getHiddenFieldDefinitions",value:function(e){return e.map((function(e){return{name:e,component:"Field",hidden:!0}}))}}],[{key:"getLayer",value:function(){return this.constructor._layer}},{key:"setLayer",value:function(e){this.constructor._layer=e}},{key:"getNextKey",value:function(){return w()}},{key:"toUniqueId",value:function(e){return"mson-"+e}},{key:"getNextUniqueId",value:function(){var e=this.getNextKey();return this.toUniqueId(e)}}]),t}(p.default.EventEmitter);t.default=E,(0,h.default)(E,"_layer",null)},70:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Access=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(39)),o=n(a(514)),s=n(a(62)),u=function(){function e(){(0,r.default)(this,e),this._accessControl=new o.default,this._registrar=i.default}return(0,l.default)(e,[{key:"canAccess",value:function(e,t){var a=t.get("access");if(a&&a.form&&a.form[e]){var n=a.form[e],r=Array.isArray(n)?n:[n];return this._registrar.client.user.hasRole(r)}return!0}},{key:"canCreate",value:function(e){return this.canAccess("create",e)}},{key:"canRead",value:function(e){return this.canAccess("read",e)}},{key:"canUpdate",value:function(e){return this.canAccess("update",e)}},{key:"canArchive",value:function(e){return this.canAccess("archive",e)}},{key:"_fieldsOrValuesCanAccess",value:function(e,t,a,n,r){var l=t.get("access"),i=this._registrar.client&&this._registrar.client.user.getSession(),o={},u=!1;i&&i.user.roles&&((0,s.default)(i.user.roles,(function(e,t){o[e.name]=!0})),u=i.user.id===t.getValue("userId"));var c=t.getValues(a),d=n?"fieldsCanAccess":"valuesCanAccess";return this._accessControl[d](e,l,o,c,u,r)}},{key:"fieldsCanAccess",value:function(e,t,a,n){return this._fieldsOrValuesCanAccess(e,t,a,!0,n)}},{key:"fieldsCanCreate",value:function(e){return this.fieldsCanAccess("create",e,{out:!0})}},{key:"fieldsCanRead",value:function(e){return this.fieldsCanAccess("read",e)}},{key:"fieldsCanUpdate",value:function(e){return this.fieldsCanAccess("update",e,{out:!0})}},{key:"valuesCanAccess",value:function(e,t,a){return this._fieldsOrValuesCanAccess(e,t,a,!1)}},{key:"valuesCanCreate",value:function(e,t){return this.valuesCanAccess("create",e,Object.assign({out:!0},t))}},{key:"valuesCanRead",value:function(e,t){return this.valuesCanAccess("read",e,t)}},{key:"valuesCanUpdate",value:function(e,t){return this.valuesCanAccess("update",e,Object.assign({out:!0},t))}}]),e}();t.Access=u;var c=new u;t.default=c},742:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Compiler=void 0;var r=n(a(116)),l=n(a(15)),i=n(a(18)),o=n(a(14)),s=n(a(19)),u=n(a(16)),c=n(a(17)),d=n(a(12)),f=n(a(13)),h=n(a(743)),p=n(a(185)),m=n(a(39)),v=n(a(62)),y=n(a(117)),b=function(){function e(t){(0,d.default)(this,e),this._components=t.components,this._validateOnly=!1}return(0,f.default)(e,[{key:"setValidateOnly",value:function(e){this._validateOnly=e}},{key:"exists",value:function(e){return!!this._components[e]}},{key:"getComponent",value:function(e){if(this.exists(e))return this._components[e];throw new Error("missing component "+e)}},{key:"_compileAnyFactoryProduct",value:function(e){var t=this;if("Factory"===e.component){var a=e.product,n=e.properties;delete e.properties,e.product=function(){var e=null;if(e=t.isCompiled(a)?a.produce():t.newComponent(a),n){var r=(0,y.default)(n);t._instantiate(r),e.set(r)}return e}}}},{key:"_getWrappedComponentClass",value:function(e,t,a,n){var r=this.getCompiledComponent(e,t);this._validateOnly&&(t=Object.assign({},t,{muteCreate:!0,disableSubEvents:!0}));var h=this;return function(r){function m(){var t,a;(0,d.default)(this,m);for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return a=(0,l.default)(this,(t=(0,o.default)(m)).call.apply(t,[this].concat(s))),(0,c.default)((0,i.default)(a),"_className",void 0===n?e:n),a}return(0,u.default)(m,r),(0,f.default)(m,[{key:"_create",value:function(e){var n=new p.default(Object.assign({},a,e));t=n.fillAll(t),h._compileAnyFactoryProduct(t),delete t.component,h._instantiate(t),h._instantiate(e);var r=Object.assign({},t,e);(0,s.default)((0,o.default)(m.prototype),"_create",this).call(this,r),t.componentToWrap&&delete t.componentToWrap,this.set(t)}}]),m}(r)}},{key:"isCompiled",value:function(e){return"object"!==(0,r.default)(e)||"Object"!==e.constructor.name&&"Array"!==e.constructor.name}},{key:"getCompiledComponent",value:function(e,t){var a=this.getComponent(e);return this.isCompiled(a)?a:this.compile(a,t,e)}},{key:"compile",value:function(e,t,a){return this._getWrappedComponentClass(e.component,e,t,a)}},{key:"_instantiateComponent",value:function(e,t){return new e(t)}},{key:"_instantiate",value:function(e){var t=this;if(e instanceof h.default.Component)return e;if("Factory"===e.component)return new(this.compile(e));if((0,v.default)(e,(function(a,n){"object"===(0,r.default)(a)&&null!==a&&(e[n]=t._instantiate(a))})),e.component){var a=this.getCompiledComponent(e.component);return this._instantiateComponent(a,Object.assign({},e,{component:void 0}))}return e}},{key:"newComponent",value:function(e){var t=this.compile(e);return this._instantiateComponent(t)}},{key:"getOldestCompiledAncestor",value:function(e){var t=this.getComponent(e);return this.isCompiled(t)?e:this.getOldestCompiledAncestor(t.component)}},{key:"registerComponent",value:function(e,t){this._components[e]=t}},{key:"registerComponents",value:function(e){var t=this;(0,v.default)(e,(function(e){return t.registerComponent(e.name,e)}))}},{key:"deregisterComponent",value:function(e){delete this._components[e]}},{key:"createSchemaForm",value:function(e){var t=this.newComponent({component:e.component}),a=new(0,this._components.Form);if(t.buildSchemaForm(a,this),e.schema){var n=g.newComponent(e.schema);n.setRequired(!1),a.copyFields(n)}return a}},{key:"validateDefinition",value:function(e){var t=this.createSchemaForm(e);return t.setValues(e),t.validate(),t}}]),e}();t.Compiler=b;var g=new b({components:h.default});m.default.compiler=g;var _=g;t.default=_},743:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(41)),l=n(a(744)),i=n(a(745)),o=n(a(746)),s=n(a(747)),u=n(a(748)),c=n(a(152)),d=n(a(749)),f=n(a(334)),h=n(a(753)),p=n(a(754)),m=n(a(755)),v=n(a(232)),y=n(a(153)),b=n(a(193)),g=n(a(335)),_=n(a(759)),F=n(a(760)),k=n(a(761)),w=n(a(147)),E=n(a(762)),C=n(a(763)),O=n(a(338)),S=n(a(339)),x=n(a(340)),A=n(a(51)),P=n(a(764)),j=n(a(121)),D=n(a(785)),L=n(a(107)),I=n(a(786)),T=n(a(787)),N=n(a(788)),M=n(a(789)),B=n(a(790)),V=n(a(246)),R=n(a(349)),W=n(a(791)),U=n(a(120)),q=n(a(792)),G=n(a(793)),K=n(a(794)),H=n(a(795)),z=n(a(796)),$=n(a(245)),Y=n(a(797)),J=n(a(801)),Z=n(a(350)),X=n(a(148)),Q=n(a(348)),ee=n(a(802)),te=n(a(803)),ae=n(a(804)),ne=n(a(805)),re=n(a(806)),le=n(a(808)),ie=n(a(809)),oe=n(a(810)),se=n(a(811)),ue=n(a(812)),ce=n(a(813)),de=n(a(814)),fe=n(a(815)),he=n(a(816)),pe=n(a(817)),me=n(a(818)),ve=n(a(819)),ye=n(a(820)),be=n(a(821)),ge=n(a(822)),_e=n(a(823)),Fe=n(a(824)),ke=n(a(145)),we=n(a(825)),Ee=n(a(826)),Ce=n(a(352)),Oe=n(a(827)),Se=n(a(828)),xe=n(a(829)),Ae=n(a(353)),Pe=n(a(354)),je=n(a(96)),De=n(a(248)),Le=n(a(249)),Ie=n(a(830)),Te=n(a(831)),Ne=n(a(832)),Me=n(a(833)),Be=n(a(834)),Ve=n(a(835)),Re=n(a(836)),We=n(a(351)),Ue=n(a(347)),qe=n(a(233)),Ge={AccessForm:D.default,Action:r.default,AddressField:l.default,AddressForm:i.default,AuthenticatedContactUs:o.default,App:s.default,BooleanField:u.default,ButtonField:c.default,Card:d.default,ChainedSelectField:f.default,ChainedSelectListField:h.default,ChainedSelectOptionsField:p.default,CityField:m.default,CollectionField:y.default,Component:v.default,ComponentField:b.default,CompositeField:g.default,ConsoleLog:_.default,ContactUs:F.default,CountryField:k.default,DateField:w.default,Email:E.default,EmailField:C.default,Emit:O.default,ExtendedField:S.default,Factory:x.default,Field:A.default,FirebaseStore:P.default,Form:j.default,FormField:L.default,GetDoc:T.default,GetDocs:N.default,Grid:M.default,GridItem:B.default,IdField:V.default,IntegerField:R.default,Iterator:W.default,ListField:U.default,LocalStorageStore:q.default,Login:G.default,LogInToApp:K.default,LogInToAppAndRedirect:H.default,LogOutOfApp:z.default,MemoryStore:$.default,Menu:Y.default,MoneyField:J.default,MSONComponent:Z.default,NumberField:X.default,ObjectForm:Q.default,OptionsField:ee.default,PasswordField:te.default,PersonFullNameField:ae.default,PersonNameField:ne.default,PhoneField:re.default,PostalCodeField:le.default,ProvinceField:ie.default,ReCAPTCHAField:oe.default,ReCAPTCHAVault:se.default,RecordEditor:ue.default,RecordList:ce.default,RecordStore:de.default,RecoverPassword:fe.default,RecoverPasswordEditor:he.default,Redirect:pe.default,RedirectByRole:me.default,RegExpField:ve.default,RequestPasswordReset:ye.default,ResetPassword:be.default,ResetPasswordEditor:ge.default,RolesField:_e.default,SchemaValidatorForm:Fe.default,SelectField:ke.default,SelectListField:we.default,SetFromDoc:Ee.default,Set:Ce.default,SignupEditor:Oe.default,Snackbar:Se.default,StateField:xe.default,Tabs:Ae.default,Text:Pe.default,TextField:je.default,TextFieldHiddenSchema:De.default,TextListField:Le.default,TimeField:Ie.default,ValidatorForm:I.default,UpdatePasswordEditor:Te.default,UpdatePassword:Ne.default,UpsertDoc:Me.default,URLField:Be.default,User:Ve.default,UserList:Re.default,Vault:We.default,WhereField:Ue.default,WrappedComponent:qe.default};t.default=Ge},744:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"FormField",form:{component:"AddressForm"},elevate:!0}},745:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"Form",fields:[{name:"addressLine1",component:"TextField",label:"Address Line 1",maxLength:100,required:!0,hidden:!0},{name:"addressLine2",component:"TextField",label:"Address Line 2",maxLength:100,required:!1,hidden:!0},{name:"city",component:"CityField",label:"City",required:!0,block:!1,hidden:!0},{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1,hidden:!0},{name:"postalCode",component:"PostalCodeField",label:"Postal Code",required:!0,hidden:!0},{name:"country",component:"CountryField",label:"Country",required:!0}],listeners:[{event:"fields.country.value",actions:[{component:"Action",if:{"fields.country.value":{$ne:null}},actions:[{component:"Emit",event:"adjustFields"},{component:"Emit",event:"setHidden",value:!1}],else:[{component:"Emit",event:"setHidden",value:!0},{component:"Set",name:"clearErrs",value:!0}]}]},{event:"setHidden",actions:[{component:"Set",name:"component",value:{"fields.addressLine1.hidden":"{{arguments}}","fields.addressLine2.hidden":"{{arguments}}","fields.city.hidden":"{{arguments}}","fields.stateProvince.hidden":"{{arguments}}","fields.postalCode.hidden":"{{arguments}}"}}]},{event:"adjustFields",actions:[{component:"Action",if:{"fields.country.value":"US"},actions:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"StateField",label:"State",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Zip Code"}}],else:[{component:"Action",if:{"fields.stateProvince.value":{$ne:null}},actions:[{component:"Set",value:"{{fields.stateProvince.value}}"}],else:[{component:"Set",value:null}]},{component:"Set",name:"component",value:{fields:[{name:"stateProvince",component:"ProvinceField",label:"State/Province",required:!0,block:!1}],"fields.stateProvince.value":"{{arguments}}","fields.postalCode.label":"Postal Code"}}]}]}]}},746:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"AuthenticatedContactUs",component:"ContactUs",listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.captcha.hidden":!0,"fields.captcha.required":!1,"fields.email.hidden":!0}}]},{event:"load",actions:[{component:"Set",name:"fields.email.value",value:"{{globals.session.user.username}}"},{component:"Set",name:"pristine",value:!0}]}]}},747:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","App"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"menu",component:"Field"},{name:"menuAlwaysTemporary",component:"BooleanField"},{name:"basename",component:"TextField",help:"The base URL for all locations. If your app is served from a sub-directory on your server, you'll want to set this to the sub-directory. A properly formatted basename should have a leading slash, but no trailing slash."}]}})}},{key:"emitLoggedOut",value:function(){this.emitChange("loggedOut")}}]),t}(n(a(76)).default);t.default=f},748:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","BooleanField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"required",docLevel:null}]}})}},{key:"validate",value:function(){if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();!1!==e&&!0!==e&&this.setErr("must be true or false")}}},{key:"getDisplayValue",value:function(){return this.get("value")?"Yes":"No"}},{key:"_setRequired",value:function(){}}]),t}(n(a(51)).default);t.default=f},749:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Card"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"title",component:"TextField",label:"Title"},{name:"content",component:"Field",label:"Content",required:!0},{name:"searchString",component:"TextField"},{name:"dirty",component:"BooleanField"}]}}),this._bubbleUpLoad()}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){var t=e.get("content");t&&t.emitLoad()}}},{key:"_bubbleUpLoad",value:function(){this.on("load",this._handleLoadFactory())}}]),t}(n(a(76)).default);t.default=f},751:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(17)),o=n(a(62)),s=function(){function e(t){(0,r.default)(this,e),(0,i.default)(this,"noParentId",-1),this.clear(),t&&this.add(t)}return(0,l.default)(e,[{key:"clear",value:function(){this._items={},this._itemsByParent={}}},{key:"_toParentId",value:function(e){return e||this.noParentId}},{key:"_addItem",value:function(e){this._items[e.id]=e;var t=this._toParentId(e.parentId);this._itemsByParent[t]||(this._itemsByParent[t]=[]),this._itemsByParent[t].push(e)}},{key:"add",value:function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){return t._addItem(e)}))}},{key:"get",value:function(e){return this._items[e]}},{key:"eachByParent",value:function(e,t){e=this._toParentId(e),(0,o.default)(this._itemsByParent[e],t)}},{key:"mapByParent",value:function(e,t){e=this._toParentId(e);var a=this._itemsByParent[e];return a?a.map(t):[]}}]),e}();t.default=s},752:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","MultipleValueField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"minSize",component:"IntegerField"},{name:"maxSize",component:"IntegerField"},{name:"field",component:"Field"},{name:"allowScalar",component:"BooleanField"}]}})}},{key:"_validateValueType",value:function(e){var t=!1;null===e||Array.isArray(e)||this.get("allowScalar")||(t=!0),this._hasTypeError=t}},{key:"setValue",value:function(e){this._validateValueType(e),(0,u.default)((0,s.default)(t.prototype),"setValue",this).call(this,e)}},{key:"validate",value:function(){this.clearErr(),(0,u.default)((0,s.default)(t.prototype),"validate",this).call(this);var e=[];if(this._hasTypeError)e.push({error:"must be an array"});else{var a=this.getValue();if(a){var n=this.get("minSize"),r=this.get("maxSize");null!==n&&a.length<n?e.push({error:"".concat(n," or more")}):null!==r&&a.length>r&&e.push({error:"".concat(r," or less")})}}e.length>0&&this.setErr(e)}}]),t}(n(a(51)).default);t.default=f},753:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(120)),p=n(a(334)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","ChainedSelectListField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"ChainedSelectOptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"}]}}),this._setDefaults(e,{allowDelete:!0,autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0})}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,hideLabel:!0,block:!0},this.get(["blankString","fullWidth","options","useDisplayValue","editable"])))}},{key:"_setFieldOptions",value:function(e){this._getOrCreateField(e).set({options:this.get("options")})}},{key:"_onFieldCreated",value:function(e){var t=this;e.on("value",(function(e){!t._isLastFieldBlank()&&t.canAddMoreFields(e)&&t.createField(),t._calcValue()}))}},{key:"_setOptions",value:function(e){this._setFieldOptions(0),this.eachField((function(t){return t.set({options:e})}))}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.options&&this._setOptions(e.options)}},{key:"clone",value:function(){var e=(0,c.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._fields.clear(),e._setOptions(this.get("options")),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=m},754:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0,block:!1},{name:"parentValue",label:"Parent Value",component:"TextField"}]}}}},755:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:40}},756:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(14)),s=n(a(16)),u=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"_getProp",value:function(e,t){return e.getValue(t)}},{key:"_setProp",value:function(e,t,a){return e.getField(t).setValue(a)}}]),t}(n(a(336)).default);t.default=u},757:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(117)),u=n(a(758)),c=function(){function e(t){var a=t.onGetAll,n=t.onGetItemsPerPage,r=t.onGetScrollThreshold,l=t.onGetMaxBufferPages,o=t.onGetItemElement,s=t.onGetSpacerElement,u=t.onRemoveItems,c=t.onResizeSpacer,d=t.onSetBufferTopId,f=t.onGetItem,h=t.onGetItems,p=t.onGetItemId,m=t.onGetItemCursor,v=t.onAddItem,y=t.onAddItems,b=t.onEmitChange,g=t.onSetIsLoading,_=t.onGetOrder,F=t.onGetWhere;(0,i.default)(this,e),this._onGetAll=a,this._onGetItemsPerPage=n,this._onGetScrollThreshold=r,this._onGetMaxBufferPages=l,this._onGetItemElement=o,this._onGetSpacerElement=s,this._onRemoveItems=u,this._onResizeSpacer=c,this._onSetBufferTopId=d,this._onGetItem=f,this._onGetItems=h,this._onSetIsLoading=g,this._onGetOrder=_,this._onGetWhere=F,this._onGetItemId=p,this._onGetItemCursor=m,this._onAddItem=v,this._onAddItems=y,this._onEmitChange=b,this.reset()}return(0,o.default)(e,[{key:"_resizeBuffer",value:function(e){if(e.previous){this._bufferBottomId=this._onRemoveItems(this._bufferBottomId,this._onGetItemsPerPage(),!0);var t=this._onGetItem(this._bufferBottomId);this._bufferBottomCursor=this._onGetItemCursor(t)}else{var a=this._onGetItemElement(this._bufferTopId),n=this._onRemoveItems(this._bufferTopId,this._onGetItemsPerPage()),r=this._onGetItemElement(n).offsetTop-a.offsetTop;this._onResizeSpacer(r),this._bufferTopId=n;var l=this._onGetItem(n);this._bufferTopCursor=this._onGetItemCursor(l)}}},{key:"_setDefaults",value:function(){this._bufferTopCursor||(this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId),this._bufferBottomCursor||(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId)}},{key:"_resetBufferReferences",value:function(){this._bufferTopId=null,this._bufferTopCursor=null,this._firstCursor=null,this._bufferBottomId=null,this._bufferBottomCursor=null,this._bufferSize=0}},{key:"reset",value:function(){this._resetBufferReferences(),this._lastGetAllProps=null,this._lastScrollY=null,this._spacerResizing=!1,this._showArchived=!1,this._onSetBufferTopId(null),this._onSetIsLoading(!1),this._onResizeSpacer(null,0)}},{key:"getAll",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i,o,u,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=null,(t=t?(0,s.default)(t):{}).showArchived=this._showArchived,this._onGetWhere&&(t.where=this._onGetWhere()),this._onGetOrder&&(t.order=this._onGetOrder()),t.before?t.last=this._onGetItemsPerPage():t.first=this._onGetItemsPerPage(),e.next=9,this._getAllDebounced(t);case 9:if(!(l=e.sent)){e.next=18;break}return i=null,o=null,u=l.edges.length,c=t.before?this._bufferTopId:null,e.next=17,this._onAddItems(l.edges,c);case 17:u>0&&(this._firstCursor||(this._firstCursor=l.edges[0].cursor),i=l.edges[0],a=i.node.id,o=l.edges[u-1],n=o.node.id,this._beginCursor=i.cursor,this._endCursor=o.cursor,this._beginId=a,this._endId=n,this._bufferSize+=u,this._setDefaults(),this._onEmitChange(l));case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_noMoreData",value:function(e){return!e||!!e.edges&&0===e.edges.length||!!e.pageInfo&&!e.pageInfo.hasNextPage}},{key:"_getAllDebounced",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.after||(t.after=null),t.before||(t.before=null),(0,u.default)(t,this._lastGetAllProps)){e.next=10;break}return this._onSetIsLoading(!0),this._lastGetAllProps=(0,s.default)(t),e.next=7,this._onGetAll(t);case 7:return a=e.sent,this._noMoreData(a)&&this._onSetIsLoading(!1),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMore",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.previous,n={},a?n.before=this._bufferTopCursor:n.after=this._bufferBottomCursor,e.next=5,this.getAll(n);case 5:l=e.sent,i=this._onGetMaxBufferPages()*this._onGetItemsPerPage(),this._lastMoreWasPrevious=a,l&&l.edges.length>0&&(a?(o=this._bufferTopId,this._bufferTopCursor=this._beginCursor,this._bufferTopId=this._beginId,this._onSetBufferTopId(o)):(this._bufferBottomCursor=this._endCursor,this._bufferBottomId=this._endId),this._bufferSize>i&&this._resizeBuffer({previous:a}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resizeSpacer",value:function(e){var t=this._onGetItemElement(e);if(t){var a=this._onGetSpacerElement(),n=a.offsetTop+a.offsetHeight-t.offsetTop;n>0&&(this._spacerResizing=!0),this._onResizeSpacer(n)}}},{key:"_shouldLoadPrevious",value:function(e){var t=this._onGetItemElement(this._bufferTopId),a=this.beginningLoaded();return t&&e<t.offsetTop+this._onGetScrollThreshold()&&!a}},{key:"_shouldLoadNext",value:function(e){var t=this._onGetItemElement(this._bufferBottomId);return t&&e>t.offsetTop+t.offsetHeight-this._onGetScrollThreshold()}},{key:"scroll",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.scrollY,n=!this._lastScrollY||a>=this._lastScrollY,this._lastScrollY=a,!this._spacerResizing){e.next=5;break}return e.abrupt("return");case 5:if(n||!this._shouldLoadPrevious(a)){e.next=10;break}return e.next=8,this._getMore({previous:!0});case 8:e.next=13;break;case 10:if(!n||!this._shouldLoadNext(a)){e.next=13;break}return e.next=13,this._getMore({previous:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSpacerResizing",value:function(e){this._spacerResizing=e,!e&&this._lastMoreWasPrevious&&this._shouldLoadPrevious(window.scrollY)&&!this.beginningLoaded()&&this._getMore({previous:!0})}},{key:"beginningLoaded",value:function(){return this._bufferTopCursor===this._firstCursor}},{key:"setShowArchived",value:function(e){this._showArchived=e}},{key:"removeItem",value:function(e){if(e===this._bufferTopId||e===this._bufferBottomId){var t=e===this._bufferBottomId,a=this._onGetItems(e,t),n=null,r=null,l=0,i=!0,o=!1,s=void 0;try{for(var u,c=a[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;if(n=this._onGetItemId(d),r=this._onGetItemCursor(d),1===l++)break}}catch(f){o=!0,s=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}n?e===this._bufferTopId?(this._bufferTopId=n,this._bufferTopCursor=r,this._firstCursor=r):(this._bufferBottomId=n,this._bufferBottomCursor=r):this._resetBufferReferences()}}}]),e}();t.default=c},759:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","ConsoleLog"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._console=console,this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._console.log(this.get("message")),e.abrupt("return",t.arguments);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},76:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","UIComponent"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"hidden",component:"BooleanField",label:"Hidden",docLevel:"basic"}]}})}}]),t}(n(a(144)).default);t.default=f},760:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"ContactUs",component:"Form",schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField",required:!0},{name:"subject",component:"TextField"},{name:"body",component:"TextField"},{name:"store",component:"Field"}]},sender:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',replyTo:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',from:'"{{fields.firstName.value}} {{fields.lastName.value}}" <{{fields.email.value}}>',subject:"{{fields.subject.value}}",body:"{{fields.body.value}}",fields:[{component:"PersonNameField",name:"firstName",label:"First Name",required:!0,block:!1},{component:"PersonNameField",name:"lastName",label:"Last Name",required:!0},{component:"EmailField",name:"email",label:"Email",required:!0},{component:"TextField",name:"subject",label:"Subject",required:!0,fullWidth:!0},{component:"TextField",name:"body",label:"Body",required:!0,multiline:!0,rows:2,rowsMax:20,fullWidth:!0},{component:"ReCAPTCHAField"},{component:"ButtonField",type:"submit",name:"submit",label:"Send Message",icon:"Email"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"submit",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Message sent. Please expect a response shortly."},{component:"Set",name:"pristine",value:!0},{component:"Redirect",path:"/"}]},{event:"createRecord",actions:[{component:"Email",sender:"{{sender}}",replyTo:"{{replyTo}}",from:"{{from}}",to:"{{to}}",subject:"{{subject}}",body:"{{body}}",detached:!0}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]}},761:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AF",label:"Afghanistan"},{value:"AX",label:"\xc5land Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia (Plurinational State of)"},{value:"BQ",label:"Bonaire, Sint Eustatius and Saba"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"CV",label:"Cabo Verde"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo (Democratic Republic of the)"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"C\xf4te d'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Cura\xe7ao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czechia"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"SZ",label:"Eswatini"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"VA",label:"Holy See"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran (Islamic Republic of)"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea (Democratic People's Republic of)"},{value:"KR",label:"Korea (Republic of)"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia (the former Yugoslav Republic of)"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia (Federated States of)"},{value:"MD",label:"Moldova (Republic of)"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestine, State of"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"R\xe9union"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barth\xe9lemy"},{value:"SH",label:"Saint Helena, Ascension and Tristan da Cunha"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin (French part)"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SX",label:"Sint Maarten (Dutch part)"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom of Great Britain and Northern Ireland"},{value:"US",label:"United States of America"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela (Bolivarian Republic of)"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands (British)"},{value:"VI",label:"Virgin Islands (U.S.)"},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}]}},762:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Email"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"from",component:"TextField"},{name:"sender",component:"TextField"},{name:"replyTo",component:"TextField"},{name:"to",component:"TextField"},{name:"subject",component:"TextField"},{name:"body",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_sendEmail",value:function(e){return this._registrar.email.send(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._sendEmail(this.get(["from","sender","replyTo","to","subject","body"])));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},763:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:"50",validators:[{where:{$not:{value:{$regex:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}$"}}},error:"invalid email"}]}},764:function(e,t,a){"use strict";(function(e){var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(765)),l=n(a(59)),i=n(a(30)),o=n(a(31)),s=n(a(12)),u=n(a(13)),c=n(a(15)),d=n(a(18)),f=n(a(14)),h=n(a(19)),p=n(a(16)),m=n(a(17)),v=n(a(245)),y=n(a(117)),b=a(146),g=function(t){function a(){var e,t;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,c.default)(this,(e=(0,f.default)(a)).call.apply(e,[this].concat(r))),(0,m.default)((0,d.default)(t),"_className","FirebaseStore"),(0,m.default)((0,d.default)(t),"_onReorder",function(){var e=(0,o.default)(i.default.mark((function e(a,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._docSet({id:a,doc:n,options:{merge:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),t}return(0,p.default)(a,t),(0,u.default)(a,[{key:"_listenToChanges",value:function(){var e=(0,o.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._coll.orderBy("createdAt").onSnapshot((function(e){e.docChanges().forEach((function(e){var a=e.doc.data();"removed"===e.type?t._docs.delete(a.id):t._docs.set(a.id,a)})),t.isLoaded()||setTimeout((function(){t._emitDidLoad()}))}),(function(e){t._emitError(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getFirebase",value:function(e){return e.firebase?e.firebase:this._global.firebase}},{key:"_initializeApp",value:function(e){this._fb.apps.length||this._fb.initializeApp({apiKey:e.apiKey,authDomain:e.authDomain,projectId:e.projectId})}},{key:"_init",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._fb=this._getFirebase(t),this._initializeApp(t),this._db=this._fb.firestore(),a={timestampsInSnapshots:!0},this._db.settings(a),this._coll=this._db.collection(t.collection),this._listenToChanges();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_create",value:function(t){(0,h.default)((0,f.default)(a.prototype),"_create",this).call(this,Object.assign({},t,{muteDidLoad:!0})),this._global=e,this.set({schema:{component:"Form",fields:[{name:"firebase",component:"Field"},{name:"apiKey",component:"TextField",required:!0},{name:"authDomain",component:"TextField",required:!0},{name:"projectId",component:"TextField",required:!0},{name:"collection",component:"TextField",required:!0}]}}),void 0!==t.apiKey&&this._init(t)}},{key:"_docSet",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=t.doc,r=t.options,!this.get("apiKey")){e.next=4;break}return n=JSON.parse(JSON.stringify(n)),e.abrupt("return",this._coll.doc(a).set(n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r,l,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fieldValues,n=t.id,r=t.order,l=t.reorder,this._shouldSetToLastOrder(r,l)&&(r=this._numUnarchived()),o=this._getUserId(),s=this._buildDoc({fieldValues:a,id:n,order:r,userId:o}),this._docs.set(s.id,s,void 0,void 0,!0,this._onReorder),e.next=7,this._docSet({id:s.id,doc:s,order:s.order});case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_modifyDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,r,l,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.fieldValues,r=t.archivedAt,l=t.order,o=(0,y.default)(this._docs.get(a)),o=this._setDoc({doc:o,fieldValues:n,archivedAt:r,order:l}),this._docs.set(o.id,o,void 0,void 0,!0,this._onReorder),e.next=6,this._docSet({id:o.id,doc:o,options:{merge:!0}});case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._modifyDoc((0,l.default)({},t,{archivedAt:this._now(),order:b.Reorder.DEFAULT_ORDER})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var a,n,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reorder,n=t.order,o=(0,r.default)(t,["reorder","order"]),this._shouldSetToLastOrder(n,a)&&(n=this._numUnarchived()),e.abrupt("return",this._modifyDoc((0,l.default)({},o,{archivedAt:null,order:n})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitForDataToBeLoaded",value:function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveAfterLoad();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,h.default)((0,f.default)(a.prototype),"_getDoc",this).call(this,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAllDocs",value:function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitForDataToBeLoaded();case 2:return e.abrupt("return",(0,h.default)((0,f.default)(a.prototype),"_getAllDocs",this).call(this,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(v.default);t.default=g}).call(this,a(73))},784:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(15)),i=n(a(14)),o=n(a(16)),s=function(e){function t(e){var a,n=e.form;return(0,r.default)(this,t),(a=(0,l.default)(this,(0,i.default)(t).call(this,JSON.stringify({message:"invalid input",error:n.getErrs()})))).name="FormErr",a}return(0,o.default)(t,e),t}((0,n(a(313)).default)(Error));t.default=s},785:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(95)),h=n(a(51)),p=n(a(107)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","AccessRolesField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,Object.assign({},e,{allowScalar:!0}))}}]),t}(h.default),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","AccessNode"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.addField(new m({name:"create",label:"Create"})),this.addField(new m({name:"read",label:"Create"})),this.addField(new m({name:"update",label:"Create"})),this.addField(new m({name:"archive",label:"Create"}))}}]),t}(f.default),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","AccessFields"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}})}},{key:"set",value:function(e){var a=this;(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&(this.removeFieldsExcept(),e.fieldNames.forEach((function(e){a.addField(new p.default({name:e,form:new v}))})))}}]),t}(f.default),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","FormAccess"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldNames",component:"Field"}]}}),this.addField(new p.default({name:"form",label:"Form",form:new v})),this.addField(new p.default({name:"fields",label:"Fields",form:new y}))}},{key:"set",value:function(e){(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e),void 0!==e.fieldNames&&this.getField("fields").getForm().set({fieldNames:e.fieldNames})}}]),t}(f.default);t.default=b},786:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(95)),h=n(a(96)),p=n(a(107)),m=n(a(347)),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ValidatorError"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.addField(new h.default({name:"field",label:"Field",required:!0})),this.addField(new h.default({name:"error",label:"error",required:!0}))}}]),t}(f.default),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","FormValidator"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.addField(new m.default({name:"where",label:"Where",required:!0})),this.addField(new p.default({name:"error",label:"Error",form:new v,required:!0}))}}]),t}(f.default);t.default=y},787:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","GetDoc"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getDoc({where:this.get("where")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},788:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","GetDocs"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"},{name:"where",component:"WhereField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").getAllDocs({where:this.get("where")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},789:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","Grid"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"Field"}]}})}},{key:"set",value:function(e){var a=this;void 0!==e.items&&e.items.forEach((function(e){return e.set({parent:a})})),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e)}}]),t}(n(a(76)).default);t.default=f},790:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","GridItem"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"hidden",component:"BooleanField"},{name:"content",component:"Field"},{name:"xl",component:"IntegerField"},{name:"lg",component:"IntegerField"},{name:"md",component:"IntegerField"},{name:"sm",component:"IntegerField"},{name:"xs",component:"IntegerField"}]}})}},{key:"set",value:function(e){void 0!==e.content&&e.content.set({parent:this}),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,e)}}]),t}(n(a(76)).default);t.default=f},791:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=n(a(41)),m=n(a(174)),v=n(a(223)),y=n(a(247)),b=n(a(185)),g=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Iterator"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"iterator",component:"Field",required:!0},{name:"return",component:"Field",required:!0}]}})}},{key:"_getProp",value:function(e,t){return(0,m.default)(e,t)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n,l,i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getProp(t,this.get("iterator")),n=(0,v.default)(t),l=new b.default(t),e.abrupt("return",(0,y.default)(a,(function(e){return n.item=e,l.setProps(n),l.fillAll(i.get("return"))})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=g},792:function(e,t,a){"use strict";(function(e){var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(t){function a(){var e,t;(0,i.default)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=(0,s.default)(this,(e=(0,c.default)(a)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(t),"_className","LocalStorageStore"),t}return(0,f.default)(a,t),(0,o.default)(a,[{key:"_loadDocs",value:function(e){var t=this,a=this._localStorage.getItem(e);null!==a&&JSON.parse(a).forEach((function(e){t._docs.set(e.id,e)}))}},{key:"_getLocalStorage",value:function(){return this._global.window.localStorage}},{key:"_create",value:function(t){(0,d.default)((0,c.default)(a.prototype),"_create",this).call(this,t),this._global=e,this._localStorage=this._getLocalStorage(),this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}}),this._loadDocs(t&&t.storeName)}},{key:"_saveDocs",value:function(){var e=this._docs.map((function(e){return e}));this._localStorage.setItem(this.get("storeName"),JSON.stringify(e))}},{key:"_doAndSave",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,this._saveDocs(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,d.default)((0,c.default)(a.prototype),"_createDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,d.default)((0,c.default)(a.prototype),"_updateDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,d.default)((0,c.default)(a.prototype),"_archiveDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._doAndSave((function(){return(0,d.default)((0,c.default)(a.prototype),"_restoreDoc",n).call(n,t)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n(a(245)).default);t.default=p}).call(this,a(73))},793:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Login",component:"Form",fields:[{component:"EmailField",name:"username",label:"Email",required:!0,fullWidth:!0},{component:"PasswordField",name:"password",label:"Password",required:!0,fullWidth:!0},{component:"ButtonField",name:"submit",label:"Log In",type:"submit",icon:"PlayArrow"},{component:"ButtonField",name:"signUp",label:"Sign Up",icon:"CheckCircle"},{component:"ButtonField",name:"forgotPassword",label:"Password?",icon:"VpnKey"},{component:"ButtonField",name:"contact",label:"Contact",icon:"LiveHelp"}],listeners:[{event:"submit",actions:[{component:"LogInToAppAndRedirect"}]}]}},794:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(14)),c=n(a(18)),d=n(a(16)),f=n(a(17)),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,c.default)(a),"_className","LogInToApp"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._globals.get("appId"),n=t.component.get("value"),e.prev=2,e.next=5,this._registrar.client.user.logInToApp({appId:a,username:n.username,password:n.password});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),t.component.getField("password").setErr("invalid email or password"),e.t0;case 11:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=h},795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"LogInToAppAndRedirect",component:"Action",actions:[{component:"LogInToApp"},{if:{globals:{redirectAfterLogin:null}},component:"Redirect",path:"/"},{component:"Action",if:{globals:{redirectAfterLogin:{$ne:null}}},actions:[{component:"Redirect",path:"{{globals.redirectAfterLogin}}"},{component:"Set",name:"globals.redirectAfterLogin",value:null}]}]}},796:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(14)),c=n(a(18)),d=n(a(16)),f=n(a(17)),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,c.default)(a),"_className","LogOutOfApp"),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"_logOutOfApp",value:function(){return this._registrar.client.user.logOutOfApp()}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._logOutOfApp();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=h},797:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(76)),p=n(a(62)),m=n(a(798)),v=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","Menu"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"items",component:"CollectionField",formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"path",component:"TextField",label:"Path",required:!0},{name:"label",component:"TextField",label:"Label",required:!0},{name:"content",component:"Field",label:"Content",required:!0},{name:"fullScreen",component:"BooleanField",label:"Full Screen"},{name:"roles",component:"RolesField",label:"Roles"},{name:"hidden",component:"BooleanField",label:"Hidden"}]}}}]}})}},{key:"_toRegExpPath",value:function(e){var t=[],a=e.replace(/:([^\/])*/g,(function(e){return t.push(e.substr(1)),"([^\\/]*)"}));return{paramNames:t,regExpPath:new RegExp("^"+a+"$")}}},{key:"_indexItemByPath",value:function(e){var t=this,a={};e.path&&(a=this._toRegExpPath(e.path)),this._itemsByPath[e.path]=(0,r.default)({},e,{},a),e.items&&e.items.forEach((function(e){return t._indexItemByPath(e)}))}},{key:"_indexByPath",value:function(){var e=this;this._items.forEach((function(t){return e._indexItemByPath(t)}))}},{key:"_indexParentByPath",value:function(e,t){var a=this;this._parentsByPath[e.path]=t,e.items&&e.items.forEach((function(t){return a._indexParentByPath(t,e)}))}},{key:"_indexParentsByPath",value:function(){var e=this;this._items.forEach((function(t){return e._indexParentByPath(t)}))}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,e),void 0!==e.items&&(this._itemsByPath={},this._indexByPath(),this._parentsByPath={},this._indexParentsByPath())}},{key:"getItemAndParsePath",value:function(e){var t=null,a={};return(0,p.default)(this._itemsByPath,(function(n){if(n.path){var r=e.match(n.regExpPath);if(r)return t=n,n.paramNames.forEach((function(e,t){return a[e]=r[t+1]})),!1}})),{item:t,params:a}}},{key:"getItem",value:function(e){return this.getItemAndParsePath(e).item}},{key:"toRoute",value:function(e){var t=e.parameters,a=e.queryString,n=e.hash;return{parameters:t,query:m.default.parse(a),hash:n}}},{key:"getParent",value:function(e){return this._parentsByPath[e]}},{key:"getFirstItem",value:function(){return this._items[0]}}]),t}(h.default);t.default=v},801:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","MoneyField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e);var a=e.prefix,n=e.thousandsSeparatorSymbol,r=e.allowDecimal,l=e.decimalLimit;this.set({prefix:void 0!==a?a:"$",thousandsSeparatorSymbol:void 0!==n?n:",",allowDecimal:void 0===r||r,decimalLimit:void 0!==l?l:2})}}]),t}(n(a(148)).default);t.default=f},802:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CollectionField",label:"Options",forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"label",label:"Label",component:"TextField",required:!0,block:!1},{name:"value",label:"Value",component:"TextField",required:!0}]}}}},803:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",type:"password",minLength:8,maxLength:30,validators:[{where:{value:{$not:{$regex:"\\d"}}},error:"must contain a number"},{where:{value:{$not:{$regex:"[a-zA-Z]"}}},error:"must contain a letter"},{where:{value:{$regex:"[^a-zA-Z0-9\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\_\\+]"}},error:"contains an invalid character"}]}},804:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"CompositeField",schema:{component:"Form",fields:[{name:"label",docLevel:null}]},fields:[{name:"firstName",label:"First Name",component:"PersonNameField",block:!1},{name:"lastName",label:"Last Name",component:"PersonNameField"}]}},805:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:40}},806:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(248)),h=n(a(247)),p=n(a(807)),m=[/./,/./,/./,/./],v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","PhoneField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_stringToArrayMask",value:function(e){return(0,h.default)(e,(function(e){return"."===e?/\d/:e}))}},{key:"_getMask",value:function(e){if(e){var t=this.constructor.getCountriesByCode();if("+"!==e[0])return this.get("defaultMask");var a=t[e[1]];if(a||(a=t[[e[1],e[2]].join("")]),a||(a=t[[e[1],e[2],e[3]].join("")]),a)return this._stringToArrayMask(a.format)}return m}},{key:"_create",value:function(e){var a=this;(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"defaultMask",component:"TextField",label:"Default Mask",docLevel:"basic"}]}}),this._setDefaults(e,{mask:function(e){return a._getMask(e)},defaultMask:this._stringToArrayMask("(...) ...-....")})}},{key:"toConformedValue",value:function(e){return this._getMask(e)!==m?(0,u.default)((0,s.default)(t.prototype),"toConformedValue",this).call(this,e):e}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.defaultMask&&(a.defaultMask=this._formatMask(a.defaultMask)),void 0!==a.value&&(a.value=this.toConformedValue(a.value)),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,a)}},{key:"_conformsToMask",value:function(e,t){var a=!0;return t.forEach((function(t,n){t instanceof RegExp?t.test(e[n])||(a=!1):e[n]!==t&&(a=!1)})),a}},{key:"validate",value:function(){if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.hasErr()&&!this.isBlank()){var e=this.getValue(),a=this._getMask(e);a!==m&&this._conformsToMask(e,a)||this.setErr("invalid")}}}],[{key:"getCountriesByCode",value:function(){if(!this.constructor._countriesByCode){this.constructor._countriesByCode={};var e=this.constructor._countriesByCode;p.default.allCountries.forEach((function(t){return e[t.dialCode]=t}))}return this.constructor._countriesByCode}}]),t}(f.default);t.default=v},808:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextField",maxLength:15}},809:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"TextFieldHiddenSchema",maxLength:60}},810:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ReCAPTCHAField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({name:"captcha",schema:{component:"Form",fields:[{name:"name",required:!1},{name:"label",docLevel:null}]}}),this._setDefaults(e,{required:!0})}}]),t}(n(a(51)).default);t.default=f},811:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","ReCAPTCHAVault"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"secretKey",component:"TextField",required:!0}]}})}}]),t}(n(a(351)).default);t.default=f},812:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecordEditor",component:"Form",schema:{component:"Form",fields:[{name:"baseForm",component:"Field",required:!0},{name:"label",component:"TextField"},{name:"store",component:"Field"},{name:"storeWhere",component:"WhereField"},{name:"preview",component:"BooleanField"},{name:"hideCancel",component:"BooleanField"}]},componentToWrap:"{{baseForm}}",fields:[{component:"ButtonField",name:"edit",label:"Edit",icon:"Edit",hidden:!0},{component:"ButtonField",type:"submit",name:"save",label:"Save",icon:"Save"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel",hidden:!0}],listeners:[{event:"load",actions:[{component:"Set",name:"isLoading",value:!0},{component:"Action",if:{storeWhere:{$ne:null}},actions:[{component:"GetDoc",store:"{{store}}",where:"{{storeWhere}}"},{component:"SetFromDoc",if:{arguments:{$ne:null}},name:"value",doc:"{{arguments}}"}]},{component:"Set",name:"pristine",value:!0},{if:{preview:{$ne:!1}},component:"Emit",event:"read"},{if:{preview:!1},component:"Emit",event:"edit"},{component:"Set",name:"isLoading",value:!1}]},{event:"read",actions:[{component:"Set",name:"mode",value:"read"},{component:"Set",name:"editable",value:!1},{component:"Set",name:"component",value:{"fields.save.hidden":!0,"fields.edit.hidden":!1,"fields.cancel.hidden":!0}},{component:"Emit",event:"didRead"}]},{event:"edit",actions:[{component:"Set",name:"mode",value:"update"},{component:"Set",name:"editable",value:!0},{component:"Set",name:"component",value:{"fields.save.hidden":!1,"fields.save.disabled":!0,"fields.edit.hidden":!0}},{if:{hideCancel:{$ne:!0}},component:"Set",name:"fields.cancel.hidden",value:!1},{component:"Emit",event:"didEdit"}]},{event:"canSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!1},{component:"Emit",event:"didCanSubmit"}]},{event:"cannotSubmit",actions:[{component:"Set",name:"fields.save.disabled",value:!0},{component:"Emit",event:"didCannotSubmit"}]},{event:"save",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Set",name:"pristine",value:!0},{component:"Snackbar",message:"{{label}} saved"},{if:{preview:{$ne:!1}},component:"Emit",event:"load"},{component:"Emit",event:"didSave"}]},{event:"cancel",actions:[{component:"Emit",event:"load"},{component:"Emit",event:"didCancel"}]},{event:"store.updateDoc",actions:[{component:"SetFromDoc",name:"value",doc:"{{arguments.value}}"},{component:"Set",name:"fields.save.disabled",value:!0}]}]}},813:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecordList",component:"Form",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"label",component:"TextField",required:!0},{name:"store",component:"Field"}]},fields:[{name:"{{name}}",label:"{{label}}",component:"CollectionField",hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}"},store:"{{store}}"}]}},814:function(e,t,a){"use strict";var n=a(337),r=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(30)),i=r(a(31)),o=r(a(12)),s=r(a(13)),u=r(a(15)),c=r(a(18)),d=r(a(14)),f=r(a(19)),h=r(a(16)),p=r(a(17)),m=r(a(341)),v=r(a(84)),y=r(a(342)),b=r(a(39)),g=n(a(146)),_=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(r))),(0,p.default)((0,c.default)(a),"_className","RecordStore"),a}return(0,h.default)(t,e),(0,s.default)(t,[{key:"_create",value:function(e){(0,f.default)((0,d.default)(t.prototype),"_create",this).call(this,e),this._uberUtils=y.default,this._registrar=b.default,this.set({schema:{component:"Form",fields:[{name:"storeName",component:"TextField",required:!0}]}})}},{key:"set",value:function(e){(0,f.default)((0,d.default)(t.prototype),"set",this).call(this,e),this._clearCache()}},{key:"_tryAndHandleError",value:function(){var e=(0,i.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_request",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.promiseFactory,r=this._globals.get("appId"),e.prev=2,e.next=5,n(r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),a?this._uberUtils.setFormErrorsFromAPIError(e.t0,a):this._uberUtils.displayError(e.t0.toString()),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_createDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o,s,u=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.form,n=t.fieldValues,r=t.order,i=t.reorder,this._clearCache(),!this._shouldSetToLastOrder(r,i)){e.next=8;break}return e.next=5,this._reorder({form:a});case 5:o=e.sent,r=o.lastOrder,n=Object.assign({},n,{order:r});case 8:return e.next=10,this._request({form:a,promiseFactory:function(e){return u._registrar.client.record.create({appId:e,componentName:u.get("storeName"),fieldValues:n,order:r})}});case 10:return s=e.sent,e.abrupt("return",s.data.createRecord);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_clearCache",value:function(){this._cachedQueries={}}},{key:"_inCache",value:function(e){return!!this._cachedQueries[JSON.stringify(e)]}},{key:"_addToCache",value:function(e){this._cachedQueries[JSON.stringify(e)]=!0}},{key:"_getShowArchivedWhere",value:function(e){return null===e?null:e?{archivedAt:{$ne:null}}:{archivedAt:null}}},{key:"_getAllDocs",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,o,s,u,c,d,f,h=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.where,r=t.showArchived,o=t.after,s=t.first,u=t.before,c=t.last,d=t.order,f=this._getShowArchivedWhere(r),n=v.default.combineWheres(f,n,this.get("where")),e.abrupt("return",this._request({form:a,promiseFactory:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={appId:t,componentName:h.get("storeName"),asArray:!0,where:n,after:o,first:s,before:u,last:c,order:d},h._inCache(a)||(h._addToCache(a),a.bypassCache=!0),e.next=4,h._registrar.client.record.getAll(a);case 4:return r=e.sent,e.abrupt("return",r.data.records);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_reorder",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o,s,u,c,d,f,h,p,m,v,y,b,_,F;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.form,n=t.id,r=t.order,i=!0,o={first:this.constructor.ITEMS_PER_PAGE_DEFAULT,order:[["order","asc"]],where:this.get("where")},s=[],u=function(e,t){e.id!==n&&s.push({id:e.id,order:t})},c=0,d=null;case 7:if(!i){e.next=16;break}return e.next=10,this.getAllDocs(o);case 10:for(f=e.sent,h=0;h<f.edges.length;h++)p=f.edges[h],m=g.default.reorderItem(p.node,n,r,c,d,u),c=m.i,d=m.destinationKey;o.after=f.pageInfo.endCursor,i=f.pageInfo.hasNextPage,e.next=7;break;case 16:if(!(s.length>0)){e.next=27;break}this._clearCache(),v=0;case 19:if(!(v<s.length)){e.next=27;break}return y=s[v],b=y.id,_=y.order,F={},e.next=24,this._requestUpdate({form:a,id:b,order:_,fieldValues:F});case 24:v++,e.next=19;break;case 27:return e.abrupt("return",{lastOrder:c});case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_requestUpdate",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o,s=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.fieldValues,i=t.order,e.next=3,this._request({form:a,promiseFactory:function(e){return s._registrar.client.record.update({appId:e,componentName:s.get("storeName"),id:n,fieldValues:r,order:i})}});case 3:return o=e.sent,e.abrupt("return",o.data.updateRecord);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.form,n=t.id,r=t.fieldValues,i=t.order,!t.reorder){e.next=4;break}return e.next=4,this._reorder({form:a,id:n,order:i});case 4:return e.abrupt("return",this._requestUpdate({form:a,id:n,fieldValues:r,order:i}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.where,e.next=3,this._request({form:a,promiseFactory:function(e){return o._registrar.client.record.get({appId:e,componentName:o.get("storeName"),id:n,where:r})}});case 3:return i=e.sent,e.abrupt("return",i.data.record);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getDoc(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_upsertDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=!1,!a){e.next=15;break}return e.prev=3,e.next=6,this._getDoc({id:a});case 6:n=!0,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(3),"GraphQL error: record not found"!==e.t0.message){e.next=14;break}e.next=15;break;case 14:throw e.t0;case 15:if(!n){e.next=19;break}return e.abrupt("return",this.updateDoc(t));case 19:return e.abrupt("return",this.createDoc(t));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_archiveDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.reorder,this._clearCache(),e.next=4,this._request({form:a,promiseFactory:function(e){return o._registrar.client.record.archive({appId:e,componentName:o.get("storeName"),id:n})}});case 4:return i=e.sent,r&&this._updateDoc({form:a,id:n,order:g.Reorder.DEFAULT_ORDER,reorder:!0,fieldValues:{}}),e.abrupt("return",i.data.archiveRecord);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_restoreDoc",value:function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n,r,i,o,s,u=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.form,n=t.id,r=t.order,i=t.reorder,this._clearCache(),e.next=4,this._request({form:a,promiseFactory:function(e){return u._registrar.client.record.restore({appId:e,componentName:u.get("storeName"),id:n})}});case 4:if(o=e.sent,!this._shouldSetToLastOrder(r,i)){e.next=11;break}return e.next=8,this._reorder({form:a,id:n});case 8:return s=e.sent,e.next=11,this._updateDoc({form:a,id:n,fieldValues:{},order:s.lastOrder,reorder:!1});case 11:return e.abrupt("return",o.data.restoreRecord);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(m.default);t.default=_,(0,p.default)(_,"ITEMS_PER_PAGE_DEFAULT",50)},815:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecoverPassword",component:"Form",schema:{component:"Form",fields:[{name:"action",component:"Field",label:"Action"}]},fields:[{name:"email",component:"EmailField",label:"Email",required:!0}],listeners:[{event:"createRecord",actions:[{component:"RequestPasswordReset"},"{{action}}"]}]}},816:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RecoverPasswordEditor",component:"RecoverPassword",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"LockOpen"},{component:"ButtonField",name:"cancel",label:"Cancel",icon:"Cancel"}],listeners:[{event:"reset",actions:[{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Please expect an email shortly"},{component:"Redirect",path:"/"}]},{event:"cancel",actions:[{component:"Redirect",path:"/"}]}]}},817:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Redirect"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"path",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.redirect(this.get("path"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},818:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=n(a(41)),m=n(a(62)),v=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","RedirectByRole"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"routes",component:"Field",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(){var t,a=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.get("routes"),(0,m.default)(t,(function(e){if(!e.roles||a._registrar.client.user.hasRole(e.roles))return a._globals.redirect(e.path),!1}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=v},819:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(14)),s=n(a(19)),u=n(a(16)),c=n(a(96)),d=n(a(84)),f=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"set",value:function(e){var a=Object.assign({},e);void 0===a.value||a.value instanceof RegExp||(a.value=d.default.toRegExp(a.value)),(0,s.default)((0,o.default)(t.prototype),"set",this).call(this,a)}}]),t}(c.default);t.default=f},820:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","RequestPasswordReset"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._setDefaults(e,{layer:"backEnd"})}},{key:"_requestReset",value:function(e){return this._registrar.resetPassword.requestReset(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._requestReset({context:t.context,component:t.component}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},821:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","ResetPassword"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"token",component:"TextField"}]}}),this._setDefaults(e,{layer:"backEnd"})}},{key:"_reset",value:function(e){return this._registrar.resetPassword.resetPassword(e)}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._reset({context:t.context,component:t.component,token:this.get("token")}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},822:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"ResetPasswordEditor",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"TextField",name:"token",label:"Token",hidden:!0},{component:"PasswordField",name:"password",label:"New Password",required:!0},{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0},{component:"ButtonField",type:"submit",name:"reset",label:"Reset",icon:"Send"}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"createRecord",actions:[{component:"ResetPassword",token:"{{fields.token.value}}"}]},{event:"reset",actions:[{component:"Set",name:"fields.token.value",value:"{{globals.route.parameters.token}}"},{component:"UpsertDoc",store:"{{store}}"},{component:"Snackbar",message:"Password updated"},{component:"Redirect",path:"/"}]}]}},823:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(249)),h=n(a(301)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","RolesField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({invalidRegExp:"/^"+Object.keys(h.default.RESERVED).join("|")+"$/"})}}]),t}(f.default);t.default=p},824:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","SchemaValidatorForm"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"compiler",component:"Field",required:!0}]}})}},{key:"setValues",value:function(e){var a=this.get("compiler");a.newComponent({component:e.component}).buildSchemaForm(this,a),(0,u.default)((0,s.default)(t.prototype),"setValues",this).call(this,Object.assign({},e,{id:e.name}))}}]),t}(n(a(95)).default);t.default=f},825:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=n(a(120)),p=n(a(145)),m=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","SelectListField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"fieldFactory",required:!1},{name:"options",component:"OptionsField",docLevel:"basic"},{name:"blankString",component:"TextField"},{name:"ensureInList",component:"BooleanField"}]}}),this._setDefaults(e,{autoCreateFields:!0,canDeleteEmpty:!1,startWithField:!0,hideDeleteButton:!0})}},{key:"_onFieldCreated",value:function(e,t){var a=this;e.on("value",(function(n){n||a._isLastField(e)||t(),!a._isLastFieldBlank()&&a.canAddMoreFields(n)&&a._createNewField(),a._calcValue()}))}},{key:"_newField",value:function(e){return new p.default((0,r.default)({name:e,hideLabel:!0,required:!1},this.get(["blankString","block","fullWidth","options","useDisplayValue","editable"])))}},{key:"_createNewField",value:function(){this.createField().set({options:this.get("options")})}},{key:"set",value:function(e){(0,c.default)((0,u.default)(t.prototype),"set",this).call(this,e),this._setForAllFields(e,["options","blankString","ensureInList"])}},{key:"_shouldRemoveField",value:function(e){return!this._isLastField(e)}},{key:"clone",value:function(){var e=(0,c.default)((0,u.default)(t.prototype),"clone",this).call(this);return e._clearFields(),e._createNewField(),e.setValue(this.getValue()),e}}]),t}(h.default);t.default=m},826:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"SetFromDoc",component:"Action",schema:{component:"Form",fields:[{name:"doc",component:"Field"}]},actions:[{component:"Set",name:"{{name}}",value:"{{action.doc.fieldValues}}"},{component:"Set",name:"{{name}}",value:{id:"{{action.doc.id}}",userId:"{{action.doc.userId}}",createdAt:"{{action.doc.createdAt}}",updatedAt:"{{action.doc.updatedAt}}",archivedAt:"{{action.doc.archivedAt}}"}}]}},827:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"SignupEditor",component:"RecordEditor",preview:!1,fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0,out:!1}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],label:"Signup",hideCancel:!0,storeWhere:null,listeners:[{event:"create",actions:[{component:"Set",name:"component",value:{"fields.username.out":!0,"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.block":!1,"fields.roles.hidden":!0,"fields.save.label":"Create Account","fields.save.icon":"CheckCircle"}}]},{event:"didSave",actions:[{component:"LogInToAppAndRedirect"}]}]}},828:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Snackbar"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"message",component:"TextField",required:!0}]}}),this._setDefaults(e,{layer:"frontEnd"})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._globals.displaySnackbar(this.get("message"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},829:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={component:"SelectField",schema:{component:"Form",fields:[{name:"options",docLevel:null}]},options:[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}]}},830:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(51)),h=n(a(147)),p=n(a(355)),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","TimeField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"showSeconds",component:"BooleanField",label:"Show Seconds",docLevel:"basic"}]}})}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.value&&"number"!==typeof a.value&&(a.value=h.default.toEpochTime(a.value)),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,a)}},{key:"_toLocaleString",value:function(e){var t={};return this.get("showSeconds")||(t={hour:"2-digit",minute:"2-digit"}),e.toLocaleTimeString([],t)}},{key:"getDisplayValue",value:function(){return this.isBlank()?null:this._toLocaleString(new Date(this.getValue()))}},{key:"validate",value:function(){if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue(),a=new Date(e);(0,p.default)(a)||this.setErr("invalid")}}}]),t}(f.default);t.default=m},831:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UpdatePasswordEditor",component:"RecordEditor",schema:{component:"Form",fields:[{name:"updatePasswordBaseForm",component:"Field",required:!0},{name:"baseForm",required:!1}]},preview:!1,label:"Password",storeWhere:{userId:"{{globals.session.user.id}}"},baseForm:{component:"UpdatePassword",componentToWrap:"{{updatePasswordBaseForm}}"}}},832:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UpdatePassword",component:"Form",fields:[{component:"PasswordField",name:"retypePassword",label:"Retype Password",required:!0}],validators:[{where:{fields:{retypePassword:{value:{$ne:"{{fields.password.value}}"}}}},error:{field:"retypePassword",error:"must match"}}],listeners:[{event:"create",actions:[{component:"Set",name:"hidden",value:!0},{component:"Set",name:"out",value:!1},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.out":!0,"fields.password.required":!0,"fields.retypePassword.hidden":!1}}]}]}},833:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","UpsertDoc"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"store",component:"Field"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("store").upsertDoc({form:t.component}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},834:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(346)),l=n(a(12)),i=n(a(13)),o=n(a(15)),s=n(a(18)),u=n(a(14)),c=n(a(19)),d=n(a(16)),f=n(a(17)),h=function(e){function t(){var e,a;(0,l.default)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=(0,o.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r))),(0,f.default)((0,s.default)(a),"_className","URLField"),a}return(0,d.default)(t,e),(0,i.default)(t,[{key:"_create",value:function(e){(0,c.default)((0,u.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[].concat((0,r.default)(this.getHiddenFieldDefinitions(["minLength","maxLength","minWords","maxWords","invalidRegExp","multiline"])),[{name:"newWindow",component:"BooleanField"}])}})}}]),t}(n(a(96)).default);t.default=h},835:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(95)),h=n(a(350)),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","User"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e);var a=[new h.default({definition:{component:"EmailField",name:"username",label:"Email",required:!0}}),new h.default({definition:{component:"PasswordField",name:"password",label:"Password",in:!1,out:!1,hidden:!0,forbidSort:!0}})];this.set({schema:{component:"Form",fields:[{name:"roles",component:"RolesField"}]},access:{form:{create:"admin",read:"admin",update:"admin",archive:"admin"}},fields:a})}}]),t}(f.default);t.default=p},836:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"UserList",component:"CollectionField",schema:{component:"Form",fields:[{name:"baseFormFactory",component:"Field",required:!0},{name:"formFactory",required:!1}]},hideLabel:!0,formFactory:{component:"Factory",product:"{{baseFormFactory}}",properties:{fields:[{component:"ButtonField",name:"setPassword",label:"Set Password",hidden:!0,icon:"VpnKey"}],listeners:[{event:"didLoad",actions:[{component:"Set",name:"snapshot",value:"take"}]},{event:"beginCreate",actions:[{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0}}]},{event:"endCreate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"beginRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!1}]},{event:"endRead",actions:[{component:"Set",name:"fields.setPassword.hidden",value:!0}]},{event:"endUpdate",actions:[{component:"Set",name:"snapshot",value:"restore"}]},{event:"setPassword",actions:[{component:"Set",name:"out",value:!1},{component:"Set",name:"hidden",value:!0},{component:"Set",name:"component",value:{"fields.password.hidden":!1,"fields.password.required":!0,"fields.password.out":!0,"fields.password.value":null}},{component:"Set",name:"pristine",value:!0},{component:"Set",name:"parent.mode",value:"update"}]}],access:{fields:{setPassword:{read:"admin"}}}}}}},839:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(31)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","JSONStringify"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this.set({schema:{component:"Form",fields:[{name:"value",component:"Field"},{name:"space",component:"IntegerField"}]}})}},{key:"act",value:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.get("value"),n=void 0===a?t.arguments:a,e.abrupt("return",JSON.stringify(n,null,this.get("space")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(n(a(41)).default);t.default=p},84:function(e,t,a){"use strict";(function(e){var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Utils=void 0;var r=n(a(17)),l=n(a(30)),i=n(a(31)),o=n(a(12)),s=n(a(13)),u=n(a(583)),c=n(a(62)),d=n(a(604)),f=function(){function t(){(0,o.default)(this,t),this._global=e}return(0,s.default)(t,[{key:"sequential",value:function(){var e=(0,i.default)(l.default.mark((function e(t,a){var n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(0,u.default)(t,function(){var e=(0,i.default)(l.default.mark((function e(t,r,i){var o;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,a(r,i);case 4:void 0!==(o=e.sent)&&n.push(o);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Promise.resolve());case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"inBrowser",value:function(){return!!this._global.window}},{key:"getAllMethodNames",value:function(e){for(var t=[];e=Reflect.getPrototypeOf(e);){Reflect.ownKeys(e).forEach((function(e){return t.push(e)}))}return t}},{key:"getAllFunctionNames",value:function(e){var t=[];return(0,c.default)(e,(function(e,a){"function"===typeof e&&t.push(a)})),t}},{key:"combineWheres",value:function(){for(var e=[],t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){t&&e.push(t)})),1===e.length?e[0]:{$and:e}}},{key:"toWhereFromSearchString",value:function(e,t){var a=t.trim();if(""===a)return null;var n=a.split(/ +/),l=[];return n.forEach((function(t){var a=[];e.forEach((function(e){a.push((0,r.default)({},e,{$iLike:t+"%"}))})),l.push({$or:a})})),{$and:l}}},{key:"uuid",value:function(){return d.default.v4()}},{key:"once",value:function(e,t){return new Promise((function(a){e.once(t,(function(){a(arguments)}))}))}},{key:"isRegExpString",value:function(e){return new RegExp("^/(.*)/(.*)$").test(e)}},{key:"stringToRegExp",value:function(e){var t=e.match(new RegExp("^/(.*)/(.*)$"));return new RegExp(t[1],t[2])}},{key:"toRegExp",value:function(e){return e instanceof RegExp?e:this.stringToRegExp(e)}},{key:"toSingular",value:function(e){return e.substr(0,e.length-1)}}]),t}();t.Utils=f;var h=new f;t.default=h}).call(this,a(73))},840:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"App",(function(){return Ha})),a.d(n,"Contacts",(function(){return Ja})),a.d(n,"ContactsLocalStorage",(function(){return Za})),a.d(n,"ContactsFirebase",(function(){return Xa})),a.d(n,"EditContact",(function(){return Qa})),a.d(n,"FieldsScreen",(function(){return en})),a.d(n,"Fields",(function(){return an})),a.d(n,"FormBuilder",(function(){return nn})),a.d(n,"Grid",(function(){return rn})),a.d(n,"Home",(function(){return ln})),a.d(n,"Tasks",(function(){return on})),a.d(n,"TasksLocalStorage",(function(){return sn})),a.d(n,"TasksFirebase",(function(){return un}));var r=a(47),l=a.n(r),i=a(81),o=a(0),s=a.n(o),u=a(27),c=a.n(u),d=a(8),f=a(6),h=a(10),p=a(9),m=a(11),v=a(40),y=a(26),b=a.n(y),g=a(910),_=a(919),F=a(904),k=a(72),w=a(375),E=a(892),C=a(356),O=a.n(C),S=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onClick&&a.props.onClick(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"toFontIconName",value:function(e){return O()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.icon,n=a?this.toFontIconName(a):null;return s.a.createElement(E.a,{className:t,onClick:this.handleClick},n)}}]),t}(s.a.PureComponent),x=a(920),A=a(918),P=a(898),j=a(897),D=a(844),L=a(895),I=a(896),T=a(122),N=a.n(T),M=a(39),B=a.n(M),V=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"childSelected",value:function(){var e=this.props,t=e.item,a=e.path,n=!1;return N()(t.items,(function(e){if(a===e.path)return n=!0,!1})),n}},{key:"items",value:function(){var e=this,t=this.props,a=t.classes,n=t.item,r=t.path,l=[];return n.items.forEach((function(t,n){var i=r===t.path,o=[a.secondary];i&&o.push(a.selected),(!t.roles||B.a.client&&B.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(s.a.createElement(D.a,{button:!0,className:a.nested,key:n,onClick:function(){return e.handleClick(t)}},s.a.createElement(L.a,{disableTypography:!0,primary:s.a.createElement(k.a,{variant:"body2",className:o.join(" ")},t.label)})))})),l}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.classes,r=t.path,l=a.items?this.items():null,i=r===a.path,o=[n.primary];i&&o.push(n.selected);var u=null;return l&&(u=s.a.createElement(I.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},s.a.createElement(j.a,{disablePadding:!0},this.items()))),s.a.createElement("div",null,s.a.createElement(D.a,{button:!0,onClick:function(){return e.handleClick(a)}},s.a.createElement(L.a,{disableTypography:!0,primary:s.a.createElement(k.a,{variant:"subtitle1",className:o.join(" ")},a.label)}),l?this.state.open?s.a.createElement(S,{icon:"ExpandLess"}):s.a.createElement(S,{icon:"ExpandMore"}):null),u)}}]),t}(s.a.PureComponent),R=b()((function(e){return{nested:{paddingLeft:e.spacing(4)},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}}))(V),W=a(357),U=a.n(W),q=function(e,t){return function(a){return function(n){function r(a){var n;return Object(d.a)(this,r),(n=Object(h.a)(this,Object(p.a)(r).call(this,a))).wasMounted=!1,n.getComponent=function(e){return e||(e=n.props),t?"string"===typeof t?e[t]:t:e.component},n.handleFieldChange=function(e,t){-1!==n.watchProps.indexOf(e)&&n.wasMounted&&n.setState(Object(v.a)({},e,t))},n.watchProps=U()(e,Object.keys(n.props)),n.hasComponent()&&(n.state=n.getComponent().get(n.watchProps)),n}return Object(m.a)(r,n),Object(f.a)(r,[{key:"hasComponent",value:function(){return!!this.getComponent()}}]),Object(f.a)(r,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.hasComponent()&&this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.hasComponent()&&this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){if(this.hasComponent()){var e=this.getComponent().get(this.watchProps);this.setState(e)}}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return s.a.createElement(a,Object.assign({},this.state,this.props))}}]),r}(s.a.PureComponent)}};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDrawerToggle=function(){a.props.onDrawerToggle&&a.props.onDrawerToggle()},a.handleNavigate=function(e){a.props.onNavigate&&a.props.onNavigate(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"items",value:function(){var e=this,t=this.props,a=t.component,n=t.path,r=a.get("items"),l=[];return r.forEach((function(t,a){(!t.roles||B.a.client&&B.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(s.a.createElement(R,{item:t,key:a,onNavigate:e.handleNavigate,path:n,onDrawerToggle:e.handleDrawerToggle}))})),l}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.theme,r=t.mobileOpen,l=t.responsive;e=this.items();var i=s.a.createElement("div",null,s.a.createElement("div",{className:a.drawerHeader},s.a.createElement(k.a,{variant:"h4"},"Logo")),s.a.createElement(P.a,null),e),o=s.a.createElement(x.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:r,classes:{paper:a.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},i),u=s.a.createElement(x.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper+(l?" ".concat(a.drawPaperResponsive):"")}},i);return l?s.a.createElement("div",null,s.a.createElement(A.a,{mdUp:!0},o),s.a.createElement(A.a,{smDown:!0,implementation:"css"},u)):o}}]),t}(s.a.PureComponent);H=b()((function(e){return{drawerHeader:K({},e.mixins.toolbar,{paddingLeft:e.spacing(3),paddingTop:e.spacing(1)}),drawerPaper:{width:250},drawPaperResponsive:Object(v.a)({},e.breakpoints.up("md"),{width:240,position:"fixed",height:"100vh"})}}),{withTheme:!0})(H);var z=H=q(["items"])(H),$=a(900),Y=a(126),J=a.n(Y),Z=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={autoFullWidth:!1},a.handleKeyUp=function(e){13===e.keyCode&&a.props.onSearch(a.props.searchString)},a.handleClearSearch=function(e){a.props.onSearch("")},a.handleFocus=function(){a.setState({autoFullWidth:!0})},a.handleBlur=function(){a.setState({autoFullWidth:!1})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.searchString,r=e.onChange,l=e.fullWidth,i=this.state.autoFullWidth,o=l||i;return s.a.createElement("div",{className:J()(a,o?t.grow:null)},s.a.createElement($.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:n,onKeyUp:this.handleKeyUp,onChange:function(e){return r(e.target.value)},className:t.textField,onFocus:this.handleFocus,onBlur:this.handleBlur}),s.a.createElement("div",{className:t.iconContainer},s.a.createElement(S,{icon:"Search",className:t.searchIcon}),s.a.createElement(w.a,{color:"inherit","aria-label":"clear search",onClick:this.handleClearSearch,className:t.closeIcon},s.a.createElement(S,{icon:"Close"}))))}}]),t}(s.a.PureComponent),X=Z=b()((function(e){return{textField:{width:"100%"},textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 34px 10px 34px",marginTop:"2px",width:"calc(100%)",color:e.palette.common.white},iconContainer:{position:"relative",width:"100%",height:"0px"},searchIcon:{position:"absolute",top:"-31px",left:"6px"},closeIcon:{position:"absolute",top:"-43px",right:"-5px"},grow:{flexGrow:1}}}))(Z),Q=a(80),ee=a(102),te=a(206),ae=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.onClick&&a.props.onClick()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.type,n=e.disabled,r=e.label,l=e.icon,i=e.fullWidth,o=e.variant,u=!1!==e.marginTop?t.marginTop:null;return s.a.createElement(te.a,{className:u,type:a,color:"primary",disabled:n,onClick:this.handleClick,fullWidth:i,variant:o},l?s.a.createElement(S,{className:t.leftIcon,icon:l}):null,r)}}]),t}(s.a.PureComponent),ne=b()((function(e){return{leftIcon:{marginRight:e.spacing(1)},marginTop:{marginTop:e.spacing(3)}}}))(ae),re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){"submit"!==a.props.type&&a.props.component.emitClick()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.type,n=e.disabled,r=e.icon,l=e.fullWidth,i=e.variant;return s.a.createElement(ne,{type:a,label:t,disabled:n,onClick:this.handleClick,icon:r,fullWidth:l,variant:i})}}]),t}(s.a.PureComponent),le=q(["label","type","disabled","icon","fullWidth","variant"])(re),ie=a(902),oe=a(850),se=a(854),ue=a(849),ce=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,a=e.children,n=e.classes,r=e.marginBottom,l=t?n.fullWidth:"",i=!1===r?n.noMarginBottom:"";return s.a.createElement(ue.a,{fullWidth:t,className:"".concat(n.formControl," ").concat(l," ").concat(i)},a)}}]),t}(s.a.PureComponent),de=b()((function(e){return{formControl:{margin:e.spacing(1)},fullWidth:{width:"calc(100% - ".concat(e.spacing(2),"px)")},noMarginBottom:{marginBottom:0}}}))(ce),fe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.help;return s.a.createElement(_.a,{disableTouchListener:!0,title:e},s.a.createElement(w.a,{"aria-label":"Help"},s.a.createElement(S,{icon:"HelpOutline"})))}}]),t}(s.a.PureComponent),he=a(851);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes,n=e.shrink,r=Object.assign({},this.props,{shrink:void 0,classes:void 0}),l=n?a.shrink:a.noShrink;return s.a.createElement(he.a,Object.assign({},r,{className:l}),t)}}]),t}(s.a.PureComponent),ye=b()((function(e){return{shrink:me({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:me({},Object.assign({},e.typography.subtitle1,{color:void 0}))}}))(ve),be=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.component,n=t.children,r=t.label,l=t.required,i=t.fullWidth,o=t.err,u=t.editable,c=t.touched,d=t.help,f=t.hideLabelUI,h=t.hideLabel,p=t.useDisplayValue,m=t.shrinkLabel,v=t.inlineLabel,y=t.marginBottom,b=t.autoHideLabel,g=null,_=a.isBlank(),F=a.getUniqueId();if(!f&&!h&&(!b||r))if(!u||p||v){var k=r||"\xa0";g=s.a.createElement(ye,{htmlFor:F,error:!(!c||!o),required:l&&!p&&u,shrink:p||!u||m},k),v||(g=s.a.createElement("div",null,g))}else g=s.a.createElement(oe.a,{htmlFor:F,error:!(!c||!o),required:r&&l,shrink:m},r);var w=a.getFirstErr();return e=s.a.createElement("span",null,g,n,d&&u?s.a.createElement(fe,{help:d}):"",c&&o?s.a.createElement(se.a,{error:!0},w):null),u||!_?s.a.createElement(de,{fullWidth:i,marginBottom:y},e):null}}]),t}(s.a.PureComponent),ge=be=q(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(be),_e=a(901),Fe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes;return s.a.createElement(k.a,{variant:"subtitle1",component:"span",className:a.root},t)}}]),t}(s.a.PureComponent),ke=b()((function(e){return{root:{display:"inline-block"}}}))(Fe),we=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.component.setValue(e.target.checked)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,n=e.component,r=e.editable,l=e.useDisplayValue,i=e.label,o=null,u=null;return r&&!l?(o=!0,u=s.a.createElement(_e.a,{control:s.a.createElement(ie.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:a}),label:i})):u=s.a.createElement(ke,null,n.getDisplayValue()),s.a.createElement(ge,{component:n,hideLabelUI:o},u)}}]),t}(s.a.PureComponent),Ee=q(["value","err","disabled","editable","useDisplayValue","label"])(we),Ce=a(207),Oe=a(158),Se=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.component,n=a.get("content"),r=a.get("title");return s.a.createElement(Ce.a,{container:!0,spacing:0,justify:"center"},s.a.createElement(Ce.a,{item:!0,xs:12,sm:9,md:6,lg:6},s.a.createElement(Oe.a,{className:t.paper},s.a.createElement(Ce.a,{container:!0,wrap:"nowrap"},s.a.createElement(Ce.a,{item:!0,className:t.content},s.a.createElement(k.a,{variant:"h5",component:"h2"},r),s.a.createElement(va,{component:n}))))))}}]),t}(s.a.PureComponent),xe=b()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1}}}))(Se),Ae=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,a=e.classes;return s.a.createElement("div",{className:a.root},s.a.createElement(va,{component:t}))}}]),t}(s.a.PureComponent);Ae=b()((function(e){return{root:{marginLeft:e.spacing(1)}}}))(Ae);var Pe=Ae=q(["content"])(Ae),je=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.break})}}]),t}(s.a.PureComponent),De=b()((function(e){return{break:{width:"100%"}}}))(je),Le=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getIfDefined",value:function(e){var t={};return N()(e,(function(e,a){void 0!==e&&(t[a]=e)})),t}}]),e}()),Ie=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.hidden,n=e.block,r=e.accessEditable,l=e.didCreate,i=e.noBlock,o=e.disabled;if(a||!l)return null;if("Field"===t.getClassName())return null;var u=ha.getUIComponent(t);return s.a.createElement(s.a.Fragment,null,s.a.createElement(u,Object.assign({component:t,accessEditable:r,block:n},Le.getIfDefined({disabled:o}))),!i&&n?s.a.createElement(De,null):null)}}]),t}(s.a.PureComponent),Te=q(["hidden","block","didCreate"])(Ie),Ne=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.help,n=e.editable,r=e.useDisplayValue,l=e.block,i=e.disabled,o=[],u=!1,c=!0;return t.eachField((function(e,t,a){!c&&r&&e.isBlank()||(a&&e.get("block")&&(u=!0),o.push(s.a.createElement(Te,{component:e,key:t,noBlock:a,disabled:i}))),c&&(c=!1)})),a&&n&&o.push(s.a.createElement(fe,{help:a,key:"help"})),u&&!1!==l&&o.push(s.a.createElement(De,{key:"break"})),o}}]),t}(s.a.PureComponent),Me=q(["change","help","editable","useDisplayValue"])(Ne),Be=a(903),Ve=a(905),Re=a(35),We=a(202),Ue=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){a.props.component.setValue(e)},a.handleBlur=function(){a.props.component.setTouched(!0)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.value,r=e.includeTime,l=e.editable,i=e.useDisplayValue,o=e.minDate,u=e.maxDate,c=e.fullWidth,d=e.disabled,f=!1===e.accessEditable||d,h=!1,p=r?Be.a:Ve.a,m=null;return l&&!i?(h=!!n,m=s.a.createElement(Re.a,{utils:We.a},s.a.createElement("span",null,s.a.createElement(p,{value:n||null,onChange:this.handleDateChange,clearable:!0,className:a.root,minDate:o,maxDate:u,onClose:this.handleBlur,fullWidth:c,disabled:f})))):m=s.a.createElement(ke,null,t.getDisplayValue()),s.a.createElement(ge,{component:t,shrinkLabel:h},m)}}]),t}(s.a.PureComponent);Ue=b()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Ue);var qe=q(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled"])(Ue),Ge=a(70),Ke=a.n(Ge),He=function(e){function t(e){var a;if(Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var n=a.calcFieldsCanAccess();a.state.fieldsCanAccess=n}return a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e=this.props,t=e.component,a=e.mode,n=Ke.a.fieldsCanAccess(a||"update",t,null,!0),r=!0,l=!1,i=void 0;try{for(var o,s=t.getFields()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=void 0===n[u.get("name")];u.set({ignoreErrs:c})}}catch(d){l=!0,i=d}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}return n}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(f.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.component,r=a.access,l=a.mode;e.component!==n&&this.turnOnAutoValidate(),e.access===r&&e.mode===l&&e.component===n&&e.value===this.props.value||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.formTag,n=e.isLoading,r=e.disabled,l=this.state.fieldsCanAccess,i=t.get("fields");if(n)return null;var o=t.getKey(),u=i.map((function(e,t){if(null===l||void 0!==l[e.get("name")]){var a=null;return null!==l&&"read"===l[e.get("name")]&&(a=!1),s.a.createElement(Te,{key:o+"_"+t,component:e,accessEditable:a,disabled:r})}return null}));return!1!==a?s.a.createElement("form",{onSubmit:this.handleSave},u):u}}]),t}(s.a.PureComponent),ze=q(["access","mode","isLoading","change","value"])(He),$e=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.hideLabel,n=e.classes,r=e.disabled,l=t.isBlank(),i=t.get("form");return s.a.createElement("span",null,!a&&s.a.createElement(ge,{component:t,inlineLabel:"true",shrinkLabel:!l,marginBottom:!1}),s.a.createElement(De,null),s.a.createElement("span",{className:n.root},s.a.createElement(va,{component:i,formTag:!1,disabled:r})))}}]),t}(s.a.PureComponent);$e=b()((function(e){return{root:{marginLeft:e.spacing(2),display:"flex",flexFlow:"wrap"}}}))($e);var Ye=q(["hideLabel","value"])($e),Je=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hidden,a=e.content,n=e.xl,r=e.lg,l=e.md,i=e.sm,o=e.xs;return t?null:s.a.createElement(Ce.a,{item:!0,xl:n,lg:r,md:l,sm:i,xs:o},s.a.createElement(va,{component:a}))}}]),t}(s.a.PureComponent),Ze=q(["hidden","content","xl","lg","md","sm","xs"])(Je),Xe=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return s.a.createElement(Ce.a,{container:!0},this.props.items.map((function(e,t){return s.a.createElement(Ze,{component:e,key:t})})))}}]),t}(s.a.PureComponent),Qe=q(["items"])(Xe),et=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,a=e.forbidDelete,n=e.editable,r=e.disabled,l=e.archivedAt,i=e.onEdit,o=e.onDelete,u=null;t||(u=s.a.createElement(w.a,{onClick:i},s.a.createElement(S,{icon:"Edit"})));var c=null;return a||(c=s.a.createElement(w.a,{onClick:o},s.a.createElement(S,{icon:l?"Restore":"Delete"}))),!n||r||t&&a?null:s.a.createElement(Ce.a,{item:!0},u,c)}}]),t}(s.a.PureComponent),tt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onClick&&a.props.onClick(e,a.props.component)},a.handleEdit=function(e,t){a.props.onEdit&&a.props.onEdit(e,a.props.component)},a.handleDelete=function(e){a.props.onDelete&&a.props.onDelete(a.props.component)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.component,r=t.forbidUpdate,l=t.forbidDelete,i=t.editable,o=t.disabled,u=t.value;return s.a.createElement("div",null,s.a.createElement(Oe.a,{className:a.paper},s.a.createElement(Ce.a,{container:!0,wrap:"nowrap"},s.a.createElement(Ce.a,{item:!0,className:a.content,onClick:function(t){return e.handleClick(t)}},s.a.createElement(va,{component:n,formTag:!1,mode:"read"})),s.a.createElement(et,{forbidUpdate:r,forbidDelete:l,editable:i,disabled:o,archivedAt:u.archivedAt,onEdit:function(t){return e.handleEdit(t)},onDelete:function(t){return e.handleDelete(t)}}))))}}]),t}(s.a.PureComponent);tt=b()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1,cursor:"pointer"}}}))(tt);var at=q(["value"])(tt),nt=a(855),rt=a(857),lt=a(906),it=a(856),ot=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={saveClicked:!1,previousMode:null},a.handleClose=function(e){var t=a.props,n=t.mode,r=t.onClose,l=t.onCancel,i=t.currentForm;(e||"update"!==n)&&("update"===n?l&&l(i):r&&r(i))},a.handleEdit=function(){a.props.onEdit&&a.props.onEdit(a.props.currentForm)},a.handleSave=function(e){e.preventDefault(),a.props.disableSubmit||(a.props.onSave&&a.props.onSave(),a.setState({saveClicked:!0}))},a.handleDelete=function(){a.props.onDelete&&a.props.onDelete(a.props.currentForm)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mode,n=t.component,r=t.forbidUpdate,l=t.forbidDelete,i=t.value,o=t.fullScreen,u=this.state,c=u.saveClicked,d=u.previousMode,f=n.hasErrorForTouchedField()||!n.get("dirty")||c,h=this.isOpen(),p=null;return"update"===a||"create"===a||null===a&&("update"===d||"create"===d)?p=s.a.createElement("div",null,s.a.createElement(ne,{type:"submit",label:"Save",icon:"Save",disabled:f}),s.a.createElement(ne,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})):r&&l||(p=s.a.createElement("div",null,r?"":s.a.createElement(ne,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),l?"":s.a.createElement(ne,{label:i.archivedAt?"Restore":"Delete",icon:i.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),s.a.createElement(ne,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}}))),s.a.createElement(nt.a,{fullScreen:o,open:h,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title"},s.a.createElement("form",{onSubmit:this.handleSave},s.a.createElement(it.a,null,s.a.createElement(va,{component:n,formTag:!1,mode:a})),p?s.a.createElement(rt.a,null,p):""))}}]),t}(s.a.PureComponent);ot=Object(lt.a)()(ot);var st=ot=q(["err","dirty","value","mode","disableSubmit"])(ot),ut=a(908),ct=a(907),dt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.text,r=t.open,l=t.alert;return s.a.createElement("div",null,s.a.createElement(nt.a,{open:r,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(ct.a,{id:"alert-dialog-title"},a),s.a.createElement(it.a,null,s.a.createElement(ut.a,{id:"alert-dialog-description"},n)),s.a.createElement(rt.a,null,l?null:s.a.createElement(te.a,{onClick:function(){return e.handleClose(!1)},color:"primary"},"No"),s.a.createElement(te.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0},l?"OK":"Yes"))))}}]),t}(s.a.PureComponent),ft=(a(579),a(909)),ht=a(858),pt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e="ASC"===a.props.sortOrder?"DESC":"ASC";a.props.onChange({sortOrder:e})},a.handleChange=function(e){a.props.onChange({sortBy:e.target.value})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.sortBy,n="DESC"!==e.sortOrder,r=e.options.map((function(e){return s.a.createElement(ft.a,{value:e.value,key:e.value},e.label)}));return s.a.createElement("div",null,s.a.createElement(ue.a,{className:t.formControl},s.a.createElement(ht.a,{value:a,onChange:this.handleChange},s.a.createElement(ft.a,{value:""},s.a.createElement("em",null,"None")),r)),s.a.createElement(w.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick},s.a.createElement(S,{icon:"Sort",className:n?t.flip:null})))}}]),t}(s.a.PureComponent),mt=b()((function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}}))(pt),vt=a(152),yt=a.n(vt),bt=a(204);function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _t=function(e,t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({userSelect:"none",padding:a.spacing(.125),margin:"0 0 ".concat(a.spacing(.125),"px 0"),background:e?a.palette.secondary[400]:void 0},t)},Ft=function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}},kt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={confirmationOpen:!1,sortBy:"",sortOrder:"ASC"},a.handleClose=function(){a.props.component.set({mode:null})},a.handleCancel=function(e){var t=a.props.component;t.get("skipRead")?t.set({mode:null}):t.set({currentForm:e,mode:"read"})},a.handleClick=function(e){var t=a.props.component;t.get("skipRead")?t.set({currentForm:e,mode:"update"}):t.set({currentForm:e,mode:"read"})},a.handleEdit=function(e){a.props.component.set({currentForm:e,mode:"update"})},a.handleNew=function(){a.props.component.set({currentForm:null,mode:"create"})},a.handleSave=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.component.save();case 2:case"end":return e.stop()}}),e)}))),a.handleDelete=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.component,r=a.isOpen(),t?n.set({currentForm:t}):t=n.get("form"),!t.getValue("archivedAt")){e.next=10;break}return e.next=7,n.restore(t);case 7:r&&n.set({mode:null}),e.next=12;break;case 10:a.setState({confirmationOpen:!0,confirmationTitle:"Delete this?"}),n.set({mode:null});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=a.props.component,e.next=4,n.archive(n.get("form"));case 4:a.setState({confirmationOpen:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOrdering=function(e){a.setState(e,(function(){a.props.component.set({order:a.state.sortBy?[[a.state.sortBy,a.state.sortOrder]]:null})}))},a.onDragEnd=function(e){e.destination&&e.destination.index!==e.source.index&&a.props.component.moveAndSaveForm({sourceIndex:e.source.index,destinationIndex:e.destination.index})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"canCreate",value:function(){return Ke.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return Ke.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return Ke.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,a=e.showArchived,n=e.searchString,r=e.order;return!t&&!a&&!n&&!r}},{key:"cards",value:function(e,t){var a=this,n=this.props,r=n.component,l=n.forbidUpdate,i=n.forbidDelete,o=n.forbidOrder,u=n.editable,c=n.disabled,d=n.useDisplayValue,f=n.theme,h=12/(!1===o?1:this.props.maxColumns),p=[],m=0,v=!0,y=!1,b=void 0;try{for(var g,_=function(){var n=g.value;n.setEditable(!1);var o=n.getUniqueId(),v=r.getUniqueItemId(n.getValue("id")),y=s.a.createElement(Ce.a,{item:!0,xs:12,sm:h,lg:h,key:o,id:v},s.a.createElement(at,{onClick:function(){return a.handleClick(n)},onEdit:function(){return a.handleEdit(n)},onDelete:a.handleDelete,component:n,forbidUpdate:l||!e||d,forbidDelete:i||!t||d,editable:u,disabled:c}));a.canDrag()?p.push(s.a.createElement(bt.b,{key:v,draggableId:v,index:m++},(function(e,t){return s.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:_t(t.isDragging,e.draggableProps.style,f)}),y)}))):p.push(y)},F=r.getForms()[Symbol.iterator]();!(v=(g=F.next()).done);v=!0)_()}catch(k){y=!0,b=k}finally{try{v||null==F.return||F.return()}finally{if(y)throw b}}return p}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),a=Ke.a.fieldsCanAccess("read",t),n=[];return t.eachField((function(e){var r=e.get("name");void 0===a[r]||e.get("forbidSort")||e.get("hidden")||e instanceof yt.a||n.push({value:(t.isDefaultField(r)?"":"fieldValues.")+r,label:e.get("label")})})),n}}},{key:"header",value:function(e){var t=this.props,a=t.forbidCreate,n=t.editable,r=t.disabled,l=t.component,i=t.forbidSort,o=t.store,u=t.useDisplayValue,c=this.state,d=c.sortBy,f=c.sortOrder,h=l.getSingularLabel(),p=l.reachedMax(),m=this.canCreate(),v=n&&!r&&!u&&!a&&!p&&m,y=!i,b=this.sortOptions(),g=e>0&&!!o;return s.a.createElement(Ce.a,{container:!0,spacing:0},s.a.createElement(Ce.a,{item:!0,xs:12,sm:6,lg:6},v?s.a.createElement(ne,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+h,marginTop:!1}):null),s.a.createElement(Ce.a,{item:!0,xs:12,sm:6,lg:6,align:"right"},g&&y?s.a.createElement(mt,{onChange:this.handleOrdering,sortBy:d,sortOrder:f,options:b}):null))}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,a=e.forbidDelete,n=e.component,r=e.spacerHeight,l=e.classes,i=e.isLoading,o=e.form,u=e.currentForm,c=e.noResults,d=e.disabled,f=e.accessEditable,h=e.useDisplayValue,p=e.theme,m=!1===f||d,v=this.state,y=v.confirmationOpen,b=v.confirmationTitle,g=n.get("label").toLowerCase(),_=this.canUpdate(),F=this.canArchive(),w={height:r},E=n.get("spacerId"),C=this.cards(_,F),O=C;this.canDrag()&&(O=s.a.createElement(bt.a,{onDragEnd:this.onDragEnd},s.a.createElement(bt.c,{droppableId:"droppable"},(function(e,t){return s.a.createElement("div",{ref:e.innerRef,style:Ft(t.isDraggingOver,p)},C,e.placeholder)}))));var x=n.get("searchString")&&c,A=this.header(C.length);return s.a.createElement("div",null,A,x?s.a.createElement(k.a,{variant:"h4"},s.a.createElement(S,{icon:"Info"})," No ",g," found"):null,s.a.createElement("div",{id:E,className:l.spacer,style:w}),s.a.createElement(Ce.a,{container:!0,spacing:0},O),i?s.a.createElement("div",{className:l.footer}):null,s.a.createElement(st,{component:o,currentForm:u,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!_||m||h,forbidDelete:a||!F||m||h}),s.a.createElement(dt,{open:y,onClose:this.handleConfirmationClose,title:b}))}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.hideLabel,n=e.classes,r=t.isBlank();return s.a.createElement("span",{className:n.root},!a&&s.a.createElement(ge,{component:t,inlineLabel:"true",shrinkLabel:!r}),this.field())}}]),t}(s.a.PureComponent);kt=b()((function(e){return{root:{width:"100%"},spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing(1),marginRight:e.spacing(1),animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing(1),animation:"fadeIn 1s infinite alternate"}}}),{withTheme:!0})(kt);var wt=kt=q(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order"])(kt),Et=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(){a.props.component.emit("delete")},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.allowDelete,n=e.help,r=e.disabled,l=e.editable;if(t){var i=t.get("block");return s.a.createElement("span",null,s.a.createElement(Te,{component:t,block:!1,disabled:r}),a&&!r&&l?s.a.createElement(w.a,{"aria-label":"Delete",onClick:this.handleDelete},s.a.createElement(S,{icon:"DeleteIcon"})):null,n&&l?s.a.createElement(fe,{help:n}):"",i?s.a.createElement(De,null):null)}return null}}]),t}(s.a.PureComponent),Ct=q(["value","disabled","editable"])(Et),Ot=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleNew=function(){a.props.component.createField(),a.props.component.set({touched:!1})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.allowDelete,n=e.useDisplayValue,r=e.autoCreateFields,l=e.hideLabel,i=e.editable,o=e.canDeleteEmpty,u=e.accessEditable,c=e.disabled,d=e.hideDeleteButton,f=t.getSingularLabel(),h=!1===u||c,p=[],m=!0,v=t.isBlank();return t.eachField((function(e,t){var r=e.isBlank();!m&&n&&r||p.push(s.a.createElement(Ct,{component:e,key:t,allowDelete:a&&!n&&(o||!r)&&!d,disabled:c})),m&&(m=!1)})),r||n||!i||h||p.push(s.a.createElement(ne,{key:"button","aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(f||""),marginTop:!1})),s.a.createElement("span",null,!l&&s.a.createElement(ge,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!v}),s.a.createElement("div",null,p))}}]),t}(s.a.PureComponent),St=q(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Ot),xt=a(371),At=a(34),Pt=a.n(At),jt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.component.setValue(e)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.editable,n=e.accessEditable,r=e.classes,l=e.useDisplayValue,i=!1!==n&&a&&!t,o=Pt.a.get("reCAPTCHASiteKey");return i&&!l?s.a.createElement("div",{className:r.captcha},s.a.createElement(xt.a,{ref:"recaptcha",sitekey:o,onChange:this.handleChange})):null}}]),t}(s.a.PureComponent);jt=b()((function(e){return{captcha:{margin:e.spacing(1)}}}))(jt);var Dt=q(["disabled","editable","useDisplayValue"])(jt),Lt=a(915),It=a(847),Tt=a(921),Nt=a(370),Mt=a(5),Bt=a(251);function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Wt(e){var t=e.inputRef,a=Object(ee.a)(e,["inputRef"]);return s.a.createElement("div",Object.assign({ref:t},a))}var Ut={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),s.a.createElement($.a,Object.assign({},t,{InputProps:{inputComponent:Wt,inputProps:Rt({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return s.a.createElement(Oe.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){var t;return s.a.createElement(Tt.a,{tabIndex:-1,label:e.children,className:J()(e.selectProps.classes.chip,(t={},Object(v.a)(t,e.selectProps.classes.chipFocused,e.isFocused),Object(v.a)(t,e.selectProps.classes.disabled,e.selectProps.isDisabled),t)),onDelete:e.removeProps.onClick,deleteIcon:s.a.createElement(S,{icon:"Cancel"})})},NoOptionsMessage:function(e){return s.a.createElement(k.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return s.a.createElement(ft.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return s.a.createElement(k.a,Object.assign({className:J()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),e.children)},ValueContainer:function(e){return s.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},qt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.options,n=e.isClearable,r=e.placeholder,l=e.onChange,i=e.onBlur,o=e.onFocus,u=e.onInputChange,c=e.value,d=e.isDisabled,f=e.fullWidth,h=e.isMulti,p={dropdownIndicator:function(e){return Rt({},e,{cursor:"pointer"})},clearIndicator:function(e){return Rt({},e,{cursor:"pointer"})},menuPortal:function(e){return Rt({},e,{zIndex:2e3})}};return s.a.createElement(Nt.a,{className:J()(t.root,f&&t.fullWidth),classes:t,styles:p,options:a,components:Ut,value:c,onChange:l,onBlur:i,onFocus:o,onInputChange:u,placeholder:r,isClearable:n,isDisabled:d,fullWidth:f,isMulti:h,menuPortalTarget:document.body})}}]),t}(s.a.Component),Gt=Object(Mt.a)((function(e){return{input:{display:"flex",padding:0,minWidth:240,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:e.spacing(2)+5},chip:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.25),"px")},chipFocused:{backgroundColor:Object(Bt.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1)},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}}))(qt),Kt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={focus:!1},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e.map((function(e){return e.value}))):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,a=e.blankString,n=e.value,r=e.multiple;if(t){var l=[];return!r&&a&&l.push(s.a.createElement(ft.a,{value:"",key:""},s.a.createElement("em",null,a))),t.forEach((function(e){if(r){var t=!!n&&-1!==n.indexOf(e.value);l.push(s.a.createElement(ft.a,{value:e.value,key:e.value},s.a.createElement(Lt.a,{checked:t}),s.a.createElement(L.a,{primary:e.label})))}else l.push(s.a.createElement(ft.a,{value:e.value,key:e.value},e.label))})),l}}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.err,r=t.touched,l=t.disabled,i=t.component,o=t.fullWidth,u=t.classes,c=t.editable,d=t.multiple,f=t.accessEditable,h=t.useDisplayValue,p=t.options,m=t.autocomplete,v=this.state.focus,y=!1===f||l,b=d?[]:"";a&&(b=a);var g=void 0,_=void 0;d&&(g=s.a.createElement(It.a,null),_=function(e){return s.a.createElement("div",{className:u.chips},e.map((function(e){return s.a.createElement(Tt.a,{key:e,label:i.getOptionLabel(e),className:u.chip})})))});var F={},k=null;if(c&&!h)if(m){var w=null;w=d?b.map((function(e){return{value:e,label:i.getOptionLabel(e)}})):{value:b,label:i.getOptionLabel(b)},!v&&i.isValueBlank(b)||(F.shrinkLabel=!0),k=s.a.createElement(Gt,{options:p,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:w,isDisabled:y,fullWidth:o,isMulti:d})}else k=s.a.createElement(ht.a,{multiple:d,error:!(!r||!n),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:g,renderValue:_,value:b,disabled:y,fullWidth:o,className:u.formControl},this.renderOptions());else{var E=null;E=d&&a?a.map((function(e){return s.a.createElement(Tt.a,{key:e,label:i.getOptionLabel(e),className:u.chip})})):i.getDisplayValue(),k=s.a.createElement(ke,null,E)}return s.a.createElement(ge,Object.assign({component:i},F),k)}}]),t}(s.a.PureComponent);Kt=b()((function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing(.25)}}}))(Kt);var Ht=q(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Kt),zt=a(859),$t=a(376),Yt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var n=a.props,r=n.component,l=n.items;r.set({value:t});var i=l[t].name;r.emitChange(i)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.value;return s.a.createElement(g.a,{position:"static",color:"default",elevation:1},s.a.createElement(zt.a,{value:a,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"fullWidth"},t.map((function(e,t){return s.a.createElement($t.a,{label:e.label,icon:s.a.createElement(S,{icon:e.icon}),key:t})}))))}}]),t}(s.a.Component),Jt=Yt=q(["items","value"])(Yt),Zt=a(911),Xt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){a.props.component.setValue(e)},a.handleBlur=function(){a.props.component.setTouched(!0)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.value,r=e.editable,l=e.useDisplayValue,i=e.showSeconds,o=e.fullWidth,u=e.disabled,c=!1===e.accessEditable||u,d=!1,f=null;return r&&!l?(d=!!n,f=s.a.createElement(Re.a,{utils:We.a},s.a.createElement("span",null,s.a.createElement(Zt.a,{value:n||null,onChange:this.handleDateChange,clearable:!0,className:a.root,seconds:i,onClose:this.handleBlur,fullWidth:o,disabled:c,invalidDateMessage:""})))):f=s.a.createElement(ke,null,t.getDisplayValue()),s.a.createElement(ge,{component:t,shrinkLabel:d},f)}}]),t}(s.a.PureComponent);Xt=b()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Xt);var Qt=q(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Xt),ea=a(363),ta=a.n(ea),aa=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.text;return s.a.createElement(k.a,{component:"div"},s.a.createElement(ta.a,{source:e}))}}]),t}(s.a.PureComponent),na=aa=q(["text"])(aa),ra=a(364),la=a.n(ra),ia=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(ee.a)(e,["inputRef"]),r=a.props.mask;return s.a.createElement(la.a,Object.assign({},n,{ref:function(e){t(e?e.inputElement:null)},mask:r}))},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.err,a=e.maxLength,n=e.touched,r=e.disabled,l=e.component,i=e.fullWidth,o=e.type,u=e.editable,c=e.accessEditable,d=e.multiline,f=e.rows,h=e.rowsMax,p=e.useDisplayValue,m=e.mask,v=e.displayValue,y=!1===c||r,b=null;if(u&&!p){var g={};m&&(g.inputComponent=this.TextMaskCustom);var _=l.getUIValue();b=s.a.createElement(It.a,Object.assign({id:l.getUniqueId(),error:!(!n||!t),inputProps:{maxLength:a},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:_||"",disabled:y,fullWidth:i,type:o,multiline:d,rows:f,rowsMax:h},g))}else b=s.a.createElement(ke,null,v||l.getDisplayValue());return s.a.createElement(ge,{component:l},b)}}]),t}(s.a.PureComponent),oa=q(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(ia),sa=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.value,n=e.editable,r=e.useDisplayValue,l=e.newWindow,i=null;if((!n||r)&&a){var o=a;0!==o.indexOf("http")&&(o="http://"+o),i=s.a.createElement("a",{href:o,target:l?"_blank":"_self"},a)}return s.a.createElement(oa,{component:t,displayValue:i})}}]),t}(s.a.PureComponent),ua=q(["value","editable","useDisplayValue","newWindow"])(sa),ca={ButtonField:le,BooleanField:Ee,Card:xe,ChainedSelectField:Me,ChainedSelectListField:St,ComponentField:Pe,CompositeField:Me,DateField:qe,Field:Te,Form:ze,FormField:Ye,Grid:Qe,GridItem:Ze,CollectionField:wt,IdField:oa,IntegerField:oa,ListField:St,MoneyField:oa,NumberField:oa,PhoneField:oa,ReCAPTCHAField:Dt,SelectField:Ht,SelectListField:St,Tabs:Jt,TimeField:Qt,Text:na,TextField:oa,TextListField:St,URLField:ua,User:ze},da=a(42),fa=a.n(da),ha=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),a=ca[t];if(void 0!==a)return a;if(fa.a.isCompiled(fa.a.getComponent(t))){var n=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new n)}var r=fa.a.getOldestCompiledAncestor(t),l=fa.a.getComponent(r);return this.getUIComponent(new l)}}]),e}()),pa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var n=a.props,r=n.on,l=n.component;r&&r({name:e,value:t,component:l});var i="on"+e.charAt(0).toUpperCase()+e.slice(1);a.props[i]&&a.props[i]({value:t,component:l})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(ee.a)(e,["component"]);if(t){var n=ha.getUIComponent(t);return s.a.createElement(n,Object.assign({component:t},a))}return null}}]),t}(s.a.PureComponent),ma=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={component:null},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:fa.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),a=Object(ee.a)(e,["definition","component"]),n=t;return t||(n=this.state.component),n&&n.get("hidden")?null:s.a.createElement(pa,Object.assign({component:n},a))}}]),t}(s.a.PureComponent),va=q(["hidden"])(ma),ya=a(380),ba=a(916),ga=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){"clickaway"!==t&&a.props.onClose&&a.props.onClose()},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=e.open;return s.a.createElement(ba.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},a),action:[s.a.createElement(w.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},s.a.createElement(S,{icon:"Close"}))]})}}]),t}(s.a.PureComponent),_a=b()((function(e){return{close:{padding:e.spacing(.5)}}}))(ga),Fa=a(41),ka=a.n(Fa),wa=a(153),Ea=a.n(wa),Ca=a(121),Oa=a.n(Ca),Sa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchStringInput:"",showSearch:!1,showSearchOnMobile:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.content.has("dirty")&&t.content.get("dirty")&&!t.fullScreen?Pt.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(i.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.content instanceof ka.a)){e.next=5;break}return e.next=3,t.content.run();case 3:e.next=6;break;case 5:a.props.history.push(t.path);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,i,o,s,u,c,d,f,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a.state.menuItem){e.next=22;break}if(a.component&&a.component.emitUnload(),r=t&&t.content instanceof ka.a,!t||!t.content){e.next=21;break}if(i=a.props,o=i.location,s=i.component,u=s.get("menu"),Pt.a.set({route:u.toRoute({parameters:n,queryString:o.search.substr(1),hash:o.hash.substr(1)})}),c=u.getParent(t.path),!a.requireAccess(t.roles)||c&&!a.requireAccess(c.roles)){e.next=19;break}if(!r){e.next=14;break}return e.next=12,t.content.run();case 12:e.next=19;break;case 14:a.component=t.content,a.component.emitLoad(),d=a.canArchive(),f=d.canArchive,h=d.canSearch,Pt.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:f,searchStringInput:"",showSearch:h});case 19:e.next=22;break;case 21:a.component=null;case 22:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onLocation=function(e){Pt.a.set({path:e.pathname})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.content.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringInputChange=function(e){a.setState({searchStringInput:e})},a.handleSearch=function(e){a.setState({searchStringInput:e},(function(){Pt.a.set({searchString:e||null})}))},a.toggleShowSearch=function(){a.setState({showSearchOnMobile:!a.state.showSearchOnMobile})},a.setGlobalOnNavigate(),a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"setGlobalOnNavigate",value:function(){Pt.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;Pt.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.state.menuItem,a=this.props.component.get("menu");if(!t||e!==t.path){var n=a.getItemAndParsePath(e);return this.switchContent(n.item,n.params)}}},{key:"canArchive",value:function(){var e=!1,t=!1;if(this.component&&this.component instanceof Oa.a){var a=!0,n=!1,r=void 0;try{for(var l,i=this.component.getFields()[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var o=l.value;o instanceof Ea.a&&(e=!o.get("forbidViewArchived")&&Ke.a.canArchive(o.get("form")),t=!o.get("forbidSearch"))}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}return{canArchive:e,canSearch:t}}},{key:"emitLoggedOut",value:function(){Pt.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||B.a.client&&B.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentWillUpdate",value:function(e){var t=Pt.a.get("snackbarMessage");t&&(this.displaySnackbar(t),Pt.a.set({snackbarMessage:null}))}},{key:"componentDidUpdate",value:function(e){if(this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path!==e.path&&this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var t=this.state.menuItem;t&&t.content.has("searchString")&&t.content.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",(function(t){e.state.menuItem&&e.state.menuItem.content.emit("scroll",t)})),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),Promise.resolve().then((function(){B.a.client&&B.a.client.user.awaitSession()})).then((function(){e.onLocation(e.props.location)}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"archivedToggle",value:function(){var e=this.state,t=e.showArchived,a=!!t,n=null;return e.showArchivedToggle&&(n=s.a.createElement(_.a,{title:t?"Show Active":"Show Deleted"},s.a.createElement(ie.a,{onChange:this.handleArchivedChange,checked:a}))),n}},{key:"searchBox",value:function(e){var t=this.props.classes,a=this.state,n=a.searchStringInput,r=null;return a.showSearch&&(r=s.a.createElement(X,{fullWidth:e,className:t.alignRight,searchString:n,onChange:this.handleSearchStringInputChange,onSearch:this.handleSearch})),r}},{key:"menuButton",value:function(){var e=this.props.classes,t=this.isResponsive();return s.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t?e.navIconHide:""},s.a.createElement(S,{icon:"Menu"}))}},{key:"title",value:function(){var e=this.state.menuItem;return s.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},e?e.label:"")}},{key:"appBar",value:function(){var e=this.props,t=e.classes,a=e.width,n=this.state.showSearchOnMobile,r=Object(ya.b)("sm",a),l=this.isResponsive(),i=null;return i=r?n?s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{color:"inherit","aria-label":"close search",onClick:this.toggleShowSearch},s.a.createElement(S,{icon:"ArrowBack"})),this.searchBox(!0)):s.a.createElement(s.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),s.a.createElement(w.a,{color:"inherit","aria-label":"toggle search",onClick:this.toggleShowSearch,className:t.alignRight},s.a.createElement(S,{icon:"Search"}))):s.a.createElement(s.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),this.searchBox()),s.a.createElement(g.a,{elevation:1,className:t.appBar+(l?" ".concat(t.appBarResponsive):"")},s.a.createElement(F.a,null,i))}},{key:"isResponsive",value:function(){return!this.props.menuAlwaysTemporary}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.component,n=e.confirmation,r=this.state,l=r.mobileOpen,i=r.menuItem,o=r.snackbarOpen,u=r.snackbarMessage,c=r.confirmationOpen,d=this.isResponsive(),f=a.get("menu"),h=this.props.location.pathname,p=this.component?s.a.createElement(va,{component:this.component}):null,m=this.appBar(),v=s.a.createElement(z,{component:f,onDrawerToggle:this.handleDrawerToggle,mobileOpen:l,onNavigate:this.handleNavigate,path:h,responsive:d}),y=null;return i&&i.fullScreen&&(y={marginLeft:0,marginTop:0}),s.a.createElement("div",{className:t.root},s.a.createElement("div",{className:t.appFrame},i&&i.fullScreen?null:m,i&&i.fullScreen?null:v,s.a.createElement("main",{className:t.content+(d?" ".concat(t.contentResponsive):""),style:y},s.a.createElement(Q.d,null,s.a.createElement(Q.b,null)),p,s.a.createElement(_a,{open:o,message:u,onClose:this.handleSnackbarClose}),s.a.createElement(dt,{open:c,onClose:this.handleConfirmationClose,title:n?n.title:null,text:n?n.text:null,alert:n?n.alert:null}))))}}]),t}(s.a.PureComponent);Sa=b()((function(e){var t;return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:Object(v.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(v.a)({},e.breakpoints.up("md"),{display:"none"}),content:(t={backgroundColor:e.palette.background.default,width:"100%",padding:e.spacing(3),height:"calc(100% - 56px)",marginTop:56},Object(v.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64}),Object(v.a)(t,"overflowAnchor","none"),t),contentResponsive:Object(v.a)({},e.breakpoints.up("md"),{marginLeft:240}),alignRight:{marginLeft:"auto"}}}),{withTheme:!0})(Sa),Sa=Object(ya.a)()(Sa),Sa=Object(Q.g)(Sa),Sa=q(["menuAlwaysTemporary"])(Sa);var xa=Sa=q(["path","redirectPath","snackbarMessage","confirmation","searchString"],Pt.a)(Sa),Aa=a(912),Pa=a(368),ja=a.n(Pa),Da=a(250),La=a.n(Da),Ia=a(366),Ta=a.n(Ia),Na=a(367),Ma=a.n(Na),Ba=a(254),Va=La()({palette:{primary:Ta.a,secondary:Ma.a},typography:{useNextVariants:!0}}),Ra=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onNavigate=function(e,t){Pt.a.onNavigate(e,t)},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.basename;return s.a.createElement(ja.a,{theme:Va},s.a.createElement(Aa.a,null),s.a.createElement(Ba.a,{getUserConfirmation:this.onNavigate,basename:a},s.a.createElement("div",null,s.a.createElement(xa,{component:t}),s.a.createElement(Q.a,{message:"foo"}))))}}]),t}(s.a.Component),Wa=q(["basename"])(Ra),Ua=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qa(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mson-react","/service-worker.js");Ua?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ga(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ga(e)}))}}function Ga(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ka=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.a.client){e.next=3;break}return e.next=3,B.a.client.user.awaitSession();case 3:c.a.render(s.a.createElement(Wa,{component:t}),document.getElementById("root")),qa();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ha=(a(838),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-builder",label:"Form Builder",content:{component:"app.FormBuilder"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}},{path:"/grid",label:"Grid",content:{component:"app.Grid"}}]}}),za=a(372),$a=a(111),Ya=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"_create",value:function(e){var a=this;Object(za.a)(Object(p.a)(t.prototype),"_create",this).call(this,e),this.set({fields:[new $a.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new $a.TextField({name:"lastName",label:"Last Name",required:!0}),new $a.EmailField({name:"email",label:"Email"}),new $a.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new $a.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new $a.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",(function(){a.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})})),this.on("submit",(function(){var e=a.getValues();console.log("submitting",e),Pt.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName))})),this.on("cancel",(function(){Pt.a.redirect("/")}))}}]),t}(Oa.a);fa.a.registerComponent("app.ContactNoMSON",Ya);var Ja={name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},Za={name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},Xa={name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},Qa={name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},en={name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/redgeoff7"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},tn=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],an={name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:tn},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:tn},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},nn={name:"app.FormBuilder",component:"FormBuilder","fields.form.form.fields.fields.store":{component:"LocalStorageStore",storeName:"myForm"}},rn={name:"app.Grid",component:"Grid",items:[{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# A"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# B"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# C"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# D"}},{component:"GridItem",md:6,xs:12,content:{name:"toggleA",component:"ButtonField",label:"Toggle A",listeners:[{event:"click",actions:[{component:"Action",if:{"parent.parent.items.0.hidden":!0},actions:[{component:"Set",name:"parent.parent.items.0.hidden",value:!1}],else:[{component:"Set",name:"parent.parent.items.0.hidden",value:!0}]}]}]}}]},ln={name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},on={name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},sn={name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},un={name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},cn=a(255),dn=a.n(cn),fn=a(913),hn=a(914),pn=a(193),mn=a.n(pn),vn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={field:null},a.handleValueChange=function(e){var t=a.props.component,n=a.state.field,r=null;if(!n||e.componentName!==n.getClassName())if(n&&n.destroy(),e.componentName){r=fa.a.newComponent({component:e.componentName});var l=function(){n.clearErr(),n.validate()};(n=r.isField?r:new mn.a({content:r})).on("value",l),n.on("touched",l)}else n=null;if(n){var i=t.getValues({default:!1});r="ComponentField"===n.getClassName()?n.get("content"):n,N()(i,(function(e,t){r.has(t)&&r.set(Object(v.a)({},t,e))}))}a.setState({field:n})},a}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.classes,n=e.formTag,r=e.mode,l=this.state.field,i=null;return l&&"read"!==r&&(i=s.a.createElement(fn.a,{className:a.card},s.a.createElement(hn.a,null,s.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},"Preview"),s.a.createElement(Te,{component:l})))),"read"!==r?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:a.preview},i),s.a.createElement("div",{className:a.form},s.a.createElement(ze,{component:t,formTag:n,mode:r}))):l?s.a.createElement(Te,{component:l,disabled:!0}):null}}]),t}(s.a.PureComponent);vn=b()((function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:e.spacing(3)}}}))(vn);var yn=vn=q(["mode"])(vn),bn=a(256),gn=a.n(bn),_n=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=e.component;if(!1!==t)return s.a.createElement(ze,this.props);var n=a.get("definition");return s.a.createElement(va,{definition:n,formTag:!1})}}]),t}(s.a.Component),Fn=_n=q(["editable"])(_n),kn=a(369),wn=a.n(kn);for(var En in Pt.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),fa.a.registerComponent("FieldEditorForm",dn.a),ca.FieldEditorForm=yn,fa.a.registerComponent("FormEditor",gn.a),ca.FormEditor=Fn,fa.a.registerComponent("FormBuilder",wn.a),n){var Cn=n[En];fa.a.registerComponent(Cn.name,Cn)}Ka(fa.a.newComponent({component:"app.App"}))},95:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(30)),l=n(a(116)),i=n(a(12)),o=n(a(13)),s=n(a(15)),u=n(a(18)),c=n(a(14)),d=n(a(19)),f=n(a(16)),h=n(a(17)),p=n(a(76)),m=n(a(772)),v=n(a(62)),y=n(a(314)),b=n(a(183)),g=n(a(246)),_=n(a(148)),F=n(a(147)),k=n(a(152)),w=n(a(333)),E=n(a(193)),C=n(a(107)),O=n(a(784)),S=n(a(339)),x=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),(0,h.default)((0,u.default)(a),"_className","Form"),a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"_formSetMSONSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"fields",component:"CollectionField",formFactory:{component:"Factory",product:{component:"SchemaValidatorForm"}}},{name:"form",component:"Field"},{name:"validators",component:"CollectionField",formFactory:{component:"Factory",product:{component:"ValidatorForm"}}},{name:"access",component:"FormField",form:{component:"AccessForm"}},{name:"indexes",component:"Field"},{name:"touched",component:"BooleanField"},{name:"err",component:"Field"},{name:"dirty",component:"BooleanField"},{name:"pristine",component:"BooleanField"},{name:"autoValidate",component:"BooleanField"},{name:"reportUndefined",component:"BooleanField"},{name:"resetOnLoad",component:"BooleanField"},{name:"showArchived",component:"BooleanField"},{name:"searchString",component:"TextField"},{name:"cursor",component:"TextField"},{name:"snapshot",component:"BooleanField"},{name:"mode",component:"TextField"},{name:"isLoading",component:"BooleanField"},{name:"omitDefaultFields",component:"BooleanField"},{name:"value",component:"Field"},{name:"clear",component:"BooleanField"},{name:"reset",component:"BooleanField"},{name:"fullWidth",component:"BooleanField"},{name:"editable",component:"BooleanField"},{name:"hidden",component:"BooleanField"},{name:"required",component:"BooleanField"},{name:"out",component:"BooleanField"},{name:"disabled",component:"BooleanField"},{name:"eachField",component:"Field"},{name:"disableSubmit",component:"BooleanField"},{name:"useDisplayValue",component:"BooleanField"},{name:"change",component:"Field"},{name:"clearErrs",component:"BooleanField"}]}})}},{key:"_create",value:function(e){(0,d.default)((0,c.default)(t.prototype),"_create",this).call(this,e),this._componentFillerProps=new w.default,this._fields=new b.default,this._defaultFields=new b.default,this._validators=[],this._clearExtraErrors(),e&&e.omitDefaultFields||(this._addDefaultFields(),this._createDefaultFields()),this._formSetMSONSchema(),this._setDefaults(e,{autoValidate:!1,reportUndefined:!0,resetOnLoad:!0,showArchived:!1}),this._listenForLoad(),this._listenForUnload(),this._listenForShowArchived(),this._listenForSearchString(),this._listenForScroll()}},{key:"_setSubmitDisabled",value:function(e){var t=this._getSubmitButton();t&&t.set({disabled:e})}},{key:"_handleLoadFactory",value:function(){var e=this;return function(){e.get("resetOnLoad")&&e.reset(),e._fields.each((function(e){return e.emitLoad()}))}}},{key:"_listenForLoad",value:function(){this.on("load",this._handleLoadFactory())}},{key:"_listenForUnload",value:function(){var e=this;this.on("unload",(function(){e.set({showArchived:!1,searchString:null}),e._fields.each((function(e){return e.emitUnload()}))}))}},{key:"_handleShowArchivedFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){return e.set({showArchived:t})}))}}},{key:"_listenForShowArchived",value:function(){this.on("showArchived",this._handleShowArchivedFactory())}},{key:"_handleSearchStringFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){return e.set({searchString:t})}))}}},{key:"_listenForSearchString",value:function(){this.on("searchString",this._handleSearchStringFactory())}},{key:"_handleScrollFactory",value:function(){var e=this;return function(t){e._fields.each((function(e){e.emit("scroll",t)}))}}},{key:"_listenForScroll",value:function(){this.on("scroll",this._handleScrollFactory())}},{key:"isDefaultField",value:function(e){return this._defaultFields.has(e)}},{key:"_addDefaultFields",value:function(){this._defaultFields.set("id",new g.default({name:"id",label:"Id",hidden:!0})),this._defaultFields.set("userId",new g.default({name:"userId",label:"User Id",hidden:!0})),this._defaultFields.set("createdAt",new F.default({name:"createdAt",label:"Created At",hidden:!0})),this._defaultFields.set("updatedAt",new F.default({name:"updatedAt",label:"Updated At",hidden:!0})),this._defaultFields.set("archivedAt",new F.default({name:"archivedAt",label:"Archived At",hidden:!0})),this._defaultFields.set("order",new _.default({name:"order",label:"Order",hidden:!0}))}},{key:"_createDefaultFields",value:function(){var e=this;this._defaultFields.each((function(t){return e.addField(t)}))}},{key:"copyFields",value:function(e,t){var a=this,n=[];e._fields.each((function(e){a.isDefaultField(e.get("name"))||(a.addField(t?e.clone():e),n.push(e))})),this._emitChangeToFields(n)}},{key:"cloneFields",value:function(e){this.copyFields(e,!0)}},{key:"elevate",value:function(e){this.copyFields(e),this.set({validators:e.get("validators"),listeners:e.get("listeners")})}},{key:"_clearExtraErrors",value:function(){this._extraErrors=[]}},{key:"_setAccess",value:function(e){this._set("access",(0,m.default)(this._access,e))}},{key:"_emitChangeToFields",value:function(e){this.set({change:e})}},{key:"set",value:function(e){var a=this;void 0!==e.fields&&(e.fields.forEach((function(e){a.addField(e)})),this._emitChangeToFields(e.fields)),(0,d.default)((0,c.default)(t.prototype),"set",this).call(this,Object.assign({},e,{fields:void 0,validators:void 0,access:void 0,value:void 0,clear:void 0,reset:void 0,fullWidth:void 0,hidden:void 0,required:void 0,out:void 0,disabled:void 0,setForEachField:void 0,useDisplayValue:void 0})),void 0!==e.validators&&(this._validators=[],e.validators.forEach((function(e){a.addValidator(e)}))),void 0!==e.value&&this.setValues(e.value),void 0!==e.required&&this.setRequired(e.required),void 0!==e.disabled&&this.setDisabled(e.disabled),void 0!==e.editable&&this.setEditable(e.editable),void 0!==e.hidden&&this.setHidden(e.hidden),void 0!==e.out&&this.setOut(e.out),void 0!==e.snapshot&&this.setSnapshot(e.snapshot),!0===e.clear&&this.clearValues(),!0===e.reset&&this.reset(),void 0!==e.pristine&&this.setDirty(!e.pristine),void 0!==e.err&&this._emitCanOrCannotSubmit(),void 0!==e.access&&this._setAccess(e.access),void 0!==e.fullWidth&&this._setFullWidth(e.fullWidth),void 0!==e.eachField&&this.setForEachField(e.eachField),void 0!==e.useDisplayValue&&this.setUseDisplayValue(e.useDisplayValue),!0===e.clearErrs&&this.clearErrs()}},{key:"_setField",value:function(e){var t=e.get("before"),a=t&&this.hasField(t)?t:void 0,n=e.get("after"),r=n&&this.hasField(n)?n:void 0;this._fields.set(e.get("name"),e,a,r)}},{key:"_handleFieldTouchedFactory",value:function(){var e=this;return function(t){t&&e.set({touched:!0}),e.get("autoValidate")&&e.validate()}}},{key:"_addField",value:function(e){var t=this;this._setField(e),e.on("value",(function(a){var n=t._value?t._value:{};n[e.get("name")]=a,t._setProperty("value",n),t.emitChange("value",n),t.get("autoValidate")&&t.validate()})),e.on("touched",this._handleFieldTouchedFactory()),e.on("err",(function(e){e&&t.set({err:!0})})),e.on("dirty",(function(e){e&&t.set({dirty:!0})})),e.on("click",(function(){t.emitChange(e.get("name"))})),e.set({parent:this})}},{key:"addField",value:function(e){e.isField||(e=this.isComponent(e)?new E.default({name:e.get("name"),content:e}):new S.default({name:e.name,properties:Object.assign({},e,{name:void 0})})),e instanceof S.default&&this.hasField(e.get("name"))?this.getField(e.get("name")).set(e.get("properties")):e instanceof C.default&&e.get("elevate")?this.elevate(e.get("form")):this._addField(e)}},{key:"removeField",value:function(e){var t=this.getField(e);this._fields.delete(e),t.destroy()}},{key:"removeFieldsExcept",value:function(e){var t=this;this._fields.each((function(a,n){void 0!==e&&-1!==e.indexOf(n)||t.removeField(n)}))}},{key:"removeBlankFields",value:function(){var e=this;this._fields.each((function(t,a){t.isBlank()&&e.removeField(a)}))}},{key:"getOne",value:function(e){return"value"===e?this.getValues():(0,d.default)((0,c.default)(t.prototype),"getOne",this).call(this,e)}},{key:"getField",value:function(e){try{return this._fields.get(e)}catch(t){throw new Error("missing field "+e)}}},{key:"hasField",value:function(e){return this._fields.has(e)}},{key:"getValues",value:function(e){var t=this,a={};return e=e||{},this._fields.each((function(n){var r=n.get("name");void 0!==e.in&&e.in!==!!n.get("in")||void 0!==e.out&&e.out!==!!n.get("out")||void 0!==e.blank&&e.blank!==!!n.isBlank()||void 0!==e.default&&e.default!==!!t.isDefaultField(r)||(a[r]=n.get("value"))})),a}},{key:"_validateValuesType",value:function(e){var t=!1;null===e||"object"===(0,l.default)(e)&&!Array.isArray(e)||(t=!0),this._hasTypeError=t}},{key:"setValues",value:function(e){var t=this;this._validateValuesType(e),this._clearExtraErrors(),this._hasTypeError||(null===e?this.clearValues():(0,v.default)(e,(function(e,a){-1===a.indexOf(".")&&(t.hasField(a)?t.getField(a).setValue(e):t.get("reportUndefined")&&t._extraErrors.push({field:a,error:"undefined field"}))})))}},{key:"clearValues",value:function(){this._fields.each((function(e){return e.clearValue()}))}},{key:"clearErrs",value:function(){this.set({err:null}),this._fields.each((function(e){return e.clearErr()}))}},{key:"reset",value:function(){this.clearValues(),this.clearErrs(),this.set({pristine:!0}),this.setTouched(!1)}},{key:"_toValidatorProps",value:function(){return this}},{key:"_validateWithValidators",value:function(){var e=this;if(this._validators&&this._validators.length>0){var t=new y.default(this._toValidatorProps()).validate(this._validators);0!==t.length&&t.forEach((function(t){e.getField(t.field).setErr(t.error)}))}}},{key:"canSubmit",value:function(){return!this.hasErrorForField()&&this.get("dirty")}},{key:"_emitCanOrCannotSubmit",value:function(){var e=this.canSubmit();e&&this._setSubmitDisabled(!1),this.emitChange(e?"canSubmit":"cannotSubmit")}},{key:"validate",value:function(){this.clearErrs(),this._fields.each((function(e){return e.validate()})),this._validateWithValidators(),(this._hasTypeError||this._extraErrors.length>0)&&this.set({err:!0}),this._emitCanOrCannotSubmit()}},{key:"addValidator",value:function(e){this._validators.push(e)}},{key:"setTouched",value:function(e){this.set({touched:e}),this._fields.each((function(t){return t.set({touched:e})}))}},{key:"setRequired",value:function(e){this._fields.each((function(t){return t.set({required:e})}))}},{key:"setDisabled",value:function(e){this._fields.each((function(t){return t.set({disabled:e})}))}},{key:"setEditable",value:function(e){this._fields.each((function(t){return t.set({editable:e})}))}},{key:"setHidden",value:function(e){this._fields.each((function(t){return t.set({hidden:e})}))}},{key:"setOut",value:function(e){this._fields.each((function(t){return t.set({out:e})}))}},{key:"setSnapshot",value:function(e){var t=this;if("restore"===e)this._snapshotFields&&this._snapshotFields.forEach((function(e){t.getField(e.name).set(e)}));else{var a=this.mapFields((function(e){return e.get(["name","hidden","required","out","in"])}));this._snapshotFields=a}}},{key:"setDirty",value:function(e){this.set({dirty:e}),this._fields.each((function(t){return t.set({dirty:e})}))}},{key:"_setFullWidth",value:function(e){this._fields.each((function(t){return t.set({fullWidth:e})}))}},{key:"clone",value:function(){var e=this.mapFields((function(e){return e.clone()})),t={},a=this._canCloneFast();a&&(t={defaultProps:{fields:e},excludeProps:["fields"]});var n=this._clone(t);return a||n.set({fields:e}),n}},{key:"hasSetErrors",value:function(){return this._hasTypeError||this._extraErrors.length>0}},{key:"getErrs",value:function(){var e=[];return this._hasTypeError?e.push({error:"must be an object"}):(this._extraErrors.length>0&&(e=e.concat(this._extraErrors)),this._fields.each((function(t){var a=t.getErr();a&&e.push({field:t.get("name"),error:a})}))),e}},{key:"hasErr",value:function(){return!!this.get("err")}},{key:"hasErrorForTouchedField",value:function(){var e=!1;return this._fields.each((function(t){if(t.get("touched")&&t.getErr())return e=!0,!1})),e}},{key:"hasErrorForField",value:function(){var e=!1;return this._fields.each((function(t){if(t.getErr())return e=!0,!1})),e}},{key:"_getSubmitButton",value:function(){var e=null;return this.eachField((function(t){if(t instanceof k.default&&"submit"===t.get("type"))return e=t,!1})),e}},{key:"_emitClickOnButton",value:function(e){e.emitClick()}},{key:"submit",value:function(){var e=this._getSubmitButton();e&&this._emitClickOnButton(e)}},{key:"getFields",value:r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._fields.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"isBlank",value:function(){var e=!0;return this._fields.each((function(t){if(!t.isBlank())return e=!1,!1})),e}},{key:"eachField",value:function(e){this._fields.each((function(t,a,n){return e(t,a,n)}))}},{key:"mapFields",value:function(e){return this._fields.map((function(t,a,n){return e(t,a,n)}))}},{key:"buildSchemaForm",value:function(e,a){(0,d.default)((0,c.default)(t.prototype),"buildSchemaForm",this).call(this,e,a);var n=e.getField("fields").get("formFactory"),r=n.get("product");n.set({product:function(){var e=r();return e.set({compiler:a}),e}});var l=e.setValues;e.setValues=function(t){var n=[];if(t.fields&&t.fields.forEach((function(e){e.name&&n.push(e.name)})),t.component){var r=a.newComponent({component:t.component});r.eachField((function(e){return n.push(e.get("name"))}))}e.getField("access").getForm().set({fieldNames:n}),l.apply(this,arguments)}}},{key:"getValue",value:function(e){return this.getField(e).getValue()}},{key:"setForEachField",value:function(e){this._fields.each((function(t){return t.set(e)}))}},{key:"setUseDisplayValue",value:function(e){this.setForEachField({useDisplayValue:e})}},{key:"destroy",value:function(){(0,d.default)((0,c.default)(t.prototype),"destroy",this).call(this),this.eachField((function(e){return e.destroy()}))}},{key:"setFieldErr",value:function(e,t){this.getField(e).setErr(t)}},{key:"toErr",value:function(){return new O.default({form:this})}},{key:"setFieldErrAndThrow",value:function(e,t){throw this.setFieldErr(e,t),this.toErr()}}]),t}(p.default);t.default=x},96:function(e,t,a){"use strict";var n=a(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(12)),l=n(a(13)),i=n(a(15)),o=n(a(18)),s=n(a(14)),u=n(a(19)),c=n(a(16)),d=n(a(17)),f=n(a(51)),h=n(a(84)),p=a(782),m=n(a(247)),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),(0,d.default)((0,o.default)(a),"_className","TextField"),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"_setTextFieldSchema",value:function(){this.set({schema:{component:"Form",fields:[{name:"minLength",component:"IntegerField",label:"Min Length",docLevel:"basic"},{name:"maxLength",component:"IntegerField",label:"Max Length",docLevel:"basic"},{name:"minWords",component:"IntegerField",label:"Min Words"},{name:"maxWords",component:"IntegerField",label:"Max Words"},{name:"type",component:"TextField"},{name:"invalidRegExp",component:"TextField",label:"Invalid RegExp",docLevel:"basic",help:"Invalid if this regular expression matches, e.g. /foo/"},{name:"multiline",component:"BooleanField",label:"Multiline",docLevel:"basic"},{name:"rows",component:"IntegerField"},{name:"rowsMax",component:"IntegerField"},{name:"mask",component:"Field"},{name:"unmask",component:"RegExpField"}],hidden:this._hideTextFieldSchema}})}},{key:"_create",value:function(e){(0,u.default)((0,s.default)(t.prototype),"_create",this).call(this,e),this._requireString=!0,this._setTextFieldSchema()}},{key:"_toValidatorProps",value:function(){var e=this;return{get:function(t){switch(t){case"length":return e.get("value").length;case"words":return e.get("value").split(/\s+/).length;default:return e.get(t)}}}}},{key:"validate",value:function(){if((0,u.default)((0,s.default)(t.prototype),"validate",this).call(this),!this.isBlank()){var e=this.getValue();if("string"===typeof e){var a=this.get("minLength"),n=this.get("maxLength"),r=this.get("invalidRegExp");null!==a&&e.length<a?this.setErr("".concat(a," characters or more")):null!==n&&e.length>n?this.setErr("".concat(n," characters or less")):r&&h.default.isRegExpString(r)&&h.default.toRegExp(r).test(e)&&this.setErr("invalid")}else this._requireString&&this.setErr("must be a string")}}},{key:"_stringToArrayMask",value:function(e){return(0,m.default)(e,(function(e){return"."===e?/./:e}))}},{key:"_formatMask",value:function(e){return Array.isArray(e)?e.map((function(e){return e instanceof RegExp||!h.default.isRegExpString(e)?e:h.default.toRegExp(e)})):"string"===typeof e?this._stringToArrayMask(e):e}},{key:"_formatUnmask",value:function(e){return h.default.toRegExp(e)}},{key:"set",value:function(e){var a=Object.assign({},e);void 0!==a.mask&&(a.mask=this._formatMask(a.mask)),void 0!==a.unmask&&(a.unmask=this._formatUnmask(a.unmask)),(0,u.default)((0,s.default)(t.prototype),"set",this).call(this,a)}},{key:"_conformToMask",value:function(e,t){return(0,p.conformToMask)(e,t,{guide:!1}).conformedValue}},{key:"toConformedValue",value:function(e){return this._conformToMask(e,this.get("mask"))}},{key:"getDisplayValue",value:function(){return this.isBlank()||!this.get("mask")?(0,u.default)((0,s.default)(t.prototype),"getDisplayValue",this).call(this):this.toConformedValue(this.getUIValue())}},{key:"toUnmaskedValue",value:function(e){var t=this.get("unmask");return this.isValueBlank(e)||!t?e:e.replace(t,"")}},{key:"fromUIValue",value:function(e){return this.toUnmaskedValue(e)}},{key:"getUIValue",value:function(){return this.isBlank()?"":String(this.get("value"))}},{key:"isValueBlank",value:function(e){return(0,u.default)((0,s.default)(t.prototype),"isValueBlank",this).call(this,e)||""===e}}]),t}(f.default);t.default=v}},[[405,1,2]]]);
//# sourceMappingURL=main.93210ca6.chunk.js.map